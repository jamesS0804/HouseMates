  [1m[35m (245.9ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (80.5ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35m (23.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (23.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20231002202157)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "name" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20231002202157)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (40.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "name" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002202157"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-02 20:43:08.412091"], ["updated_at", "2023-10-02 20:43:08.412091"]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAddresses (20231002204715)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (28.9ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002204715"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddPhoneNumberToUser (20231002205112)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "phone_number" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002205112"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAddressReferenceToUsers (20231002205229)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "address" ADD "users_id" bigint NOT NULL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAddressReferenceToUsers (20231002205229)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "addresses" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002205229"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateHousemateServices (20231002210349)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210349"]]
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateServices (20231002210428)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateServices (20231002210428)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (32.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210428"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSubservices (20231002210615)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (27.1ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210615"]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddPriceColumnToService (20231002210815)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "services" ADD "price" decimal(10,2) NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210815"]]
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSubserviceReferenceToService (20231002211005)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "subservices" ADD "service_id" bigint NOT NULL[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211005"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddHousemateServiceReferenceToHousemate (20231002211137)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "housemate_id" bigint NOT NULL[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddHousemateServiceReferenceToHousemate (20231002211137)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_user_id" ON "housemate_services" ("user_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_4ec638d706"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211137"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSubserviceRefernceToHousemateService (20231002211633)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "subservices" ADD "housemate_service_id" bigint NOT NULL[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211633"]]
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2023-10-03 08:20:12 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 500 Internal Server Error in 399ms (ActiveRecord: 10.8ms | Allocations: 17653)


  
NoMethodError (undefined method `jti=' for #<User id: nil, email: "yeyekip892@fesgrid.com", name: "", created_at: "2023-10-03 00:20:13.197848000 +0000", updated_at: "2023-10-03 00:20:13.197848000 +0000", phone_number: nil>):
  
app/controllers/users/registrations_controller.rb:8:in `create'
Started POST "/signup" for ::1 at 2023-10-03 08:24:07 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"name"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"name"}}}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 500 Internal Server Error in 464ms (ActiveRecord: 12.3ms | Allocations: 6438)


  
NoMethodError (undefined method `jti=' for #<User id: nil, email: "yeyekip892@fesgrid.com", name: "name", created_at: "2023-10-03 00:24:08.566215000 +0000", updated_at: "2023-10-03 00:24:08.566215000 +0000", phone_number: nil>):
  
app/controllers/users/registrations_controller.rb:8:in `create'
Started POST "/signup" for ::1 at 2023-10-03 08:27:00 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"name"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"name"}}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 500 Internal Server Error in 320ms (ActiveRecord: 1.8ms | Allocations: 2555)


  
NoMethodError (undefined method `jti=' for #<User id: nil, email: "yeyekip892@fesgrid.com", name: "name", created_at: "2023-10-03 00:27:00.440340000 +0000", updated_at: "2023-10-03 00:27:00.440340000 +0000", phone_number: nil>):
  
app/controllers/users/registrations_controller.rb:8:in `create'
Started POST "/signup" for ::1 at 2023-10-03 08:28:52 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}}}
[31mUnpermitted parameter: :phone_number. Context: { controller: Users::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f6b24480008>, params: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}, "controller"=>"users/registrations", "action"=>"create", "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}}} }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 500 Internal Server Error in 314ms (ActiveRecord: 1.4ms | Allocations: 2654)


  
NoMethodError (undefined method `jti=' for #<User id: nil, email: "yeyekip892@fesgrid.com", name: "test_name", created_at: "2023-10-03 00:28:52.410983000 +0000", updated_at: "2023-10-03 00:28:52.410983000 +0000", phone_number: nil>):
  
app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddJtiToUsers (20231003003103)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD "jti" character varying NOT NULL[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003003103"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2023-10-03 08:31:25 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}}}
[31mUnpermitted parameter: :phone_number. Context: { controller: Users::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f5abefd60e0>, params: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}, "controller"=>"users/registrations", "action"=>"create", "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}}} }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "yeyekip892@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", "test_name"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 00:31:25.980787"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 00:31:25.980574"], ["updated_at", "2023-10-03 00:31:25.980574"], ["phone_number", nil], ["jti", "9c5ae831-0a47-4bf4-9539-623a3ea336f0"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 500 Internal Server Error in 400ms (ActiveRecord: 13.0ms | Allocations: 16642)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "phone_number" of relation "users" violates not-null constraint
DETAIL:  Failing row contains (1, yeyekip892@fesgrid.com, $2a$12$7xtKPyC5UDLa1ZSe5NotmOQ0fXRcqMzvO1HpqRDDY3LH6n0MP7pVS, test_name, null, X9RafVRzsbDbN8gLtHDc, null, 2023-10-03 00:31:25.980787, null, 2023-10-03 00:31:25.980574, 2023-10-03 00:31:25.980574, null, 9c5ae831-0a47-4bf4-9539-623a3ea336f0).
):
  
app/controllers/users/registrations_controller.rb:8:in `create'
Started POST "/signup" for ::1 at 2023-10-03 08:32:21 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}}}
[31mUnpermitted parameter: :phone_number. Context: { controller: Users::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f5abce98220>, params: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}, "controller"=>"users/registrations", "action"=>"create", "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}}} }[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (4.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "yeyekip892@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", "test_name"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 00:32:21.550612"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 00:32:21.550492"], ["updated_at", "2023-10-03 00:32:21.550492"], ["phone_number", nil], ["jti", "ef5917d1-c0b8-4502-822f-05d509b81635"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 500 Internal Server Error in 301ms (ActiveRecord: 6.5ms | Allocations: 3430)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "phone_number" of relation "users" violates not-null constraint
DETAIL:  Failing row contains (2, yeyekip892@fesgrid.com, $2a$12$ww34AoVSS4APdG4QJ3OoiOgWV4mbY.MA76nbQUDAMh/LNXCJoOm/2, test_name, null, 88XEh7eTBRqxmGBnbyCd, null, 2023-10-03 00:32:21.550612, null, 2023-10-03 00:32:21.550492, 2023-10-03 00:32:21.550492, null, ef5917d1-c0b8-4502-822f-05d509b81635).
):
  
app/controllers/users/registrations_controller.rb:8:in `create'
Started POST "/signup" for ::1 at 2023-10-03 08:32:26 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}}}
[31mUnpermitted parameter: :phone_number. Context: { controller: Users::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f5abd08cef0>, params: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}, "controller"=>"users/registrations", "action"=>"create", "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"09123456789"}}} }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "yeyekip892@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", "test_name"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 00:32:26.990075"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 00:32:26.989958"], ["updated_at", "2023-10-03 00:32:26.989958"], ["phone_number", nil], ["jti", "3dae23cc-1111-419c-be79-a68bc28b0b7d"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 500 Internal Server Error in 282ms (ActiveRecord: 3.7ms | Allocations: 3424)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "phone_number" of relation "users" violates not-null constraint
DETAIL:  Failing row contains (3, yeyekip892@fesgrid.com, $2a$12$PVw3hTcXf/FsgPeG57DxRe7Ta1afFq7hy.aC22H/PJhrJGO3I0OzC, test_name, null, g7qkpGa2mheqPBi2fS7y, null, 2023-10-03 00:32:26.990075, null, 2023-10-03 00:32:26.989958, 2023-10-03 00:32:26.989958, null, 3dae23cc-1111-419c-be79-a68bc28b0b7d).
):
  
app/controllers/users/registrations_controller.rb:8:in `create'
Started POST "/signup" for ::1 at 2023-10-03 08:33:02 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"aaa"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"aaa"}}}
[31mUnpermitted parameter: :phone_number. Context: { controller: Users::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f5abefc2950>, params: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"aaa"}, "controller"=>"users/registrations", "action"=>"create", "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "name"=>"test_name", "phone_number"=>"aaa"}}} }[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "yeyekip892@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", "test_name"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 00:33:03.082760"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 00:33:03.082625"], ["updated_at", "2023-10-03 00:33:03.082625"], ["phone_number", nil], ["jti", "4fbecca1-a38a-4441-ba23-a03ea659fe38"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 500 Internal Server Error in 285ms (ActiveRecord: 2.7ms | Allocations: 3424)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "phone_number" of relation "users" violates not-null constraint
DETAIL:  Failing row contains (4, yeyekip892@fesgrid.com, $2a$12$896BiVVqiug/8nOR24x.eu85ukg2hGz3rUICXaSLijP78VHFtKRhW, test_name, null, z3a1UFbyTDTr-V1pxbyV, null, 2023-10-03 00:33:03.08276, null, 2023-10-03 00:33:03.082625, 2023-10-03 00:33:03.082625, null, 4fbecca1-a38a-4441-ba23-a03ea659fe38).
):
  
app/controllers/users/registrations_controller.rb:8:in `create'
Started POST "/signup" for ::1 at 2023-10-03 08:33:42 +0800
Error occurred while parsing request parameters.
Contents:

{
  "user": {
    "email": "yeyekip892@fesgrid.com",
    "password": "password",
    "phone_number": "09123456789",
    "name": "test_name",
  }
}
Processing by Users::RegistrationsController#create as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 146)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/users/registrations_controller.rb:26:in `sign_up_params'
app/controllers/users/registrations_controller.rb:6:in `create'
Started POST "/signup" for ::1 at 2023-10-03 08:33:49 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "phone_number"=>"09123456789", "name"=>"test_name"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "phone_number"=>"09123456789", "name"=>"test_name"}}}
[31mUnpermitted parameter: :phone_number. Context: { controller: Users::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f5abcd23d40>, params: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "phone_number"=>"09123456789", "name"=>"test_name"}, "controller"=>"users/registrations", "action"=>"create", "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "phone_number"=>"09123456789", "name"=>"test_name"}}} }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "yeyekip892@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", "test_name"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 00:33:49.361113"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 00:33:49.360992"], ["updated_at", "2023-10-03 00:33:49.360992"], ["phone_number", nil], ["jti", "86170b7d-beb5-42c7-a19f-8d74dba6bd5c"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 500 Internal Server Error in 281ms (ActiveRecord: 2.6ms | Allocations: 3423)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "phone_number" of relation "users" violates not-null constraint
DETAIL:  Failing row contains (5, yeyekip892@fesgrid.com, $2a$12$XYItUn3hv4JVPiipSiTqF.CEqAIwE9zb5BR99mXKOaEvXklCikJ.a, test_name, null, BGz88XfWpwAKTa7fTmgF, null, 2023-10-03 00:33:49.361113, null, 2023-10-03 00:33:49.360992, 2023-10-03 00:33:49.360992, null, 86170b7d-beb5-42c7-a19f-8d74dba6bd5c).
):
  
app/controllers/users/registrations_controller.rb:8:in `create'
Started POST "/signup" for ::1 at 2023-10-03 08:35:49 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "phone_number"=>"09123456789", "name"=>"test_name"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]", "phone_number"=>"09123456789", "name"=>"test_name"}}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "yeyekip892@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", "test_name"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 00:35:49.625296"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 00:35:49.625076"], ["updated_at", "2023-10-03 00:35:49.625076"], ["phone_number", "09123456789"], ["jti", "363092c8-4a4a-4378-9897-0a2289c1f903"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 5.4ms | Allocations: 1194)
Devise::Mailer#confirmation_instructions: processed outbound mail in 86.6ms
Delivered mail 651b61e5cfbf3_276072a08-4e6@DESKTOP-MORCCU3.mail (4233.8ms)
Date: Tue, 03 Oct 2023 08:35:49 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: yeyekip892@fesgrid.com
Message-ID: <651b61e5cfbf3_276072a08-4e6@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome yeyekip892@fesgrid.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=AWAQtMPfstPHVt1oT9rP">Confirm my account</a></p>

Completed 200 OK in 4750ms (Views: 0.3ms | ActiveRecord: 13.4ms | Allocations: 43717)


Started GET "/confirmation?confirmation_token=[FILTERED]" for ::1 at 2023-10-03 08:36:34 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-10-03 00:36:34.496091"], ["updated_at", "2023-10-03 00:36:34.496516"], ["id", 6]]
  [1m[36mTRANSACTION (16.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 65ms (Views: 0.3ms | ActiveRecord: 20.1ms | Allocations: 5342)


Started GET "/favicon.ico" for ::1 at 2023-10-03 08:36:35 +0800
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/login" for 127.0.0.1 at 2023-10-03 08:37:17 +0800
Error occurred while parsing request parameters.
Contents:

{
  "user": {
    "email": "yeyekip892@fesgrid.com",
    "password": "password",
  }
}
Processing by Users::SessionsController#create as */*
Error occurred while parsing request parameters.
Contents:

{
  "user": {
    "email": "yeyekip892@fesgrid.com",
    "password": "password",
  }
}
Completed 400 Bad Request in 4ms (ActiveRecord: 0.0ms | Allocations: 529)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
actionpack (7.0.8) lib/action_dispatch/http/parameters.rb:96:in `rescue in parse_formatted_parameters'
actionpack (7.0.8) lib/action_dispatch/http/parameters.rb:92:in `parse_formatted_parameters'
actionpack (7.0.8) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.8) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.8) lib/action_dispatch/http/parameters.rb:55:in `parameters'
warden (1.2.9) lib/warden/mixins/common.rb:33:in `params'
devise (4.9.2) lib/devise/strategies/authenticatable.rb:94:in `params_auth_hash'
devise (4.9.2) lib/devise/strategies/authenticatable.rb:110:in `valid_params?'
devise (4.9.2) lib/devise/strategies/authenticatable.rb:79:in `valid_for_params_auth?'
devise (4.9.2) lib/devise/strategies/authenticatable.rb:18:in `valid?'
warden (1.2.9) lib/warden/proxy.rb:367:in `block in _run_strategies_for'
warden (1.2.9) lib/warden/proxy.rb:365:in `each'
warden (1.2.9) lib/warden/proxy.rb:365:in `_run_strategies_for'
warden (1.2.9) lib/warden/proxy.rb:335:in `_perform_authentication'
warden (1.2.9) lib/warden/proxy.rb:133:in `authenticate!'
devise (4.9.2) app/controllers/devise/sessions_controller.rb:19:in `create'
actionpack (7.0.8) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.8) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (2.2.8) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/login" for 127.0.0.1 at 2023-10-03 08:37:26 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
Completed 200 OK in 307ms (Views: 0.2ms | ActiveRecord: 5.2ms | Allocations: 2196)


Started DELETE "/logout" for 127.0.0.1 at 2023-10-03 08:37:41 +0800
Processing by Users::SessionsController#destroy as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.4ms | Allocations: 2323)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/users/sessions_controller.rb:17:in `respond_to_on_destroy'
Started POST "/login" for 127.0.0.1 at 2023-10-03 08:37:54 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 1744)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemovePhoneNumberNotNullConstraintInUser (20231003005947)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "phone_number" TYPE character varying, ALTER COLUMN "phone_number" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003005947"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddVerifiedColumnToUser (20231003010147)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "isVerified" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (3.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003010147"]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNameNotNullConstraintInUser (20231003010333)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "name" TYPE character varying, ALTER COLUMN "name" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003010333"]]
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2023-10-03 09:04:18 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Error occurred while parsing request parameters.
Contents:

{
  "user": {
    "email": "yeyekip892@fesgrid.com",
    "password": "password",
  }
}
Processing by Users::RegistrationsController#create as */*
Completed 400 Bad Request in 22ms (ActiveRecord: 0.0ms | Allocations: 2904)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/users/registrations_controller.rb:26:in `sign_up_params'
app/controllers/users/registrations_controller.rb:6:in `create'
Started POST "/signup" for ::1 at 2023-10-03 09:04:22 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 422 Unprocessable Entity in 339ms (Views: 0.6ms | ActiveRecord: 9.1ms | Allocations: 14575)


  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (1.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 6]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/signup" for ::1 at 2023-10-03 09:05:06 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "yeyekip892@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 01:05:07.238438"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 01:05:07.238173"], ["updated_at", "2023-10-03 01:05:07.238173"], ["phone_number", nil], ["jti", "9458f493-b95a-4c86-861a-85702f07dc8c"], ["isVerified", false]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 3.3ms | Allocations: 892)
Devise::Mailer#confirmation_instructions: processed outbound mail in 36.7ms
Delivered mail 651b68c356e27_2a6422a1c716a2@DESKTOP-MORCCU3.mail (4711.4ms)
Date: Tue, 03 Oct 2023 09:05:07 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: yeyekip892@fesgrid.com
Message-ID: <651b68c356e27_2a6422a1c716a2@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome yeyekip892@fesgrid.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=Lz9pN3cskDxfgBdaKnBp">Confirm my account</a></p>

Completed 200 OK in 5162ms (Views: 0.5ms | ActiveRecord: 18.6ms | Allocations: 34919)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddTypeColumnToUser (20231003035653)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "users" ADD "type" character varying NOT NULL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (2.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 7]]
  [1m[36mTRANSACTION (37.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddTypeColumnToUser (20231003035653)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD "type" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003035653"]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateHomeowners (20231003040035)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (30.6ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003040035"]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHousemates (20231003040322)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.7ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003040322"]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ho@test.com"], ["LIMIT", 1]]
  [1m[36mHomeowner Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "ho@test.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 04:14:17.180649"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 04:14:17.180388"], ["updated_at", "2023-10-03 04:14:17.180388"], ["phone_number", nil], ["jti", "b4816208-7a7f-49c5-883e-971e5e8aa88a"], ["isVerified", false], ["type", "Homeowner"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 4.4ms | Allocations: 895)
Devise::Mailer#confirmation_instructions: processed outbound mail in 38.7ms
Delivered mail 651b951963521_374d4b54546a6@DESKTOP-MORCCU3.mail (3716.2ms)
Date: Tue, 03 Oct 2023 12:14:17 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: ho@test.com
Message-ID: <651b951963521_374d4b54546a6@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome ho@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=5tJk3gUBsfiE_yZZcxxD">Confirm my account</a></p>

  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hm@test.com"], ["LIMIT", 1]]
  [1m[36mHousemate Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "hm@test.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 04:14:48.707845"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 04:14:48.707708"], ["updated_at", "2023-10-03 04:14:48.707708"], ["phone_number", nil], ["jti", "9604974b-c64b-4368-8abd-af441d381ccd"], ["isVerified", false], ["type", "Housemate"]]
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 0.5ms | Allocations: 80)
Devise::Mailer#confirmation_instructions: processed outbound mail in 3.6ms
Delivered mail 651b9538aff2e_374d4b54547ea@DESKTOP-MORCCU3.mail (3575.3ms)
Date: Tue, 03 Oct 2023 12:14:48 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: hm@test.com
Message-ID: <651b9538aff2e_374d4b54547ea@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome hm@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=6ignHfQe5T9s5ymTTnAs">Confirm my account</a></p>

  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mHomeowner Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Homeowner"]]
Started POST "/homeowner/create" for ::1 at 2023-10-03 15:07:35 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/homeowner/create"):
  
Started POST "/homeowner/create" for ::1 at 2023-10-03 15:08:39 +0800
  
ActionController::RoutingError (uninitialized constant HomeownerController):
  
Started POST "/homeowner/create" for ::1 at 2023-10-03 15:09:04 +0800
  
ActionController::RoutingError (uninitialized constant HomeownerController):
  
Started POST "/homeowner/create" for ::1 at 2023-10-03 15:09:07 +0800
  
ActionController::RoutingError (uninitialized constant HomeownerController):
  
Started POST "/homeowner/create" for ::1 at 2023-10-03 15:09:29 +0800
Processing by HomeownerController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
Completed 400 Bad Request in 21ms (ActiveRecord: 4.6ms | Allocations: 2795)


  
ActionController::ParameterMissing (param is missing or the value is empty: homeowner):
  
app/controllers/homeowner_controller.rb:14:in `homeowner_params'
app/controllers/homeowner_controller.rb:3:in `create'
Started POST "/homeowner/create" for ::1 at 2023-10-03 15:10:45 +0800
Processing by HomeownerController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 2.3ms | Allocations: 171)


  
ActionController::ParameterMissing (param is missing or the value is empty: homeowner):
  
app/controllers/homeowner_controller.rb:14:in `homeowner_params'
app/controllers/homeowner_controller.rb:3:in `create'
Started POST "/homeowner/create" for ::1 at 2023-10-03 15:10:47 +0800
Processing by HomeownerController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 124)


  
ActionController::ParameterMissing (param is missing or the value is empty: homeowner):
  
app/controllers/homeowner_controller.rb:14:in `homeowner_params'
app/controllers/homeowner_controller.rb:3:in `create'
Started POST "/homeowner/create" for ::1 at 2023-10-03 15:12:15 +0800
Processing by HomeownerController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 2.0ms | Allocations: 170)


  
ActionController::ParameterMissing (param is missing or the value is empty: homeowner):
  
app/controllers/homeowner_controller.rb:14:in `homeowner_params'
app/controllers/homeowner_controller.rb:3:in `create'
Started POST "/homeowner/create" for ::1 at 2023-10-03 15:12:17 +0800
Processing by HomeownerController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 123)


  
ActionController::ParameterMissing (param is missing or the value is empty: homeowner):
  
app/controllers/homeowner_controller.rb:14:in `homeowner_params'
app/controllers/homeowner_controller.rb:3:in `create'
Started POST "/homeowner/create" for ::1 at 2023-10-03 15:13:58 +0800
Processing by HomeownerController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/homeowner_controller.rb:3:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/homeowner_controller.rb:3:in `create'
  [1m[36mHomeowner Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "yeyekip892@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 07:13:58.900572"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 07:13:58.900206"], ["updated_at", "2023-10-03 07:13:58.900206"], ["phone_number", nil], ["jti", "fd045e13-cede-4808-adc4-08ab5559af3e"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/homeowner_controller.rb:3:in `create'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/homeowner_controller.rb:3:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 10.8ms | Allocations: 889)
Devise::Mailer#confirmation_instructions: processed outbound mail in 42.7ms
Delivered mail 651bbf378c6d_435c62a1c11830@DESKTOP-MORCCU3.mail (3481.9ms)
Date: Tue, 03 Oct 2023 15:13:59 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: yeyekip892@fesgrid.com
Message-ID: <651bbf378c6d_435c62a1c11830@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome yeyekip892@fesgrid.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=fAs8xbXmEd5VuZuAVAix">Confirm my account</a></p>

Completed 201 Created in 3984ms (Views: 0.8ms | ActiveRecord: 14.0ms | Allocations: 34868)


Started POST "/homeowner/create" for ::1 at 2023-10-03 15:14:58 +0800
Processing by HomeownerController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8922@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/homeowner_controller.rb:3:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip8922@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/homeowner_controller.rb:3:in `create'
  [1m[36mHomeowner Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "yeyekip8922@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 07:14:58.528932"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 07:14:58.528462"], ["updated_at", "2023-10-03 07:14:58.528462"], ["phone_number", nil], ["jti", "fd54e5f0-304e-4c58-b07b-d74ddcff12da"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/homeowner_controller.rb:3:in `create'
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/homeowner_controller.rb:3:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 0.5ms | Allocations: 109)
Devise::Mailer#confirmation_instructions: processed outbound mail in 4.1ms
Delivered mail 651bbf7287ae7_435c629f411921@DESKTOP-MORCCU3.mail (3552.7ms)
Date: Tue, 03 Oct 2023 15:14:58 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: yeyekip8922@fesgrid.com
Message-ID: <651bbf7287ae7_435c629f411921@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome yeyekip8922@fesgrid.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=zswKz9HxsF9JrWt1JLQ7">Confirm my account</a></p>

Completed 200 OK in 3894ms (Views: 0.6ms | ActiveRecord: 16.7ms | Allocations: 13997)


Started POST "/homeowner/create" for ::1 at 2023-10-03 15:18:40 +0800
  
ActionController::RoutingError (No route matches [POST] "/homeowner/create"):
  
Started POST "/homeowner/create" for ::1 at 2023-10-03 15:20:59 +0800
  
ActionController::RoutingError (No route matches [POST] "/homeowner/create"):
  
Started POST "/homeowner" for ::1 at 2023-10-03 15:22:32 +0800
  
ActionController::RoutingError (No route matches [POST] "/homeowner"):
  
Started POST "/api/v1homeowner/create" for ::1 at 2023-10-03 15:22:50 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1homeowner/create"):
  
Started POST "/api/v1homeowner" for ::1 at 2023-10-03 15:22:55 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1homeowner"):
  
Started POST "/api/v1homeowner" for ::1 at 2023-10-03 15:24:51 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1homeowner"):
  
Started POST "/api/v1homeowner" for ::1 at 2023-10-03 15:24:53 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1homeowner"):
  
Started POST "/api/v1homeowner" for ::1 at 2023-10-03 15:24:54 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1homeowner"):
  
Started POST "/api/v1homeowner/create" for ::1 at 2023-10-03 15:24:59 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1homeowner/create"):
  
Started POST "/api/v1homeowner/" for ::1 at 2023-10-03 15:25:07 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1homeowner"):
  
Started POST "/api/v1homeowner" for ::1 at 2023-10-03 15:25:10 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1homeowner"):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 15:25:22 +0800
  
Zeitwerk::NameError (expected file /home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/homeowner_controller.rb to define constant Api::V1::HomeownerController, but didn't):
  
zeitwerk (2.6.12) lib/zeitwerk/loader/callbacks.rb:33:in `on_file_autoloaded'
zeitwerk (2.6.12) lib/zeitwerk/kernel.rb:31:in `require'
activesupport (7.0.8) lib/active_support/inflector/methods.rb:278:in `const_get'
activesupport (7.0.8) lib/active_support/inflector/methods.rb:278:in `constantize'
activesupport (7.0.8) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.0.8) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:95:in `action_encoding_template'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:83:in `encode'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.0.8) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (2.2.8) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/api/v1/homeowner/create" for ::1 at 2023-10-03 15:25:34 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/homeowner/create"):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 15:25:40 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 15:25:45 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 15:28:51 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 15:30:16 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 15:30:17 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 15:30:29 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@a.com"], ["LIMIT", 1]]
  [1m[36mHomeowner Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "a@a.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 07:31:06.055074"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 07:31:06.054785"], ["updated_at", "2023-10-03 07:31:06.054785"], ["phone_number", nil], ["jti", "79eb683d-917b-4d1b-ad4d-d53f1b7fd3bc"], ["isVerified", false], ["type", "Homeowner"]]
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 4.4ms | Allocations: 895)
Devise::Mailer#confirmation_instructions: processed outbound mail in 45.3ms
Delivered mail 651bc33a5624a_45529b54-4cd@DESKTOP-MORCCU3.mail (3167.2ms)
Date: Tue, 03 Oct 2023 15:31:06 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: a@a.com
Message-ID: <651bc33a5624a_45529b54-4cd@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome a@a.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=xJi2PcybdyJhVbXyNcYV">Confirm my account</a></p>

  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (74.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (117.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (98.1ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (257.2ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (29.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (23.6ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_user_id" ON "housemate_services" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (25.0ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (25.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (25.2ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint NOT NULL)[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (25.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "name" character varying DEFAULT '', "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "phone_number" character varying, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (6.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.3ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_4ec638d706"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.5ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (6.1ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (24.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231003040322)[0m
  [1m[35m (5.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035);

[0m
  [1m[35m (25.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-03 07:57:55.088773"], ["updated_at", "2023-10-03 07:57:55.088773"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "055505f515b1b0966a0dbd3d734f3be39e5d8307"], ["created_at", "2023-10-03 07:57:55.106440"], ["updated_at", "2023-10-03 07:57:55.106440"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (29.2ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (25.4ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_user_id" ON "housemate_services" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (26.1ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (24.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (24.3ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint NOT NULL)[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (24.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "name" character varying DEFAULT '', "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "phone_number" character varying, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (5.9ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.5ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_4ec638d706"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.3ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (5.8ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (24.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231003040322)[0m
  [1m[35m (4.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035);

[0m
  [1m[35m (24.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-03 07:57:55.553869"], ["updated_at", "2023-10-03 07:57:55.553869"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.9ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-03 07:57:55.569307"], ["key", "environment"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "055505f515b1b0966a0dbd3d734f3be39e5d8307"], ["created_at", "2023-10-03 07:57:55.584018"], ["updated_at", "2023-10-03 07:57:55.584018"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateApiV1Homeowners (20231003075859)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.2ms)[0m  [1m[35mCREATE TABLE "api_v1_homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003075859"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DropApiV1Homeowners (20231003080222)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003080222"]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DropApiV1Homeowners (20231003080222)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (1.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231003080222"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DropApiV1Homeowners (20231003080222)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003080222"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DropApiV1Homeowners (20231003080222)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231003080222"]]
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DropApiV1Homeowners (20231003080222)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003080222"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DropApiV1HomeownersTable (20231003080449)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003080449"]]
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DropApiV1HomeownersTable (20231003080449)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (1.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231003080449"]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DropApiV1Homeowners (20231003080222)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (2.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231003080222"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (79.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (89.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (63.0ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (89.7ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35m (25.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (27.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20231002202157)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (22.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "name" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002202157"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAddresses (20231002204715)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (26.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002204715"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPhoneNumberToUser (20231002205112)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "phone_number" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002205112"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAddressReferenceToUsers (20231002205229)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "addresses" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002205229"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHousemateServices (20231002210349)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210349"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateServices (20231002210428)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (34.6ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210428"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSubservices (20231002210615)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.0ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210615"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPriceColumnToService (20231002210815)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "services" ADD "price" decimal(10,2) NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210815"]]
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSubserviceReferenceToService (20231002211005)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "subservices" ADD "service_id" bigint NOT NULL[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211005"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHousemateServiceReferenceToHousemate (20231002211137)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_user_id" ON "housemate_services" ("user_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_4ec638d706"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211137"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSubserviceRefernceToHousemateService (20231002211633)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "subservices" ADD "housemate_service_id" bigint NOT NULL[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211633"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddJtiToUsers (20231003003103)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "jti" character varying NOT NULL[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003003103"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemovePhoneNumberNotNullConstraintInUser (20231003005947)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "phone_number" TYPE character varying, ALTER COLUMN "phone_number" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003005947"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVerifiedColumnToUser (20231003010147)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "isVerified" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003010147"]]
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNameNotNullConstraintInUser (20231003010333)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "name" TYPE character varying, ALTER COLUMN "name" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003010333"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-03 08:07:08.313735"], ["updated_at", "2023-10-03 08:07:08.313735"]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (216.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (89.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (153.3ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (70.4ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35m (27.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (22.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20231002202157)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "name" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002202157"]]
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAddresses (20231002204715)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.8ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002204715"]]
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPhoneNumberToUser (20231002205112)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "phone_number" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002205112"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAddressReferenceToUsers (20231002205229)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "addresses" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002205229"]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHousemateServices (20231002210349)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210349"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateServices (20231002210428)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (23.6ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210428"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSubservices (20231002210615)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (23.0ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210615"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPriceColumnToService (20231002210815)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "services" ADD "price" decimal(10,2) NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210815"]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSubserviceReferenceToService (20231002211005)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "subservices" ADD "service_id" bigint NOT NULL[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211005"]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHousemateServiceReferenceToHousemate (20231002211137)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_user_id" ON "housemate_services" ("user_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_4ec638d706"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211137"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSubserviceRefernceToHousemateService (20231002211633)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "subservices" ADD "housemate_service_id" bigint NOT NULL[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211633"]]
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddJtiToUsers (20231003003103)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "jti" character varying NOT NULL[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003003103"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemovePhoneNumberNotNullConstraintInUser (20231003005947)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "phone_number" TYPE character varying, ALTER COLUMN "phone_number" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003005947"]]
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVerifiedColumnToUser (20231003010147)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "isVerified" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003010147"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNameNotNullConstraintInUser (20231003010333)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "name" TYPE character varying, ALTER COLUMN "name" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003010333"]]
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeColumnToUser (20231003035653)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "type" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003035653"]]
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHomeowners (20231003040035)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.8ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003040035"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHousemates (20231003040322)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003040322"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-03 08:07:57.814615"], ["updated_at", "2023-10-03 08:07:57.814615"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@a.com"], ["LIMIT", 1]]
  [1m[36mHomeowner Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "a@a.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 08:10:20.074190"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 08:10:20.073997"], ["updated_at", "2023-10-03 08:10:20.073997"], ["phone_number", nil], ["jti", "c5d5746a-5ee1-4eef-b7ce-a67abd7f449b"], ["isVerified", false], ["type", "Homeowner"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 3.6ms | Allocations: 935)
Devise::Mailer#confirmation_instructions: processed outbound mail in 39.4ms
Delivered mail 651bcc6c4918e_4a083b54712a7@DESKTOP-MORCCU3.mail (2975.2ms)
Date: Tue, 03 Oct 2023 16:10:20 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: a@a.com
Message-ID: <651bcc6c4918e_4a083b54712a7@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome a@a.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=UWNBdJWNx9wmHQ3hxRbs">Confirm my account</a></p>

Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 16:11:39 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 16:13:21 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 16:13:22 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 16:13:51 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/homeowner"):
  
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:13:59 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/homeowners"):
  
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:14:09 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/homeowners"):
  
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:14:12 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/homeowners"):
  
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:15:11 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
Zeitwerk::NameError (expected file /home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/homeowners_controller.rb to define constant Api::V1::HomeownersController, but didn't):
  
zeitwerk (2.6.12) lib/zeitwerk/loader/callbacks.rb:33:in `on_file_autoloaded'
zeitwerk (2.6.12) lib/zeitwerk/kernel.rb:31:in `require'
activesupport (7.0.8) lib/active_support/inflector/methods.rb:278:in `const_get'
activesupport (7.0.8) lib/active_support/inflector/methods.rb:278:in `constantize'
activesupport (7.0.8) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.0.8) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:95:in `action_encoding_template'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:83:in `encode'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.0.8) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (2.2.8) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:17:02 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownersController):
  
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:17:26 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
Zeitwerk::NameError (expected file /home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/homeowners_controller.rb to define constant Api::V1::HomeownersController, but didn't):
  
zeitwerk (2.6.12) lib/zeitwerk/loader/callbacks.rb:33:in `on_file_autoloaded'
zeitwerk (2.6.12) lib/zeitwerk/kernel.rb:31:in `require'
activesupport (7.0.8) lib/active_support/inflector/methods.rb:278:in `const_get'
activesupport (7.0.8) lib/active_support/inflector/methods.rb:278:in `constantize'
activesupport (7.0.8) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.0.8) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:95:in `action_encoding_template'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:83:in `encode'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.0.8) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (2.2.8) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:17:38 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownersController):
  
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:17:49 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/homeowners"):
  
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:17:51 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/homeowners"):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 16:17:56 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 16:19:22 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 16:19:24 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
Started POST "/api/v1/homeowner" for ::1 at 2023-10-03 16:19:25 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::HomeownerController):
  
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:19:28 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/homeowners"):
  
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:19:34 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip89232@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:3:in `create'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip89232@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:3:in `create'
  [1m[36mHomeowner Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "yeyekip89232@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 08:19:34.807312"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 08:19:34.807057"], ["updated_at", "2023-10-03 08:19:34.807057"], ["phone_number", nil], ["jti", "030b1ec2-ff03-4824-96f4-99c47bb1a798"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:3:in `create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:3:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 5.0ms | Allocations: 931)
Devise::Mailer#confirmation_instructions: processed outbound mail in 40.4ms
Delivered mail 651bce96e02d7_4b1402a08969a9@DESKTOP-MORCCU3.mail (2470.4ms)
Date: Tue, 03 Oct 2023 16:19:34 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: yeyekip89232@fesgrid.com
Message-ID: <651bce96e02d7_4b1402a08969a9@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome yeyekip89232@fesgrid.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=L8qMR7qadR1HV2wTiZ1y">Confirm my account</a></p>

Completed 200 OK in 2918ms (Views: 0.9ms | ActiveRecord: 13.2ms | Allocations: 38170)


Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:21:22 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip89232@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:3:in `create'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip89232@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:3:in `create'
Completed 200 OK in 382ms (Views: 0.9ms | ActiveRecord: 8.7ms | Allocations: 18757)


Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:21:32 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892323@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:3:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892323@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:3:in `create'
  [1m[36mHomeowner Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "yeyekip892323@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 08:21:32.437175"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 08:21:32.436968"], ["updated_at", "2023-10-03 08:21:32.436968"], ["phone_number", nil], ["jti", "9755cb1f-1563-49a3-ac0c-c9f267b590a9"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:3:in `create'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:3:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 8.7ms | Allocations: 927)
Devise::Mailer#confirmation_instructions: processed outbound mail in 43.2ms
Delivered mail 651bcf0c87515_4b4762a30-55@DESKTOP-MORCCU3.mail (2958.7ms)
Date: Tue, 03 Oct 2023 16:21:32 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: yeyekip892323@fesgrid.com
Message-ID: <651bcf0c87515_4b4762a30-55@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome yeyekip892323@fesgrid.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=eH15Zq17ML_i9bF511iC">Confirm my account</a></p>

Completed 200 OK in 3363ms (Views: 0.8ms | ActiveRecord: 8.8ms | Allocations: 22068)


Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:22:34 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/homeowners_controller.rb:2: class/module name must be CONSTANT
        class HomeownersController < Appli...
           ^~
):
  
app/controllers/api/v1/homeowners_controller.rb:2: class/module name must be CONSTANT
app/controllers/api/v1/homeowners_controller.rb:2: class/module name must be CONSTANT
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:23:01 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892323@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip892323@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Completed 200 OK in 515ms (Views: 0.8ms | ActiveRecord: 13.0ms | Allocations: 18733)


Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:23:08 +0800
  
Zeitwerk::NameError (expected file /home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/homeowners_controller.rb to define constant Api::V1::HomeownersController, but didn't):
  
zeitwerk (2.6.12) lib/zeitwerk/loader/callbacks.rb:33:in `on_file_autoloaded'
zeitwerk (2.6.12) lib/zeitwerk/kernel.rb:31:in `require'
activesupport (7.0.8) lib/active_support/inflector/methods.rb:278:in `const_get'
activesupport (7.0.8) lib/active_support/inflector/methods.rb:278:in `constantize'
activesupport (7.0.8) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.0.8) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:95:in `action_encoding_template'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:83:in `encode'
actionpack (7.0.8) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.0.8) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (2.2.8) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:24:56 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip892323@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{"user"=>{"email"=>"yeyekip892323@fesgrid.com", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms | Allocations: 2811)


  
NameError (uninitialized constant Api::V1::HomeownersController::Homeowner):
  
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:25:10 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 110)


  
NameError (uninitialized constant Api::V1::HomeownersController::Homeowner):
  
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:25:45 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 152)


  
NameError (uninitialized constant Api::V1::Homeowner):
  
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:25:54 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/homeowners_controller.rb:5: syntax error, unexpected ':', expecting `end' or dummy end
...            homeowner = Api:V1:Homeowner.create(homeowner_pa...
...                              ^
):
  
app/controllers/api/v1/homeowners_controller.rb:5: syntax error, unexpected ':', expecting `end' or dummy end
app/controllers/api/v1/homeowners_controller.rb:5: syntax error, unexpected ':', expecting `end' or dummy end
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:26:13 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 151)


  
NameError (uninitialized constant Api::V1::Homeowner):
  
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:26:33 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms | Allocations: 2811)


  
NameError (uninitialized constant Api::V1::Homeowner):
  
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:28:37 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms | Allocations: 2812)


  
NameError (uninitialized constant Api::V1::HomeownersController::Homeowner):
  
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:29:19 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 153)


  
NameError (uninitialized constant Api::V1::Homeowner):
  
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:32:11 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 3.3ms | Allocations: 153)


  
NameError (uninitialized constant Api::V1::Homeowner):
  
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:32:21 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip8923233@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  [1m[36mHomeowner Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "yeyekip8923233@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 08:32:21.548353"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 08:32:21.547933"], ["updated_at", "2023-10-03 08:32:21.547933"], ["phone_number", nil], ["jti", "caa817ce-d8dd-4765-9346-b35f27f00429"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 14.3ms | Allocations: 935)
Devise::Mailer#confirmation_instructions: processed outbound mail in 59.2ms
Delivered mail 651bd195a7c1d_4c1522a302651f@DESKTOP-MORCCU3.mail (3910.0ms)
Date: Tue, 03 Oct 2023 16:32:21 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: yeyekip8923233@fesgrid.com
Message-ID: <651bd195a7c1d_4c1522a302651f@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome yeyekip8923233@fesgrid.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=VWfYqp-jg2jF_2pZ8BhB">Confirm my account</a></p>

Completed 200 OK in 4375ms (Views: 0.9ms | ActiveRecord: 12.5ms | Allocations: 35678)


Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:32:52 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 155)


  
NameError (uninitialized constant Api::V1::HomeownersController::Homeowner):
  
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:33:08 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms | Allocations: 2812)


  
NameError (uninitialized constant Api::V1::Homeowner):
  
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:33:16 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{"user"=>{"email"=>"yeyekip8923233@fesgrid.com", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 153)


  
NameError (uninitialized constant Api::V1::Homeowners):
  
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:33:36 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"yeyekip89233233@fesgrid.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeyekip89233233@fesgrid.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  [1m[36mHomeowner Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "yeyekip89233233@fesgrid.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 08:33:37.624502"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 08:33:37.624223"], ["updated_at", "2023-10-03 08:33:37.624223"], ["phone_number", nil], ["jti", "87dc4991-98be-4819-850a-ae813076fc42"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 4.5ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 43.0ms
Delivered mail 651bd1e1b4c66_4c91d2a1c236ad@DESKTOP-MORCCU3.mail (2785.8ms)
Date: Tue, 03 Oct 2023 16:33:37 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: yeyekip89233233@fesgrid.com
Message-ID: <651bd1e1b4c66_4c91d2a1c236ad@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome yeyekip89233233@fesgrid.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=dY7ihu19DSJN4DoJS1yW">Confirm my account</a></p>

Completed 200 OK in 3250ms (Views: 1.0ms | ActiveRecord: 14.8ms | Allocations: 38246)


Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 16:33:50 +0800
  
AbstractController::ActionNotFound (The action 'create' could not be found for Api::V1::HomeownersController):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (2.2.8) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 18:19:05 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  [1m[36mHomeowner Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 10:19:05.799233"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 10:19:05.798904"], ["updated_at", "2023-10-03 10:19:05.798904"], ["phone_number", nil], ["jti", "698fa412-573f-4557-bc78-324102f08614"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:5:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 4.1ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 36.8ms
Delivered mail 651bea99df9a6_53d032a1c8489@DESKTOP-MORCCU3.mail (4052.0ms)
Date: Tue, 03 Oct 2023 18:19:05 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: test@test.com
Message-ID: <651bea99df9a6_53d032a1c8489@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome test@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=ygkmJhuM2WFhVqSrZkvz">Confirm my account</a></p>

Completed 200 OK in 4511ms (Views: 1.6ms | ActiveRecord: 15.1ms | Allocations: 39348)


Started POST "/login" for 127.0.0.1 at 2023-10-03 18:19:24 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 305ms (ActiveRecord: 1.6ms | Allocations: 2921)


Started GET "/confirmation?confirmation_token=[FILTERED]" for 127.0.0.1 at 2023-10-03 18:19:37 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHomeowner Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-10-03 10:19:37.367950"], ["updated_at", "2023-10-03 10:19:37.368387"], ["id", 6]]
  [1m[36mTRANSACTION (47.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 83ms (Views: 0.2ms | ActiveRecord: 49.3ms | Allocations: 4759)


Started GET "/favicon.ico" for 127.0.0.1 at 2023-10-03 18:19:37 +0800
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/login" for 127.0.0.1 at 2023-10-03 18:19:44 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
Completed 200 OK in 283ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 3466)


Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 18:23:30 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mHomeowner Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "test2@test.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 10:23:30.962465"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 10:23:30.962286"], ["updated_at", "2023-10-03 10:23:30.962286"], ["phone_number", nil], ["jti", "72676a6f-b6c7-43b5-b512-708af6ef0b87"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.2ms | Allocations: 240)
Devise::Mailer#confirmation_instructions: processed outbound mail in 5.0ms
Delivered mail 651beba2f0413_53d032a1c85a0@DESKTOP-MORCCU3.mail (4541.0ms)
Date: Tue, 03 Oct 2023 18:23:30 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: test2@test.com
Message-ID: <651beba2f0413_53d032a1c85a0@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome test2@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=b2SaEJh8_zpVqh2D12G3">Confirm my account</a></p>

Completed 200 OK in 4860ms (Views: 0.6ms | ActiveRecord: 15.8ms | Allocations: 14531)


  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "t@t.com"], ["LIMIT", 1]]
  [1m[36mHomeowner Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "t@t.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 10:25:07.274705"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 10:25:07.274444"], ["updated_at", "2023-10-03 10:25:07.274444"], ["phone_number", nil], ["jti", "b92d0562-aaad-42a9-8ba7-0be24692c046"], ["isVerified", false], ["type", "Homeowner"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 3.9ms | Allocations: 941)
Devise::Mailer#confirmation_instructions: processed outbound mail in 38.0ms
Delivered mail 651bec0377660_54485b549829@DESKTOP-MORCCU3.mail (2914.7ms)
Date: Tue, 03 Oct 2023 18:25:07 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: t@t.com
Message-ID: <651bec0377660_54485b549829@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome t@t.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=x32NFnL7x2tHyiBz-Myq">Confirm my account</a></p>

  [1m[36mHomeowner Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Homeowner"]]
  [1m[35m (2.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProfiles (20231003102813)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (35.7ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003102813"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddProfileRefToUser (20231003103017)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "profiles" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003103017"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeAddressRefToProfile (20231003103152)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "addresses" DROP CONSTRAINT "fk_rails_48c9e0c5a2"[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "addresses" DROP COLUMN "user_id"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "addresses" ADD "profile_id" bigint NOT NULL[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003103152"]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (3.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles"[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 8], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 8], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mHomeowner Destroy (2.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mHomeowner Destroy (1.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mHomeowner Destroy (1.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  [1m[36mHomeowner Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  [1m[36mHomeowner Destroy (1.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  [1m[36mHomeowner Destroy (1.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 6]]
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (6.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  [1m[36mHomeowner Destroy (1.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 7]]
  [1m[36mTRANSACTION (16.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 8], ["LIMIT", 1]]
  [1m[36mHomeowner Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 8]]
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles"[0m
Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 19:06:54 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
[31mUnpermitted parameter: :password. Context: { controller: Api::V1::HomeownersController, action: create, request: #<ActionDispatch::Request:0x00007fd873fa99e0>, params: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "controller"=>"api/v1/homeowners", "action"=>"create", "homeowner"=>{}} }[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 100ms (Views: 6.0ms | ActiveRecord: 10.1ms | Allocations: 19274)


Started POST "/api/v1/homeowners" for ::1 at 2023-10-03 19:07:08 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
[31mUnpermitted parameter: :password. Context: { controller: Api::V1::HomeownersController, action: create, request: #<ActionDispatch::Request:0x00007fd870be97e0>, params: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "controller"=>"api/v1/homeowners", "action"=>"create", "homeowner"=>{}} }[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mUser Exists? (4.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 30ms (Views: 7.0ms | ActiveRecord: 10.9ms | Allocations: 2803)


Started POST "/signup" for ::1 at 2023-10-03 19:09:09 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}, "registration"=>{"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHomeowner Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "phone_number", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "[FILTERED]"], ["name", ""], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-03 11:09:10.412888"], ["unconfirmed_email", nil], ["created_at", "2023-10-03 11:09:10.412649"], ["updated_at", "2023-10-03 11:09:10.412649"], ["phone_number", nil], ["jti", "94e9f321-5b27-454b-9ea4-543d82789f77"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (22.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 5.0ms | Allocations: 933)
Devise::Mailer#confirmation_instructions: processed outbound mail in 33.7ms
Delivered mail 651bf656888e1_5880929f43457@DESKTOP-MORCCU3.mail (4039.3ms)
Date: Tue, 03 Oct 2023 19:09:10 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: test@test.com
Message-ID: <651bf656888e1_5880929f43457@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome test@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=pyvKxyiu9iNphe673rrS">Confirm my account</a></p>

Completed 200 OK in 4523ms (Views: 0.2ms | ActiveRecord: 34.5ms | Allocations: 30199)


  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:16:26 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
[31mUnpermitted parameters: :address_line_1, :barangay, :city, :province, :zip_code. Context: { controller: Api::V1::ProfilesController, action: create, request: #<ActionDispatch::Request:0x00007ffb31530a00>, params: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}, "controller"=>"api/v1/profiles", "action"=>"create"} }[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (test@test.com) LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.9ms | Allocations: 4237)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "test" does not exist
LINE 1: SELECT "users".* FROM "users" WHERE (test@test.com) LIMIT $1
                                             ^
):
  
app/controllers/api/v1/profiles_controller.rb:3:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:17:25 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
[31mUnpermitted parameters: :address_line_1, :barangay, :city, :province, :zip_code. Context: { controller: Api::V1::ProfilesController, action: create, request: #<ActionDispatch::Request:0x00007ffb1b184c50>, params: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}, "controller"=>"api/v1/profiles", "action"=>"create"} }[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 404 Not Found in 19ms (ActiveRecord: 9.2ms | Allocations: 2790)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=test@test.com):
  
app/controllers/api/v1/profiles_controller.rb:3:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:18:05 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
Completed 404 Not Found in 5ms (ActiveRecord: 3.0ms | Allocations: 463)


  
ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  
app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:19:16 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
Completed 404 Not Found in 28ms (ActiveRecord: 5.1ms | Allocations: 3484)


  
ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  
app/controllers/api/v1/profiles_controller.rb:3:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:20:21 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
[31mUnpermitted parameters: :address_line_1, :barangay, :city, :province, :zip_code. Context: { controller: Api::V1::ProfilesController, action: create, request: #<ActionDispatch::Request:0x00007f5c7b676fe0>, params: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}, "controller"=>"api/v1/profiles", "action"=>"create"} }[0m
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:4:in `create'
[31mUnpermitted parameters: :address_line_1, :barangay, :city, :province, :zip_code. Context: { controller: Api::V1::ProfilesController, action: create, request: #<ActionDispatch::Request:0x00007f5c7b676fe0>, params: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}, "controller"=>"api/v1/profiles", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 93ms (ActiveRecord: 15.3ms | Allocations: 16884)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:4:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:20:48 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
[31mUnpermitted parameters: :address_line_1, :barangay, :city, :province, :zip_code. Context: { controller: Api::V1::ProfilesController, action: create, request: #<ActionDispatch::Request:0x00007f5c79669568>, params: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}, "controller"=>"api/v1/profiles", "action"=>"create"} }[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:4:in `create'
[31mUnpermitted parameters: :address_line_1, :barangay, :city, :province, :zip_code. Context: { controller: Api::V1::ProfilesController, action: create, request: #<ActionDispatch::Request:0x00007f5c79669568>, params: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}, "controller"=>"api/v1/profiles", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 55ms (ActiveRecord: 8.0ms | Allocations: 10343)


  
NoMethodError (undefined method `create' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:4:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:21:05 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 5.6ms | Allocations: 1874)


  
NoMethodError (undefined method `profile' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:4:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:21:18 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.6ms | Allocations: 1851)


  
NoMethodError (undefined method `profile' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:5:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:22:27 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 2.1ms | Allocations: 1848)


  
NoMethodError (undefined method `profile' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:4:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:23:07 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 4.7ms | Allocations: 1855)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:12:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:25:57 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.8ms | Allocations: 784)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:12:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:26:36 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.3ms | Allocations: 1851)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:14:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:26:50 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 404 Not Found in 14ms (ActiveRecord: 6.1ms | Allocations: 1997)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'={:email=>nil}):
  
app/controllers/api/v1/profiles_controller.rb:3:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:27:47 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}}
[31mUnpermitted parameters: :address_line_1, :barangay, :city, :province, :zip_code. Context: { controller: Api::V1::ProfilesController, action: create, request: #<ActionDispatch::Request:0x00007f5c7945b7d0>, params: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}, "controller"=>"api/v1/profiles", "action"=>"create"} }[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
[31mUnpermitted parameters: :address_line_1, :barangay, :city, :province, :zip_code. Context: { controller: Api::V1::ProfilesController, action: create, request: #<ActionDispatch::Request:0x00007f5c7945b7d0>, params: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_line_1"=>"adress line 1", "barangay"=>"barangay", "city"=>"city", "province"=>"province", "zip_code"=>"0000"}, "controller"=>"api/v1/profiles", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 48ms (ActiveRecord: 8.9ms | Allocations: 10634)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:7:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:29:55 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.1ms | Allocations: 1698)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:7:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:30:55 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:9:in `create'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 7.8ms | Allocations: 10430)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:9:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:31:02 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:9:in `create'
Completed 500 Internal Server Error in 50ms (ActiveRecord: 9.2ms | Allocations: 10255)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:9:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:31:14 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:9:in `create'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 9.1ms | Allocations: 10430)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:9:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:37:10 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:9:in `create'
Completed 500 Internal Server Error in 63ms (ActiveRecord: 13.2ms | Allocations: 12378)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:9:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:38:08 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 8.7ms | Allocations: 8678)


  
NoMethodError (undefined method `profile' for Homeowner:Class):
  
app/controllers/api/v1/profiles_controller.rb:9:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:40:21 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:9:in `create'
Completed 500 Internal Server Error in 112ms (ActiveRecord: 14.7ms | Allocations: 19833)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:9:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:40:56 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:9:in `create'
Completed 500 Internal Server Error in 45ms (ActiveRecord: 7.8ms | Allocations: 10574)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:9:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:41:18 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 500 Internal Server Error in 54ms (ActiveRecord: 9.3ms | Allocations: 10439)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:10:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:41:49 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 13.7ms | Allocations: 10398)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:7:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:43:55 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
Completed 500 Internal Server Error in 68ms (ActiveRecord: 10.5ms | Allocations: 13315)


  
ActiveModel::UnknownAttributeError (unknown attribute 'email' for Profile.):
  
app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUserEmailColumnToProfileForReference (20231003114958)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "profiles" ADD "email" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003114958"]]
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:51:50 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
Completed 422 Unprocessable Entity in 163ms (Views: 4.4ms | ActiveRecord: 18.8ms | Allocations: 30380)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:52:42 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:10:in `create'
Completed 422 Unprocessable Entity in 121ms (Views: 0.9ms | ActiveRecord: 16.1ms | Allocations: 16204)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:53:24 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:10:in `create'
Completed 422 Unprocessable Entity in 93ms (Views: 0.9ms | ActiveRecord: 16.1ms | Allocations: 16085)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 19:53:58 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:10:in `create'
Completed 422 Unprocessable Entity in 77ms (Views: 0.9ms | ActiveRecord: 20.8ms | Allocations: 16141)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:04:12 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/profiles_controller.rb:12: syntax error, unexpected '}', expecting =>
...rofile.assign_attributes({name})
...                              ^
):
  
app/controllers/api/v1/profiles_controller.rb:12: syntax error, unexpected '}', expecting =>
app/controllers/api/v1/profiles_controller.rb:12: syntax error, unexpected '}', expecting =>
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:04:27 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:10:in `create'
Completed 500 Internal Server Error in 154ms (ActiveRecord: 18.9ms | Allocations: 22713)


  
ArgumentError (When assigning attributes, you must pass a hash as an argument, Class passed.):
  
app/controllers/api/v1/profiles_controller.rb:12:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:07:03 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:10:in `create'
Completed 500 Internal Server Error in 128ms (ActiveRecord: 17.3ms | Allocations: 22867)


  
NameError (undefined local variable or method `address_attributes' for #<Api::V1::ProfilesController:0x0000000000b4f0>):
  
app/controllers/api/v1/profiles_controller.rb:17:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:07:43 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:10:in `create'
Completed 500 Internal Server Error in 63ms (ActiveRecord: 11.0ms | Allocations: 12282)


  
NameError (undefined local variable or method `address_attributes' for #<Api::V1::ProfilesController:0x00000000010ec8>):
  
app/controllers/api/v1/profiles_controller.rb:17:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:07:57 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:10:in `create'
Completed 500 Internal Server Error in 62ms (ActiveRecord: 12.5ms | Allocations: 12277)


  
NameError (undefined local variable or method `address_attributes' for #<Api::V1::ProfilesController:0x00000000016878>):
  
app/controllers/api/v1/profiles_controller.rb:16:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:08:19 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:10:in `create'
Completed 500 Internal Server Error in 63ms (ActiveRecord: 15.5ms | Allocations: 12241)


  
NameError (undefined local variable or method `address_line_1' for #<Api::V1::ProfilesController:0x0000000001c2a0>):
  
app/controllers/api/v1/profiles_controller.rb:16:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:08:41 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (5.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:10:in `create'
Completed 422 Unprocessable Entity in 100ms (Views: 7.2ms | ActiveRecord: 21.4ms | Allocations: 19937)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:11:04 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:10:in `create'
Completed 422 Unprocessable Entity in 83ms (Views: 2.1ms | ActiveRecord: 24.5ms | Allocations: 16109)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNameAndPhoneNumberColumnsInUser (20231003121146)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "name"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "phone_number"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003121146"]]
  [1m[36mTRANSACTION (16.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:12:53 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:10:in `create'
Completed 422 Unprocessable Entity in 175ms (Views: 5.8ms | ActiveRecord: 28.9ms | Allocations: 29715)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:13:39 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 422 Unprocessable Entity in 94ms (Views: 1.1ms | ActiveRecord: 18.4ms | Allocations: 15153)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:13:52 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 422 Unprocessable Entity in 83ms (Views: 0.6ms | ActiveRecord: 15.7ms | Allocations: 15156)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:13:59 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 422 Unprocessable Entity in 92ms (Views: 8.2ms | ActiveRecord: 23.1ms | Allocations: 15241)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:17:27 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 422 Unprocessable Entity in 71ms (Views: 1.2ms | ActiveRecord: 14.1ms | Allocations: 11743)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:17:50 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 422 Unprocessable Entity in 78ms (Views: 2.2ms | ActiveRecord: 24.0ms | Allocations: 11764)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:18:10 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 422 Unprocessable Entity in 61ms (Views: 1.0ms | ActiveRecord: 14.2ms | Allocations: 11756)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:18:33 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 422 Unprocessable Entity in 69ms (Views: 0.9ms | ActiveRecord: 12.8ms | Allocations: 11765)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:18:53 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:20:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:20:in `create'
  [1m[36mProfile Create (1.9ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:18:53.485317"], ["updated_at", "2023-10-03 12:18:53.485317"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:20:in `create'
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:20:in `create'
Completed 200 OK in 84ms (Views: 0.9ms | ActiveRecord: 25.3ms | Allocations: 15343)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:22:30 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:8:in `create'
  [1m[36mAddress Load (0.7ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:8:in `create'
  [1m[36mProfile Destroy (1.3ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:8:in `create'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:8:in `create'
Completed 500 Internal Server Error in 86ms (ActiveRecord: 20.2ms | Allocations: 15661)


  
NoMethodError (undefined method `ProfileSerializer' for #<Api::V1::ProfilesController:0x0000000003e198>):
  
app/controllers/api/v1/profiles_controller.rb:14:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:25:26 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:18:in `create'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:18:in `create'
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:25:26.324972"], ["updated_at", "2023-10-03 12:25:26.324972"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:18:in `create'
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:18:in `create'
Completed 200 OK in 83ms (Views: 0.4ms | ActiveRecord: 22.9ms | Allocations: 15060)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:28:24 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Destroy (1.1ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:17:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:17:in `create'
  [1m[36mProfile Create (1.3ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:28:24.654293"], ["updated_at", "2023-10-03 12:28:24.654293"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:17:in `create'
  [1m[36mAddress Create (1.7ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", nil], ["barangay", nil], ["city", nil], ["province", nil], ["zip_code", nil], ["created_at", "2023-10-03 12:28:24.659561"], ["updated_at", "2023-10-03 12:28:24.659561"], ["profile_id", 3]]
  ↳ app/controllers/api/v1/profiles_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:17:in `create'
Completed 500 Internal Server Error in 129ms (ActiveRecord: 36.0ms | Allocations: 23071)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "address_line_1" of relation "addresses" violates not-null constraint
DETAIL:  Failing row contains (1, null, null, null, null, null, 2023-10-03 12:28:24.659561, 2023-10-03 12:28:24.659561, 3).
):
  
app/controllers/api/v1/profiles_controller.rb:17:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:30:02 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.9ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:30:02.870643"], ["updated_at", "2023-10-03 12:30:02.870643"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "City Name"], ["province", "Province Name"], ["zip_code", "1234"], ["created_at", "2023-10-03 12:30:02.873976"], ["updated_at", "2023-10-03 12:30:02.873976"], ["profile_id", 4]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 200 OK in 106ms (Views: 0.6ms | ActiveRecord: 32.9ms | Allocations: 19556)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:30:44 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Load (1.5ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Destroy (0.7ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Destroy (3.0ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:30:44.753790"], ["updated_at", "2023-10-03 12:30:44.753790"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (2.7ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "City Name"], ["province", "Province Name"], ["zip_code", "1234"], ["created_at", "2023-10-03 12:30:44.758199"], ["updated_at", "2023-10-03 12:30:44.758199"], ["profile_id", 5]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 200 OK in 139ms (Views: 0.3ms | ActiveRecord: 49.1ms | Allocations: 23540)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:31:18 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Destroy (1.8ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Destroy (0.9ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.9ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:31:18.436806"], ["updated_at", "2023-10-03 12:31:18.436806"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (4.0ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "City Name"], ["province", "Province Name"], ["zip_code", "1234"], ["created_at", "2023-10-03 12:31:18.440839"], ["updated_at", "2023-10-03 12:31:18.440839"], ["profile_id", 6]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 500 Internal Server Error in 127ms (ActiveRecord: 39.8ms | Allocations: 23685)


  
NameError (ProfileSerializer cannot resolve a serializer class for 'Symbol'.  Attempted to find 'SymbolSerializer'. Consider specifying the serializer directly through options[:serializer].):
  
app/controllers/api/v1/profiles_controller.rb:8:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:32:38 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Load (4.5ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Destroy (0.6ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Destroy (1.8ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.8ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:32:38.303441"], ["updated_at", "2023-10-03 12:32:38.303441"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "City Name"], ["province", "Province Name"], ["zip_code", "1234"], ["created_at", "2023-10-03 12:32:38.307495"], ["updated_at", "2023-10-03 12:32:38.307495"], ["profile_id", 7]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 500 Internal Server Error in 132ms (ActiveRecord: 38.3ms | Allocations: 23668)


  
NameError (ProfileSerializer cannot resolve a serializer class for 'Symbol'.  Attempted to find 'SymbolSerializer'. Consider specifying the serializer directly through options[:serializer].):
  
app/controllers/api/v1/profiles_controller.rb:8:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:33:36 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Destroy (0.8ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Destroy (1.1ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (7.0ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:33:36.302832"], ["updated_at", "2023-10-03 12:33:36.302832"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "City Name"], ["province", "Province Name"], ["zip_code", "1234"], ["created_at", "2023-10-03 12:33:36.316068"], ["updated_at", "2023-10-03 12:33:36.316068"], ["profile_id", 8]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 500 Internal Server Error in 129ms (ActiveRecord: 37.6ms | Allocations: 23674)


  
NameError (ProfileSerializer cannot resolve a serializer class for 'Symbol'.  Attempted to find 'SymbolSerializer'. Consider specifying the serializer directly through options[:serializer].):
  
app/controllers/api/v1/profiles_controller.rb:8:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:34:22 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Load (1.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Destroy (2.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Destroy (2.5ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 8]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.9ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:34:22.541974"], ["updated_at", "2023-10-03 12:34:22.541974"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "City Name"], ["province", "Province Name"], ["zip_code", "1234"], ["created_at", "2023-10-03 12:34:22.546081"], ["updated_at", "2023-10-03 12:34:22.546081"], ["profile_id", 9]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 200 OK in 149ms (Views: 0.8ms | ActiveRecord: 42.3ms | Allocations: 23464)


Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:36:57 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Destroy (1.0ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 7]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Destroy (4.5ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 9]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (1.5ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:36:57.547995"], ["updated_at", "2023-10-03 12:36:57.547995"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "City Name"], ["province", "Province Name"], ["zip_code", "1234"], ["created_at", "2023-10-03 12:36:57.552989"], ["updated_at", "2023-10-03 12:36:57.552989"], ["profile_id", 10]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (23.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 500 Internal Server Error in 153ms (ActiveRecord: 53.7ms | Allocations: 23644)


  
NameError (ProfileSerializer cannot resolve a serializer class for 'Symbol'.  Attempted to find 'SymbolSerializer'. Consider specifying the serializer directly through options[:serializer].):
  
app/controllers/api/v1/profiles_controller.rb:9:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:39:02 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Load (0.8ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Destroy (3.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 8]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Destroy (1.4ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 10]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (4.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:39:03.260550"], ["updated_at", "2023-10-03 12:39:03.260550"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (1.1ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "City Name"], ["province", "Province Name"], ["zip_code", "1234"], ["created_at", "2023-10-03 12:39:03.273324"], ["updated_at", "2023-10-03 12:39:03.273324"], ["profile_id", 11]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 500 Internal Server Error in 228ms (ActiveRecord: 50.6ms | Allocations: 37395)


  
NameError (ProfileSerializer cannot resolve a serializer class for 'Symbol'.  Attempted to find 'SymbolSerializer'. Consider specifying the serializer directly through options[:serializer].):
  
app/controllers/api/v1/profiles_controller.rb:8:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-03 20:39:37 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"test_name", "email"=>"test@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Destroy (0.8ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 9]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Destroy (1.2ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 11]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (6.1ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "test_name"], ["phone_number", "09123456789"], ["created_at", "2023-10-03 12:39:37.643207"], ["updated_at", "2023-10-03 12:39:37.643207"], ["user_id", 9], ["email", "test@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (1.0ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "City Name"], ["province", "Province Name"], ["zip_code", "1234"], ["created_at", "2023-10-03 12:39:37.655719"], ["updated_at", "2023-10-03 12:39:37.655719"], ["profile_id", 12]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 201 Created in 126ms (Views: 0.4ms | ActiveRecord: 41.4ms | Allocations: 24007)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddIsActiveColumnToHomeowner (20231006104722)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "homeowner" ADD "is_active" boolean DEFAULT FALSE[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddIsActiveColumnToHomeowner (20231006104722)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.5ms)[0m  [1m[35mALTER TABLE "homeowners" ADD "is_active" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006104722"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mService Load (0.7ms)[0m  [1m[34mSELECT "services".* FROM "services"[0m
Started POST "/api/v1/services" for ::1 at 2023-10-06 19:36:58 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant Api::V1::ServicesController):
  
Started POST "/api/v1/services" for ::1 at 2023-10-06 19:37:22 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/services_controller.rb:9: syntax error, unexpected label, expecting `end' or dummy end
...           render json: status: :unprocessable_entity
...                        ^~~~~~~
):
  
app/controllers/api/v1/services_controller.rb:9: syntax error, unexpected label, expecting `end' or dummy end
app/controllers/api/v1/services_controller.rb:9: syntax error, unexpected label, expecting `end' or dummy end
Started POST "/api/v1/services" for ::1 at 2023-10-06 19:38:01 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Cleaning Services", "price"=>399}}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 4667)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/api/v1/services_controller.rb:16:in `service_params'
app/controllers/api/v1/services_controller.rb:5:in `create'
Started POST "/api/v1/services" for ::1 at 2023-10-06 19:39:23 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Cleaning Services", "price"=>399}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2853)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/api/v1/services_controller.rb:16:in `service_params'
app/controllers/api/v1/services_controller.rb:5:in `create'
Started POST "/api/v1/services" for ::1 at 2023-10-06 19:39:48 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Cleaning Services", "price"=>399}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:6:in `create'
  [1m[36mService Create (2.0ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cleaning Services"], ["created_at", "2023-10-06 11:39:48.466309"], ["updated_at", "2023-10-06 11:39:48.466309"], ["price", "399.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:6:in `create'
Completed 200 OK in 24ms (Views: 0.5ms | ActiveRecord: 7.8ms | Allocations: 9774)


Started POST "/api/v1/services" for ::1 at 2023-10-06 19:40:23 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Aircon Services", "price"=>699}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:6:in `create'
  [1m[36mService Create (0.4ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Aircon Services"], ["created_at", "2023-10-06 11:40:23.908592"], ["updated_at", "2023-10-06 11:40:23.908592"], ["price", "699.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:6:in `create'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 3.9ms | Allocations: 2135)


Started POST "/api/v1/services" for ::1 at 2023-10-06 19:41:10 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Aircon Services", "price"=>699}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.4ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Aircon Services"], ["created_at", "2023-10-06 11:41:10.901983"], ["updated_at", "2023-10-06 11:41:10.901983"], ["price", "699.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 20ms (Views: 0.5ms | ActiveRecord: 6.3ms | Allocations: 9773)


Started POST "/api/v1/services" for ::1 at 2023-10-06 19:44:26 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/models/service.rb:4: syntax error, unexpected ','
                    ,  uniqueness: { message: "Tit...
                    ^
/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/models/service.rb:6: syntax error, unexpected ','
                    , numericality: { message: "Pr...
                    ^
):
  
app/models/service.rb:4: syntax error, unexpected ','
app/models/service.rb:6: syntax error, unexpected ','
app/models/service.rb:4: syntax error, unexpected ','
app/models/service.rb:6: syntax error, unexpected ','
Started POST "/api/v1/services" for ::1 at 2023-10-06 19:45:25 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Aircon Services", "price"=>699}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Aircon Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 19ms (Views: 10.9ms | ActiveRecord: 2.4ms | Allocations: 8154)


Started POST "/api/v1/subservices" for ::1 at 2023-10-06 19:54:23 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant Api::V1::SubservicesController):
  
Started POST "/api/v1/subservices" for ::1 at 2023-10-06 19:54:54 +0800
  
ActionController::RoutingError (uninitialized constant Api::V1::SubservicesController):
  
Started POST "/api/v1/subservices" for ::1 at 2023-10-06 19:55:39 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/subservices"):
  
Started POST "/api/v1/subservices" for ::1 at 2023-10-06 19:57:35 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/subservices"):
  
Started POST "/api/v1/subservices" for ::1 at 2023-10-06 19:57:49 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "title"=>"Disinfectant Spraying", "price"=>699}}
Completed 400 Bad Request in 9ms (ActiveRecord: 0.0ms | Allocations: 4257)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice_params):
  
app/controllers/api/v1/subservices_controller.rb:19:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:7:in `create'
Started POST "/api/v1/subservices" for ::1 at 2023-10-06 19:58:03 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "title"=>"Disinfectant Spraying", "price"=>699}}
Completed 404 Not Found in 4ms (ActiveRecord: 1.5ms | Allocations: 1674)


  
ActiveRecord::RecordNotFound (Couldn't find Service without an ID):
  
app/controllers/api/v1/subservices_controller.rb:7:in `create'
Started POST "/api/v1/subservices" for ::1 at 2023-10-06 19:58:10 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "title"=>"Disinfectant Spraying", "price"=>699}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (1.0ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Disinfectant Spraying"], ["price", "699.0"], ["created_at", "2023-10-06 11:58:10.866259"], ["updated_at", "2023-10-06 11:58:10.866259"], ["service_id", 1], ["housemate_service_id", nil]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 6.4ms | Allocations: 18798)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "housemate_service_id" of relation "subservices" violates not-null constraint
DETAIL:  Failing row contains (1, Disinfectant Spraying, 699.00, 2023-10-06 11:58:10.866259, 2023-10-06 11:58:10.866259, 1, null).
):
  
app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullConstraintColumnFromSubservice (20231006115920)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.0ms)[0m  [1m[35mALTER TABLE "subservices" ALTER COLUMN "housemate_service_id" TYPE bigint, ALTER COLUMN "housemate_service_id" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006115920"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/subservices" for ::1 at 2023-10-06 20:00:50 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "title"=>"Disinfectant Spraying", "price"=>699}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.9ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Disinfectant Spraying"], ["price", "699.0"], ["created_at", "2023-10-06 12:00:50.599520"], ["updated_at", "2023-10-06 12:00:50.599520"], ["service_id", 1], ["housemate_service_id", nil]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 43ms (Views: 0.4ms | ActiveRecord: 9.4ms | Allocations: 18735)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (60.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (70.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (175.6ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (56.1ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (21.0ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint NOT NULL)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_user_id" ON "housemate_services" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint)[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_4ec638d706"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231006115920)[0m
  [1m[35m (3.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722);

[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-06 12:01:18.352066"], ["updated_at", "2023-10-06 12:01:18.352066"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "b6b9719c9a6fab77d7dc553a25a4348283d73a22"], ["created_at", "2023-10-06 12:01:18.358775"], ["updated_at", "2023-10-06 12:01:18.358775"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint NOT NULL)[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_user_id" ON "housemate_services" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (27.0ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (44.2ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (26.0ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (81.0ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (85.6ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint)[0m
  [1m[35m (20.0ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (5.7ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_4ec638d706"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231006115920)[0m
  [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722);

[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-06 12:01:18.848157"], ["updated_at", "2023-10-06 12:01:18.848157"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-06 12:01:18.854972"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "b6b9719c9a6fab77d7dc553a25a4348283d73a22"], ["created_at", "2023-10-06 12:01:18.861245"], ["updated_at", "2023-10-06 12:01:18.861245"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/services" for ::1 at 2023-10-06 20:01:40 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Cleaning Services", "price"=>399}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.5ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cleaning Services"], ["created_at", "2023-10-06 12:01:40.928779"], ["updated_at", "2023-10-06 12:01:40.928779"], ["price", "399.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 30ms (Views: 0.4ms | ActiveRecord: 6.8ms | Allocations: 11545)


Started POST "/api/v1/services" for ::1 at 2023-10-06 20:01:55 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Aircon Services", "price"=>699}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Aircon Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.3ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Aircon Services"], ["created_at", "2023-10-06 12:01:55.893483"], ["updated_at", "2023-10-06 12:01:55.893483"], ["price", "699.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 4.1ms | Allocations: 3085)


Started POST "/api/v1/services" for ::1 at 2023-10-06 20:02:20 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Plumbing Services", "price"=>899}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Plumbing Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.2ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Plumbing Services"], ["created_at", "2023-10-06 12:02:20.658001"], ["updated_at", "2023-10-06 12:02:20.658001"], ["price", "899.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 3.8ms | Allocations: 3080)


Started POST "/api/v1/services" for ::1 at 2023-10-06 20:02:26 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Plumbing Services", "price"=>899}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Plumbing Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 3666)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceTitleColumnToSubserviceForReference (20231006120530)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "subservices" ADD "service_title" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006120530"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/subservices" for ::1 at 2023-10-06 20:07:08 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/models/subservice.rb:5: syntax error, unexpected symbol literal, expecting `do' or '{' or '('
    validates :title, presence: { message: "...
              ^
):
  
app/models/subservice.rb:5: syntax error, unexpected symbol literal, expecting `do' or '{' or '('
app/models/subservice.rb:5: syntax error, unexpected symbol literal, expecting `do' or '{' or '('
Started POST "/api/v1/subservices" for ::1 at 2023-10-06 20:07:21 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "title"=>"Disinfectant Spraying", "price"=>699}}
[31mUnpermitted parameter: :service_id. Context: { controller: Api::V1::SubservicesController, action: create, request: #<ActionDispatch::Request:0x00007f481ed28c10>, params: {"subservice"=>{"service_id"=>1, "title"=>"Disinfectant Spraying", "price"=>699}, "controller"=>"api/v1/subservices", "action"=>"create"} }[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
[31mUnpermitted parameter: :service_id. Context: { controller: Api::V1::SubservicesController, action: create, request: #<ActionDispatch::Request:0x00007f481ed28c10>, params: {"subservice"=>{"service_id"=>1, "title"=>"Disinfectant Spraying", "price"=>699}, "controller"=>"api/v1/subservices", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 35ms (Views: 2.7ms | ActiveRecord: 6.2ms | Allocations: 18844)


Started POST "/api/v1/subservices" for ::1 at 2023-10-06 20:08:36 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Disinfectant Spraying", "price"=>699}}
  [1m[36mService Load (0.5ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE (Cleaning Services) LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.5ms | Allocations: 897)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near "Services"
LINE 1: ...LECT "services".* FROM "services" WHERE (Cleaning Services) ...
                                                             ^
):
  
app/controllers/api/v1/subservices_controller.rb:7:in `create'
Started POST "/api/v1/subservices" for ::1 at 2023-10-06 20:09:08 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Disinfectant Spraying", "price"=>699}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.8ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Disinfectant Spraying"], ["price", "699.0"], ["created_at", "2023-10-06 12:09:08.086133"], ["updated_at", "2023-10-06 12:09:08.086133"], ["service_id", 1], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 9.7ms | Allocations: 9730)


Started POST "/api/v1/subservices" for ::1 at 2023-10-06 20:09:51 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Dishwashing", "price"=>108}}
  [1m[36mService Load (0.4ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.4ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Dishwashing"], ["price", "108.0"], ["created_at", "2023-10-06 12:09:51.049071"], ["updated_at", "2023-10-06 12:09:51.049071"], ["service_id", 1], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 15ms (Views: 0.5ms | ActiveRecord: 8.4ms | Allocations: 3831)


Started POST "/api/v1/subservices" for ::1 at 2023-10-06 20:10:01 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Electric Fan Cleaning", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Electric Fan Cleaning"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.3ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Electric Fan Cleaning"], ["price", "150.0"], ["created_at", "2023-10-06 12:10:01.792097"], ["updated_at", "2023-10-06 12:10:01.792097"], ["service_id", 1], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 4.9ms | Allocations: 3817)


Started POST "/api/v1/subservices" for ::1 at 2023-10-06 20:10:16 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Fridge Cleaning", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Fridge Cleaning"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.4ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Fridge Cleaning"], ["price", "150.0"], ["created_at", "2023-10-06 12:10:16.849026"], ["updated_at", "2023-10-06 12:10:16.849026"], ["service_id", 1], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 7.2ms | Allocations: 3827)


Started POST "/api/v1/subservices" for ::1 at 2023-10-06 20:10:25 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Laundry", "price"=>18}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Laundry"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.3ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Laundry"], ["price", "18.0"], ["created_at", "2023-10-06 12:10:25.537575"], ["updated_at", "2023-10-06 12:10:25.537575"], ["service_id", 1], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 3812)


Started POST "/api/v1/subservices" for ::1 at 2023-10-06 20:10:32 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Laundry", "price"=>18}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Laundry"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 3249)


Started GET "/api/v1/subservices" for ::1 at 2023-10-06 20:14:53 +0800
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::SubservicesController):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (2.2.8) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:17:53 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
Completed 400 Bad Request in 4ms (ActiveRecord: 0.0ms | Allocations: 2049)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:25:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:17:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:18:10 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 970)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:25:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:17:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:18:12 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 117)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:25:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:17:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:18:12 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 117)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:25:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:17:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:18:13 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 117)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:25:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:17:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:18:14 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 117)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:25:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:17:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:18:25 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.8ms | Allocations: 2156)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:19:52 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning_Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.8ms | Allocations: 2067)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:19:53 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning_Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms | Allocations: 616)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:19:54 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning_Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms | Allocations: 616)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:20:31 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning_Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:18:in `show'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.8ms | Allocations: 2077)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:19:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:20:41 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning_Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:18:in `show'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.8ms | Allocations: 2070)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:19:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:20:46 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 164)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:26:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:17:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:23:54 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 167)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:28:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:38:29 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"params"=>:service_title, "id"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 167)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:28:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:38:40 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"params"=>:service_title, "id"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 167)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:28:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:41:27 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"params"=>:service_title, "id"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 167)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:28:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:43:24 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"params"=>:service_title, "id"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 167)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:28:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:43:50 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"service_title"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 167)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:28:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:44:03 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"service_title"=>"Cleaning_Services"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 167)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:28:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:44:45 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"service_title"=>"Cleaning_Services"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning_Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 5.1ms | Allocations: 5101)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:44:55 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"params"=>:service_title, "id"=>"Cleaning_Services"}
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.8ms | Allocations: 2133)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:18:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:45:06 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"params"=>:service_title, "id"=>"Cleaning_Services"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:18:in `show'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.8ms | Allocations: 2150)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:19:in `show'
Started GET "/api/v1/subservices/Cleaning_Services" for ::1 at 2023-10-06 20:45:15 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"service_title"=>"Cleaning_Services"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning_Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:18:in `show'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.8ms | Allocations: 2068)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:19:in `show'
Started GET "/api/v1/subservices/Cleaning%20Services" for ::1 at 2023-10-06 20:46:08 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"service_title"=>"Cleaning Services"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:18:in `show'
  [1m[36mSubservice Load (0.5ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_id" = $1[0m  [["service_id", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:20:in `show'
Completed 200 OK in 17ms (Views: 4.0ms | ActiveRecord: 4.6ms | Allocations: 7698)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddEmailColumnForReferenceToHousemateService (20231006135343)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.7ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "email" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006135343"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceTitleColumnToHousemateServices (20231006135600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "service_title" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006135600"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mHousemate Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-06 14:06:40.216542"], ["unconfirmed_email", nil], ["created_at", "2023-10-06 14:06:40.216427"], ["updated_at", "2023-10-06 14:06:40.216427"], ["jti", "5c4dabff-1270-460a-894c-5a21cb878b73"], ["isVerified", false], ["type", "Housemate"]]
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 2.4ms | Allocations: 1246)
Devise::Mailer#confirmation_instructions: processed outbound mail in 33.0ms
Delivered mail 652014704e638_445afb54-48c@DESKTOP-MORCCU3.mail (1583.5ms)
Date: Fri, 06 Oct 2023 22:06:40 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: test@test.com
Message-ID: <652014704e638_445afb54-48c@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome test@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=32AEkWBNDN-ja1xxMWRT">Confirm my account</a></p>

Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:07:08 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "service_title"=>"Cleaning Services"}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 421)


  
ActionController::ParameterMissing (param is missing or the value is empty: housemate_services):
  
app/controllers/api/v1/housemate_services_controller.rb:22:in `housemate_services_params'
app/controllers/api/v1/housemate_services_controller.rb:18:in `find_housemate'
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:07:30 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "service_title"=>"Cleaning Services"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 372)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/api/v1/housemate_services_controller.rb:22:in `housemate_services_params'
app/controllers/api/v1/housemate_services_controller.rb:18:in `find_housemate'
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:08:13 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "service_title"=>"Cleaning Services"}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2478)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/api/v1/housemate_services_controller.rb:18:in `housemate_services_params'
app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:09:12 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "service_title"=>"Cleaning Services"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 401)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/api/v1/housemate_services_controller.rb:18:in `housemate_services_params'
app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:09:25 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "service_title"=>"Cleaning Services"}}
[31mUnpermitted parameter: :housemate_service. Context: { controller: Api::V1::HousemateServicesController, action: create, request: #<ActionDispatch::Request:0x00007ff857ee4600>, params: {"housemate_service"=>{"email"=>"test@test.com", "service_title"=>"Cleaning Services"}, "controller"=>"api/v1/housemate_services", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 523)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/api/v1/housemate_services_controller.rb:18:in `housemate_services_params'
app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:09:53 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "service_title"=>"Cleaning Services"}}
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.4ms | Allocations: 13120)


  
NoMethodError (undefined method `housemate_services' for #<Housemate id: 1, email: "test@test.com", created_at: "2023-10-06 14:06:40.216427000 +0000", updated_at: "2023-10-06 14:06:40.216427000 +0000", jti: "5c4dabff-1270-460a-894c-5a21cb878b73", isVerified: false>):
  
app/controllers/api/v1/housemate_services_controller.rb:7:in `create'
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:10:47 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "service_title"=>"Cleaning Services"}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.7ms | Allocations: 13298)


  
ActiveModel::UnknownAttributeError (unknown attribute 'housemate_id' for HousemateService.):
  
app/controllers/api/v1/housemate_services_controller.rb:7:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveUserIdColumnFromHousemateService (20231006141433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "housemate_services" DROP COLUMN "user_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006141433"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:15:06 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "service_title"=>"Cleaning Services"}}
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 5.2ms | Allocations: 20636)


  
ActiveModel::UnknownAttributeError (unknown attribute 'housemate_id' for HousemateService.):
  
app/controllers/api/v1/housemate_services_controller.rb:7:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddHousemateServiceReferenceToHousemateForLookup (20231006142022)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "housemate_id" bigint NOT NULL[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006142022"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:23:45 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "service_title"=>"Cleaning Services"}}
  [1m[36mHousemate Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:8:in `create'
  [1m[36mHousemateService Create (1.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-06 14:23:45.708361"], ["updated_at", "2023-10-06 14:23:45.708361"], ["email", "test@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:8:in `create'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 6.8ms | Allocations: 24140)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "housemate_services" violates foreign key constraint "fk_rails_5dc43b34dc"
DETAIL:  Key (housemate_id)=(1) is not present in table "housemates".
):
  
app/controllers/api/v1/housemate_services_controller.rb:8:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddHousemateServiceReferenceToHousemateForLookup (20231006142022)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "housemate_services" DROP CONSTRAINT "fk_rails_5dc43b34dc"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "housemate_services" DROP COLUMN "housemate_id"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231006142022"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddHousemateServiceReferenceToHousemateForLookup (20231006142022)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "housemate_id" bigint NOT NULL[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006142022"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:27:09 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "service_title"=>"Cleaning Services"}}
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:8:in `create'
  [1m[36mHousemateService Create (0.8ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-06 14:27:09.478235"], ["updated_at", "2023-10-06 14:27:09.478235"], ["email", "test@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:8:in `create'
Completed 200 OK in 50ms (Views: 0.4ms | ActiveRecord: 12.0ms | Allocations: 24284)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:37:04 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["a", "b", "c", "d"]}}
[31mUnpermitted parameter: :services. Context: { controller: Api::V1::HousemateServicesController, action: create, request: #<ActionDispatch::Request:0x00007fa53af9f6f0>, params: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["a", "b", "c", "d"]}, "controller"=>"api/v1/housemate_services", "action"=>"create"} }[0m
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `create'
[31mUnpermitted parameter: :services. Context: { controller: Api::V1::HousemateServicesController, action: create, request: #<ActionDispatch::Request:0x00007fa53af9f6f0>, params: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["a", "b", "c", "d"]}, "controller"=>"api/v1/housemate_services", "action"=>"create"} }[0m
Completed 204 No Content in 19ms (ActiveRecord: 4.2ms | Allocations: 10620)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:38:28 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["a", "b", "c", "d"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `create'
Completed 204 No Content in 11ms (ActiveRecord: 3.0ms | Allocations: 8094)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:41:44 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `create'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 4.0ms | Allocations: 10209)


  
ArgumentError (When assigning attributes, you must pass a hash as an argument, String passed.):
  
app/controllers/api/v1/housemate_services_controller.rb:20:in `block in create'
app/controllers/api/v1/housemate_services_controller.rb:19:in `each'
app/controllers/api/v1/housemate_services_controller.rb:19:in `create'
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:42:52 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `create'
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:23:in `create'
Completed 200 OK in 17ms (Views: 1.5ms | ActiveRecord: 3.9ms | Allocations: 12345)


  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:44:19 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `create'
Completed 204 No Content in 31ms (ActiveRecord: 3.0ms | Allocations: 16210)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:49:20 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:24:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:22:in `create'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 4.3ms | Allocations: 16614)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveEmailColumnNotNullContstraintFromHousemateServices (20231006145119)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveEmailColumnNotNullContstraintFromHousemateServices (20231006145119)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveEmailColumnFromHousemateServices (20231006145119)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "housemate_services" ALTER COLUMN "email" TYPE character varying, ALTER COLUMN "email" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006145119"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:53:42 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:24:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:22:in `create'
Completed 200 OK in 46ms (Views: 0.3ms | ActiveRecord: 5.4ms | Allocations: 24759)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:53:45 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `create'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1498)


  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services"[0m
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:55:02 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:24:in `block (2 levels) in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:22:in `create'
Completed 200 OK in 42ms (Views: 0.3ms | ActiveRecord: 5.1ms | Allocations: 24759)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:56:12 +0800
  
ArgumentError (You need to supply at least one validation):
  
app/models/housemate_service.rb:5:in `<class:HousemateService>'
app/models/housemate_service.rb:1:in `<main>'
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:56:24 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:24:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.5ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-06 14:56:24.390683"], ["updated_at", "2023-10-06 14:56:24.390683"], ["email", nil], ["service_title", "Cleaning Services"], ["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:26:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-06 14:56:24.392403"], ["updated_at", "2023-10-06 14:56:24.392403"], ["email", nil], ["service_title", "Aircon Services"], ["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:26:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-06 14:56:24.393434"], ["updated_at", "2023-10-06 14:56:24.393434"], ["email", nil], ["service_title", "Plumbing Services"], ["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:26:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:22:in `create'
  [1m[36mHousemateService Load (0.4ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:28:in `create'
Completed 200 OK in 27ms (Views: 2.2ms | ActiveRecord: 8.6ms | Allocations: 15920)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 22:57:20 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:24:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-06 14:57:20.824033"], ["updated_at", "2023-10-06 14:57:20.824033"], ["email", "test@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:26:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-06 14:57:20.825278"], ["updated_at", "2023-10-06 14:57:20.825278"], ["email", "test@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:26:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-06 14:57:20.826239"], ["updated_at", "2023-10-06 14:57:20.826239"], ["email", "test@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:26:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:22:in `create'
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:28:in `create'
Completed 200 OK in 25ms (Views: 1.7ms | ActiveRecord: 8.5ms | Allocations: 15739)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveEmailColumnFromHousemateServices (20231006145119)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.5ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 3]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.4ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 5]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 6]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 7]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 8]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to Correct (20231006145853)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "housemate_services" ALTER COLUMN "email" TYPE character varying, ALTER COLUMN "email" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006145853"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-06 23:00:22 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"test@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.8ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-06 15:00:22.998916"], ["updated_at", "2023-10-06 15:00:22.998916"], ["email", "test@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-06 15:00:23.002309"], ["updated_at", "2023-10-06 15:00:23.002309"], ["email", "test@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-06 15:00:23.004106"], ["updated_at", "2023-10-06 15:00:23.004106"], ["email", "test@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:18:in `create'
Completed 200 OK in 57ms (Views: 2.0ms | ActiveRecord: 10.5ms | Allocations: 27173)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBookings (20231007155221)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (25.5ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007155221"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddBookingReferencesToMultipleTables (20231007155402)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bookings" ADD "homeowner_id" bigint NOT NULL[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_cc278567d8"
FOREIGN KEY ("homeowner_id")
  REFERENCES "homeowners" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD "housemate_id" bigint NOT NULL[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD "subservice_id" bigint NOT NULL[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_subservice_id" ON "bookings" ("subservice_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_fd177e7839"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD "address_id" bigint NOT NULL[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_address_id" ON "bookings" ("address_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_9a89b8293e"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007155402"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddPaymentMethodColumnToBooking (20231007155842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bookings" ADD "payment_method" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007155842"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to UpdateTotalCostColumInBooking (20231007155958)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (48.3ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "total_cost" TYPE decimal(10,2), ALTER COLUMN "total_cost" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007155958"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveBookingRequest (20231007160122)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "booking_requests"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007160122"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBookingServices (20231007161416)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007161416"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddBookingServiceReferencesToMultipleModels (20231007161626)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "booking_services" ADD "service_id" bigint NOT NULL[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "booking_services" ADD "subservice_id" bigint NOT NULL[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "booking_services" ADD "booking_id" bigint NOT NULL[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007161626"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/booking" for ::1 at 2023-10-08 00:43:46 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/booking"):
  
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:43:53 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:8: syntax error, unexpected ',', expecting =>
... data: homeowner, job_services, address, scheduled_at, total...
...                              ^
/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:26: syntax error, unexpected ',', expecting =>
            :payment_method,
                           ^
):
  
app/controllers/api/v1/bookings_controller.rb:8: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/bookings_controller.rb:26: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/bookings_controller.rb:8: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/bookings_controller.rb:26: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:45:01 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:32: syntax error, unexpected ',', expecting =>
            :payment_method,
                           ^
):
  
app/controllers/api/v1/bookings_controller.rb:32: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/bookings_controller.rb:32: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:46:03 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:33: syntax error, unexpected ',', expecting =>
            :scheduled_at,
                         ^
):
  
app/controllers/api/v1/bookings_controller.rb:33: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/bookings_controller.rb:33: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:46:10 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:34: syntax error, unexpected '\n', expecting =>
        )
         ^
):
  
app/controllers/api/v1/bookings_controller.rb:34: syntax error, unexpected '\n', expecting =>
app/controllers/api/v1/bookings_controller.rb:34: syntax error, unexpected '\n', expecting =>
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:46:27 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :scheduled_at, :payment_method, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8a9d411048>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
Completed 404 Not Found in 15ms (ActiveRecord: 5.1ms | Allocations: 6290)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner with 'id'=1):
  
app/controllers/api/v1/bookings_controller.rb:3:in `create'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Homeowner"]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  [1m[36mHomeowner Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "homeowner@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-07 16:47:11.152960"], ["unconfirmed_email", nil], ["created_at", "2023-10-07 16:47:11.152837"], ["updated_at", "2023-10-07 16:47:11.152837"], ["jti", "1a66a6f1-c345-4e47-bfaf-2c0c6ee6311d"], ["isVerified", false], ["type", "Homeowner"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 2.2ms | Allocations: 939)
Devise::Mailer#confirmation_instructions: processed outbound mail in 20.5ms
Delivered mail 65218b8f389e8_c42cb54676e8@DESKTOP-MORCCU3.mail (2268.2ms)
Date: Sun, 08 Oct 2023 00:47:11 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: homeowner@test.com
Message-ID: <65218b8f389e8_c42cb54676e8@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome homeowner@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=dVAmSYDiQbLwrwsQuskW">Confirm my account</a></p>

  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:47:55 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :scheduled_at, :payment_method, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566e698ae0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :scheduled_at, :payment_method, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566e698ae0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :scheduled_at, :payment_method, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566e698ae0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 40ms (ActiveRecord: 5.3ms | Allocations: 22094)


  
NameError (undefined local variable or method `scheduled_at' for #<Api::V1::BookingsController:0x0000000000cf58>):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:48:34 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:32: syntax error, unexpected ',', expecting =>
            :payment_method,
                           ^
):
  
app/controllers/api/v1/bookings_controller.rb:32: syntax error, unexpected ',', expecting =>
app/controllers/api/v1/bookings_controller.rb:32: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:49:22 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566f610d38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566f610d38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566f610d38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.3ms | Allocations: 11765)


  
NameError (undefined local variable or method `scheduled_at' for #<Api::V1::BookingsController:0x0000000001b670>):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:50:20 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c6621e0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c6621e0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c6621e0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.6ms | Allocations: 11719)


  
NameError (undefined local variable or method `scheduled_at' for #<Api::V1::BookingsController:0x00000000022a88>):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:50:22 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c7eb408>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c7eb408>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c7eb408>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 1758)


  
NameError (undefined local variable or method `scheduled_at' for #<Api::V1::BookingsController:0x00000000022b28>):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:50:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c780b58>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c780b58>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c780b58>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms | Allocations: 1760)


  
NameError (undefined local variable or method `scheduled_at' for #<Api::V1::BookingsController:0x00000000022bc8>):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:50:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c8373a8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c8373a8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c8373a8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 1748)


  
NameError (undefined local variable or method `scheduled_at' for #<Api::V1::BookingsController:0x00000000022c40>):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:50:24 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c9c26c8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c9c26c8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c9c26c8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 1760)


  
NameError (undefined local variable or method `scheduled_at' for #<Api::V1::BookingsController:0x00000000022ce0>):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:50:25 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c73b698>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c73b698>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c73b698>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 1748)


  
NameError (undefined local variable or method `scheduled_at' for #<Api::V1::BookingsController:0x00000000022d58>):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:50:25 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566ea6bf50>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566ea6bf50>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566ea6bf50>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 1748)


  
NameError (undefined local variable or method `scheduled_at' for #<Api::V1::BookingsController:0x00000000022dd0>):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:52:26 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566fd512c8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566fd512c8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566fd512c8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.4ms | Allocations: 11756)


  
NameError (undefined local variable or method `scheduled_at' for #<Api::V1::BookingsController:0x0000000002a1e8>):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:52:27 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c60e6a8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c60e6a8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c60e6a8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 1751)


  
NameError (undefined local variable or method `scheduled_at' for #<Api::V1::BookingsController:0x0000000002a288>):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:53:16 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:13: syntax error, unexpected local variable or method, expecting '}'
                scheduled_at: booking_params[:scheduled_a...
                ^~~~~~~~~~~~
):
  
app/controllers/api/v1/bookings_controller.rb:13: syntax error, unexpected local variable or method, expecting '}'
app/controllers/api/v1/bookings_controller.rb:13: syntax error, unexpected local variable or method, expecting '}'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:53:28 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566ca030d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566ca030d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566ca030d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566ca030d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566ca030d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566ca030d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 21ms (Views: 0.6ms | ActiveRecord: 4.0ms | Allocations: 13289)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:53:47 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c733df8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c733df8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c733df8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c733df8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c733df8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c733df8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 2942)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 00:53:52 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c48e8a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c48e8a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c48e8a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c48e8a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c48e8a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f566c48e8a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"type"=>"condo", "price"=>100}, {"type"=>"oneBedroom", "price"=>150}, {"type"=>"oneBathroom", "price"=>200}, {"type"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"type"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>"5000"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 2939)


  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices"[0m
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_title" = $1 LIMIT $2[0m  [["service_title", "Cleaning Services"], ["LIMIT", 1]]
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_title" = $1[0m  [["service_title", "Cleaning Services"]]
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 01:01:04 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e2b18ca8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e2b18ca8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e2b18ca8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e2b18ca8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e2b18ca8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e2b18ca8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 40ms (Views: 0.9ms | ActiveRecord: 4.9ms | Allocations: 23611)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:14:08 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e39f8de0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e39f8de0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e39f8de0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.3ms | Allocations: 13757)


  
NameError (uninitialized constant Api::V1::BookingsController::Bookings):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:14:35 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0aea1e8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0aea1e8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0aea1e8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 5.2ms | Allocations: 11800)


  
NoMethodError (undefined method `job_services' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:14:51 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0aa84a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0aa84a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0aa84a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 19ms (ActiveRecord: 4.0ms | Allocations: 11721)


  
NoMethodError (undefined method `job_services' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:15:08 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e2fddfe0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e2fddfe0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e2fddfe0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.7ms | Allocations: 11708)


  
NoMethodError (undefined method `booking_services' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:15:26 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0e84ec0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0e84ec0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0e84ec0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.0ms | Allocations: 11758)


  
NoMethodError (undefined method `booking_services' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:15:41 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0b84ce8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0b84ce8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0b84ce8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.0ms | Allocations: 11755)


  
NoMethodError (undefined method `booking_services' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:15:42 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e3ad7270>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e3ad7270>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e3ad7270>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 1755)


  
NoMethodError (undefined method `booking_services' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:16:14 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0f82f98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0f82f98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e0f82f98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.9ms | Allocations: 11758)


  
NoMethodError (undefined method `booking_services' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:16:16 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e095f468>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e095f468>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe3e095f468>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 1755)


  
NoMethodError (undefined method `booking_services' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:16:22 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca90ca03c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca90ca03c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :job_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca90ca03c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "job_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 39ms (ActiveRecord: 5.1ms | Allocations: 22092)


  
NoMethodError (undefined method `booking_services' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:17:58 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca7af5b4b8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca7af5b4b8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca7af5b4b8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.5ms | Allocations: 11709)


  
NoMethodError (undefined method `booking_services' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:17:59 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca7aeceb08>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca7aeceb08>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca7aeceb08>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms | Allocations: 1768)


  
NoMethodError (undefined method `booking_services' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:18:06 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca91ce7620>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca91ce7620>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca91ce7620>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:9:in `puts'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca91ce7620>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca91ce7620>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fca91ce7620>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 18ms (Views: 0.5ms | ActiveRecord: 4.2ms | Allocations: 14072)


  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:21:37 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8a00ac9608>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8a00ac9608>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8a00ac9608>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8a00ac9608>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8a00ac9608>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8a00ac9608>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 40ms (Views: 0.9ms | ActiveRecord: 5.1ms | Allocations: 23612)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveProfileReferenceNotNullConstraintInAdress (20231007192351)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "address" ALTER COLUMN "profile" TYPE bigint, ALTER COLUMN "profile" DROP NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveProfileReferenceNotNullConstraintInAdress (20231007192351)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "addresses" ALTER COLUMN "profile" TYPE bigint, ALTER COLUMN "profile" DROP NOT NULL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveProfileReferenceNotNullConstraintInAdress (20231007192351)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "addresses" ALTER COLUMN "profile_id" TYPE bigint, ALTER COLUMN "profile_id" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007192351"]]
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:27:38 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb6e1c598>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb6e1c598>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 41ms (ActiveRecord: 5.8ms | Allocations: 21761)


  
NameError (undefined local variable or method `job_services' for #<Api::V1::BookingsController:0x0000000000cf58>):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:27:48 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb7d23fc8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb7d23fc8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb7d23fc8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb7d23fc8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb7d23fc8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 16ms (Views: 0.6ms | ActiveRecord: 3.7ms | Allocations: 12875)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:27:58 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4f5cdb0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4f5cdb0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4f5cdb0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4f5cdb0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4f5cdb0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 16ms (Views: 0.4ms | ActiveRecord: 3.9ms | Allocations: 12733)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:28:10 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb512a700>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb512a700>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb512a700>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb512a700>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb512a700>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 20ms (Views: 0.4ms | ActiveRecord: 3.8ms | Allocations: 14734)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:28:21 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb53061a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb53061a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 19ms (ActiveRecord: 4.0ms | Allocations: 12720)


  
NoMethodError (undefined method `errors' for false:FalseClass):
  
app/controllers/api/v1/bookings_controller.rb:6:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:28:31 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4d03ca8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4d03ca8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4d03ca8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4d03ca8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4d03ca8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 19ms (Views: 0.4ms | ActiveRecord: 4.0ms | Allocations: 13935)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:28:42 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4cf7db8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4cf7db8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4cf7db8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4cf7db8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fbbb4cf7db8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 21ms (Views: 0.4ms | ActiveRecord: 4.2ms | Allocations: 14007)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:29:40 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f6dcee00bf8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f6dcee00bf8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f6dcee00bf8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f6dcee00bf8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f6dcee00bf8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 42ms (Views: 0.5ms | ActiveRecord: 5.0ms | Allocations: 25392)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:32:02 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f6dcfd92260>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f6dcfd92260>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f6dcfd92260>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f6dcfd92260>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f6dcfd92260>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 21ms (Views: 0.7ms | ActiveRecord: 4.5ms | Allocations: 12692)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:33:08 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007efc2f8b53d0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007efc2f8b53d0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 19:33:08.771622"], ["updated_at", "2023-10-07 19:33:08.771622"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007efc2f8b53d0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007efc2f8b53d0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007efc2f8b53d0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 39ms (Views: 0.5ms | ActiveRecord: 9.7ms | Allocations: 25721)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:40:14 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007efc2cd16878>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007efc2cd16878>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007efc2cd16878>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 6.1ms | Allocations: 21399)


  
ActiveModel::UnknownAttributeError (unknown attribute 'booking_id' for Address.):
  
app/controllers/api/v1/bookings_controller.rb:6:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:40:29 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007efc2ecccbe0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007efc2ecccbe0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007efc2ecccbe0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 20ms (ActiveRecord: 5.8ms | Allocations: 15125)


  
ActiveModel::UnknownAttributeError (unknown attribute 'booking_id' for Address.):
  
app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullConstraintFromMultipleColumnsInBooking (20231007194321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "housemate_id" TYPE bigint, ALTER COLUMN "housemate_id" DROP NOT NULL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullConstraintFromMultipleColumnsInBooking (20231007194321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "housemate_id" TYPE bigint, ALTER COLUMN "housemate_id" DROP NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bookings" DROP COLUMN "subservice_id_id"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveNotNullConstraintFromMultipleColumnsInBooking (20231007194321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "housemate_id" TYPE bigint, ALTER COLUMN "housemate_id" DROP NOT NULL[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "bookings" DROP COLUMN "subservice_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007194321"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:51:16 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe442ce1fe8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe442ce1fe8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe442ce1fe8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe442ce1fe8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe442ce1fe8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 49ms (Views: 2.2ms | ActiveRecord: 6.5ms | Allocations: 30033)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:51:31 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe443bfcdc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe443bfcdc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe443bfcdc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.0ms | Allocations: 11754)


  
Date::Error (invalid date):
  
app/controllers/api/v1/bookings_controller.rb:7:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:51:46 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440d21eb0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440d21eb0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440d21eb0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.4ms | Allocations: 11732)


  
NoMethodError (undefined method `to_Date' for "12:00 PM October 5, 2023 Thursday":String):
  
app/controllers/api/v1/bookings_controller.rb:7:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:51:52 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe441146900>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe441146900>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe441146900>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.9ms | Allocations: 11728)


  
Date::Error (invalid date):
  
app/controllers/api/v1/bookings_controller.rb:7:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:52:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e67130>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e67130>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e67130>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.8ms | Allocations: 11705)


  
Date::Error (invalid date):
  
app/controllers/api/v1/bookings_controller.rb:6:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:52:22 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe44442f790>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe44442f790>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe44442f790>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe44442f790>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.9ms | Allocations: 12084)


  
Date::Error (invalid date):
  
app/controllers/api/v1/bookings_controller.rb:9:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:52:33 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe4410ebeb0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe4410ebeb0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe4410ebeb0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.9ms | Allocations: 11722)


  
Date::Error (invalid date):
  
app/controllers/api/v1/bookings_controller.rb:6:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:54:42 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e11e10>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:3:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e11e10>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e11e10>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.1ms | Allocations: 11721)


  
Date::Error (invalid date):
  
app/controllers/api/v1/bookings_controller.rb:6:in `parse'
app/controllers/api/v1/bookings_controller.rb:6:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:56:41 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440ac1eb8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440ac1eb8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440ac1eb8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440ac1eb8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:00 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.2ms | Allocations: 12063)


  
Date::Error (invalid date):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:57:34 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440a70298>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440a70298>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440a70298>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440a70298>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440a70298>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (0.9ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "address_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", nil], ["created_at", "2023-10-07 19:57:34.982569"], ["updated_at", "2023-10-07 19:57:34.982569"], ["homeowner_id", nil], ["housemate_id", nil], ["address_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 6.4ms | Allocations: 17705)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "total_cost" of relation "bookings" violates not-null constraint
DETAIL:  Failing row contains (1, 2023-10-05 12:30:00, 0, null, 2023-10-07 19:57:34.982569, 2023-10-07 19:57:34.982569, null, null, null, Credit Wallet).
):
  
app/controllers/api/v1/bookings_controller.rb:18:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:58:03 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e12450>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e12450>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e12450>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e12450>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e12450>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.8ms | Allocations: 12373)


  
NoMethodError (undefined method `to_decimal' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:15:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:58:08 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe4411473a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe4411473a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe4411473a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe4411473a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe4411473a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "address_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 19:58:08.928336"], ["updated_at", "2023-10-07 19:58:08.928336"], ["homeowner_id", nil], ["housemate_id", nil], ["address_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 6.2ms | Allocations: 17387)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "homeowner_id" of relation "bookings" violates not-null constraint
DETAIL:  Failing row contains (2, 2023-10-05 12:30:00, 0, 0.00, 2023-10-07 19:58:08.928336, 2023-10-07 19:58:08.928336, null, null, null, Credit Wallet).
):
  
app/controllers/api/v1/bookings_controller.rb:18:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:58:32 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440d24070>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440d24070>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440d24070>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440d24070>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440d24070>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440d24070>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "address_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 19:58:32.818858"], ["updated_at", "2023-10-07 19:58:32.818858"], ["homeowner_id", 2], ["housemate_id", nil], ["address_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 6.4ms | Allocations: 17693)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "address_id" of relation "bookings" violates not-null constraint
DETAIL:  Failing row contains (3, 2023-10-05 12:30:00, 0, 0.00, 2023-10-07 19:58:32.818858, 2023-10-07 19:58:32.818858, 2, null, null, Credit Wallet).
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:58:48 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440f6e600>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440f6e600>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440f6e600>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440f6e600>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440f6e600>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440f6e600>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "address_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 19:58:48.271187"], ["updated_at", "2023-10-07 19:58:48.271187"], ["homeowner_id", 2], ["housemate_id", nil], ["address_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 6.1ms | Allocations: 17701)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "address_id" of relation "bookings" violates not-null constraint
DETAIL:  Failing row contains (4, 2023-10-05 12:30:00, 0, 0.00, 2023-10-07 19:58:48.271187, 2023-10-07 19:58:48.271187, 2, null, null, Credit Wallet).
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:58:50 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440c12588>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440c12588>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440c12588>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440c12588>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440c12588>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440c12588>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "address_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 19:58:50.857846"], ["updated_at", "2023-10-07 19:58:50.857846"], ["homeowner_id", 2], ["housemate_id", nil], ["address_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.8ms | Allocations: 4853)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "address_id" of relation "bookings" violates not-null constraint
DETAIL:  Failing row contains (5, 2023-10-05 12:30:00, 0, 0.00, 2023-10-07 19:58:50.857846, 2023-10-07 19:58:50.857846, 2, null, null, Credit Wallet).
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 03:59:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e6f970>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e6f970>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 19:59:23.638828"], ["updated_at", "2023-10-07 19:59:23.638828"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e6f970>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e6f970>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e6f970>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe440e6f970>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (4.1ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "address_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 19:59:23.649264"], ["updated_at", "2023-10-07 19:59:23.649264"], ["homeowner_id", 2], ["housemate_id", nil], ["address_id", 2], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 13.0ms | Allocations: 19826)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Homeowner"]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 04:01:23 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4030fcc278>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4030fcc278>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 20:01:23.848589"], ["updated_at", "2023-10-07 20:01:23.848589"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4030fcc278>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4030fcc278>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4030fcc278>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (1.0ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "address_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 20:01:23.865526"], ["updated_at", "2023-10-07 20:01:23.865526"], ["homeowner_id", 2], ["housemate_id", nil], ["address_id", 3], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 12.9ms | Allocations: 32930)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 04:03:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f40315d07a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f40315d07a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 20:03:23.160945"], ["updated_at", "2023-10-07 20:03:23.160945"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f40315d07a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f40315d07a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f40315d07a0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 9.1ms | Allocations: 17953)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 04:05:08 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b293170>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b293170>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 20:05:08.180024"], ["updated_at", "2023-10-07 20:05:08.180024"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b293170>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b293170>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b293170>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "address_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 20:05:08.192179"], ["updated_at", "2023-10-07 20:05:08.192179"], ["homeowner_id", nil], ["housemate_id", nil], ["address_id", 5], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 10.0ms | Allocations: 19521)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "homeowner_id" of relation "bookings" violates not-null constraint
DETAIL:  Failing row contains (8, 2023-10-05 12:30:00, 0, 0.00, 2023-10-07 20:05:08.192179, 2023-10-07 20:05:08.192179, null, null, 5, Credit Wallet).
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 04:05:15 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f403007df38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f403007df38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 20:05:15.375115"], ["updated_at", "2023-10-07 20:05:15.375115"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f403007df38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f403007df38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f403007df38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 27ms (ActiveRecord: 9.2ms | Allocations: 17196)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 04:10:32 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b0ec768>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b0ec768>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 20:10:32.396876"], ["updated_at", "2023-10-07 20:10:32.396876"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b0ec768>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b0ec768>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b0ec768>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 8.0ms | Allocations: 18897)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:00:24 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401ae93660>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401ae93660>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:00:24.551741"], ["updated_at", "2023-10-07 21:00:24.551741"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401ae93660>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401ae93660>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401ae93660>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 18ms (ActiveRecord: 7.3ms | Allocations: 7251)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:01:13 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b08beb8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b08beb8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:01:13.996209"], ["updated_at", "2023-10-07 21:01:13.996209"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b08beb8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f401b08beb8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 31ms (ActiveRecord: 11.4ms | Allocations: 17874)


  
ActiveModel::UnknownAttributeError (unknown attribute 'booking_id' for Address.):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:01:47 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031f11198>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031f11198>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:01:47.639979"], ["updated_at", "2023-10-07 21:01:47.639979"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031f11198>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031f11198>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031f11198>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 29ms (ActiveRecord: 10.5ms | Allocations: 17135)


  
ActiveModel::UnknownAttributeError (unknown attribute 'booking_id' for Booking.):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:01:57 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031eea200>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031eea200>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:01:57.702806"], ["updated_at", "2023-10-07 21:01:57.702806"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031eea200>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031eea200>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031eea200>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "address_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:01:57.714112"], ["updated_at", "2023-10-07 21:01:57.714112"], ["homeowner_id", nil], ["housemate_id", nil], ["address_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 10.0ms | Allocations: 19418)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "homeowner_id" of relation "bookings" violates not-null constraint
DETAIL:  Failing row contains (9, 2023-10-05 12:30:00, 0, 0.00, 2023-10-07 21:01:57.714112, 2023-10-07 21:01:57.714112, null, null, null, Credit Wallet).
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:03:34 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031f19f78>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031f19f78>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:03:34.402050"], ["updated_at", "2023-10-07 21:03:34.402050"], ["profile_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031f19f78>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031f19f78>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f4031f19f78>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 33ms (ActiveRecord: 10.5ms | Allocations: 17215)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveAddressReferenceFromBookings (20231007210951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "bookings" DROP COLUMN "address_id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "addresses" ADD "booking_id" bigint[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007210951"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:11:08 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d2420c88>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d2420c88>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:11:08.273791"], ["updated_at", "2023-10-07 21:11:08.273791"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d2420c88>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d2420c88>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d2420c88>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 55ms (ActiveRecord: 11.4ms | Allocations: 31290)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:11:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d050a330>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d050a330>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:11:09.527324"], ["updated_at", "2023-10-07 21:11:09.527324"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d050a330>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d050a330>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d050a330>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 4.2ms | Allocations: 4408)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:11:10 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d0508b70>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d0508b70>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:11:10.315857"], ["updated_at", "2023-10-07 21:11:10.315857"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d0508b70>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d0508b70>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fc2d0508b70>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 3.9ms | Allocations: 4402)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveBookingReferenceNotNullConstraintFromBookingServices (20231007211148)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveBookingReferenceNotNullConstraintFromBookingServices (20231007211148)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveBookingReferenceNotNullConstraintFromBookingServices (20231007211148)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "booking_services" ALTER COLUMN "booking_id" TYPE bigint, ALTER COLUMN "booking_id" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007211148"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:13:39 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a504be20>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a504be20>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:13:39.156309"], ["updated_at", "2023-10-07 21:13:39.156309"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a504be20>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a504be20>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a504be20>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 52ms (ActiveRecord: 10.7ms | Allocations: 31290)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:13:40 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528efe12c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528efe12c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:13:40.115095"], ["updated_at", "2023-10-07 21:13:40.115095"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528efe12c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528efe12c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528efe12c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 3.7ms | Allocations: 4408)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:13:40 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f037e40>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f037e40>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:13:40.835365"], ["updated_at", "2023-10-07 21:13:40.835365"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f037e40>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f037e40>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f037e40>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 3.8ms | Allocations: 4402)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:13:41 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f034ba0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f034ba0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:13:41.430969"], ["updated_at", "2023-10-07 21:13:41.430969"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f034ba0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f034ba0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f034ba0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 3.6ms | Allocations: 4402)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:13:42 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f090d38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f090d38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:13:42.031930"], ["updated_at", "2023-10-07 21:13:42.031930"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f090d38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f090d38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f090d38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 3.7ms | Allocations: 4402)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:13:43 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f24d400>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f24d400>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:13:43.125730"], ["updated_at", "2023-10-07 21:13:43.125730"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f24d400>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f24d400>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f24d400>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 4.2ms | Allocations: 4387)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:13:43 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f299a80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f299a80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:13:43.605586"], ["updated_at", "2023-10-07 21:13:43.605586"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f299a80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f299a80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f299a80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.7ms | Allocations: 4387)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:13:44 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f2d1ea8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f2d1ea8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:13:44.116844"], ["updated_at", "2023-10-07 21:13:44.116844"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f2d1ea8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f2d1ea8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f2d1ea8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 4.3ms | Allocations: 4387)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:13:44 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a64f4890>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a64f4890>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:13:44.662213"], ["updated_at", "2023-10-07 21:13:44.662213"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a64f4890>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a64f4890>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a64f4890>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 3.7ms | Allocations: 4387)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:13:45 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a4ee9e38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a4ee9e38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:13:45.088355"], ["updated_at", "2023-10-07 21:13:45.088355"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a4ee9e38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a4ee9e38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a4ee9e38>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.7ms | Allocations: 4387)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:14:05 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameter: :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a6739d80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a6739d80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:14:05.482904"], ["updated_at", "2023-10-07 21:14:05.482904"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameter: :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a6739d80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a6739d80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f52a6739d80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 4.0ms | Allocations: 3907)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:14:13 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528efe4100>, params: {"booking"=>{"address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 588)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner without an ID):
  
app/controllers/api/v1/bookings_controller.rb:5:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:14:17 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f0f7628>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f0f7628>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:14:17.685417"], ["updated_at", "2023-10-07 21:14:17.685417"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f0f7628>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f0f7628>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f528f0f7628>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 3.8ms | Allocations: 4387)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `booking_id`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:16:43 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (Unknown key: :optional. Valid keys are: :class_name, :anonymous_class, :primary_key, :foreign_key, :dependent, :validate, :inverse_of, :strict_loading, :autosave, :before_add, :after_add, :before_remove, :after_remove, :extend, :counter_cache, :join_table, :index_errors):
  
app/models/booking.rb:5:in `<class:Booking>'
app/models/booking.rb:1:in `<main>'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:17:31 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cada5840>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cada5840>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:17:31.084535"], ["updated_at", "2023-10-07 21:17:31.084535"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cada5840>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cada5840>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cada5840>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 47ms (ActiveRecord: 11.3ms | Allocations: 31251)


  
ActiveModel::UnknownAttributeError (unknown attribute 'address_id' for Booking.):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:19:02 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c81e3900>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c81e3900>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:19:02.076408"], ["updated_at", "2023-10-07 21:19:02.076408"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c81e3900>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c81e3900>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c81e3900>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 33ms (Views: 2.1ms | ActiveRecord: 9.7ms | Allocations: 20897)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:19:33 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f159be70c90>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f159be70c90>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:19:33.320891"], ["updated_at", "2023-10-07 21:19:33.320891"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f159be70c90>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f159be70c90>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f159be70c90>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.8ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:19:33.332815"], ["updated_at", "2023-10-07 21:19:33.332815"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 10.2ms | Allocations: 20245)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:20:54 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cad02fa0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cad02fa0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:20:54.316023"], ["updated_at", "2023-10-07 21:20:54.316023"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cad02fa0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cad02fa0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cad02fa0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 29ms (Views: 0.6ms | ActiveRecord: 9.8ms | Allocations: 18521)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:21:00 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c82aeb00>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c82aeb00>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:21:00.136105"], ["updated_at", "2023-10-07 21:21:00.136105"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c82aeb00>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c82aeb00>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c82aeb00>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:21:00.151716"], ["updated_at", "2023-10-07 21:21:00.151716"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 10.2ms | Allocations: 21981)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:21:24 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cadc6220>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cadc6220>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:21:24.531094"], ["updated_at", "2023-10-07 21:21:24.531094"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cadc6220>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cadc6220>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15cadc6220>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:21:24.544360"], ["updated_at", "2023-10-07 21:21:24.544360"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 10.4ms | Allocations: 21268)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:21:25 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c8054a80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c8054a80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:21:25.997797"], ["updated_at", "2023-10-07 21:21:25.997797"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c8054a80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c8054a80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f15c8054a80>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.8ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:21:26.005954"], ["updated_at", "2023-10-07 21:21:26.005954"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 5.4ms | Allocations: 6654)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:21:42 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe8ea180c88>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe8ea180c88>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:21:42.729978"], ["updated_at", "2023-10-07 21:21:42.729978"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe8ea180c88>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe8ea180c88>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe8ea180c88>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.8ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:21:42.751560"], ["updated_at", "2023-10-07 21:21:42.751560"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 66ms (ActiveRecord: 12.4ms | Allocations: 35677)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."homeowner_id" = $1[0m  [["homeowner_id", 2]]
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:24:07 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89462cf020>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89462cf020>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:24:07.853650"], ["updated_at", "2023-10-07 21:24:07.853650"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89462cf020>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89462cf020>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89462cf020>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.8ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:24:07.873761"], ["updated_at", "2023-10-07 21:24:07.873761"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 61ms (ActiveRecord: 12.1ms | Allocations: 35676)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:25:40 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89479588f0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89479588f0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:25:40.172432"], ["updated_at", "2023-10-07 21:25:40.172432"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89479588f0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89479588f0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89479588f0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:25:40.187172"], ["updated_at", "2023-10-07 21:25:40.187172"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 10.7ms | Allocations: 20618)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:25:51 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89445d1fe0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89445d1fe0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:25:51.645363"], ["updated_at", "2023-10-07 21:25:51.645363"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89445d1fe0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89445d1fe0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89445d1fe0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:25:51.657530"], ["updated_at", "2023-10-07 21:25:51.657530"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 9.7ms | Allocations: 20668)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:26:30 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8947034940>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8947034940>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:26:31.021926"], ["updated_at", "2023-10-07 21:26:31.021926"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8947034940>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8947034940>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8947034940>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:26:31.035013"], ["updated_at", "2023-10-07 21:26:31.035013"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 10.0ms | Allocations: 20610)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:18:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:27:21 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89444d3530>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89444d3530>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:27:21.888695"], ["updated_at", "2023-10-07 21:27:21.888695"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89444d3530>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89444d3530>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89444d3530>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:27:21.902244"], ["updated_at", "2023-10-07 21:27:21.902244"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 10.3ms | Allocations: 20608)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:27:27 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8917ffbfe8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8917ffbfe8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:27:27.845701"], ["updated_at", "2023-10-07 21:27:27.845701"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8917ffbfe8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8917ffbfe8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8917ffbfe8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:27:27.858501"], ["updated_at", "2023-10-07 21:27:27.858501"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 11.1ms | Allocations: 20600)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:27:57 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89442583f0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89442583f0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:27:57.267356"], ["updated_at", "2023-10-07 21:27:57.267356"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89442583f0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89442583f0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89442583f0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:27:57.280377"], ["updated_at", "2023-10-07 21:27:57.280377"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 10.2ms | Allocations: 20601)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:28:46 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f89445aa328>, params: {"booking"=>{"id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 404 Not Found in 5ms (ActiveRecord: 1.9ms | Allocations: 2245)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner without an ID):
  
app/controllers/api/v1/bookings_controller.rb:5:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:28:52 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8946537a88>, params: {"booking"=>{"id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8946537a88>, params: {"booking"=>{"id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:28:52.964867"], ["updated_at", "2023-10-07 21:28:52.964867"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8946537a88>, params: {"booking"=>{"id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8946537a88>, params: {"booking"=>{"id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8946537a88>, params: {"booking"=>{"id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.8ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:28:52.981382"], ["updated_at", "2023-10-07 21:28:52.981382"], ["homeowner_id", 2], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 11.4ms | Allocations: 20597)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(2) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (56.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (63.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (167.2ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (19.2ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "homeowner_id" bigint NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (22.3ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (18.7ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_cc278567d8"
FOREIGN KEY ("homeowner_id")
  REFERENCES "homeowners" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231007211148)[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007160122),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951);

[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-07 21:30:02.898164"], ["updated_at", "2023-10-07 21:30:02.898164"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "ad734ef24daca9efd07bef2b22cb3721d21b9ee9"], ["created_at", "2023-10-07 21:30:02.906555"], ["updated_at", "2023-10-07 21:30:02.906555"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (39.8ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "homeowner_id" bigint NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL)[0m
  [1m[35m (38.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (58.7ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (71.2ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL)[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (5.5ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (5.2ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_cc278567d8"
FOREIGN KEY ("homeowner_id")
  REFERENCES "homeowners" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231007211148)[0m
  [1m[35m (3.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007160122),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951);

[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-07 21:30:03.515826"], ["updated_at", "2023-10-07 21:30:03.515826"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-07 21:30:03.524489"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "ad734ef24daca9efd07bef2b22cb3721d21b9ee9"], ["created_at", "2023-10-07 21:30:03.534810"], ["updated_at", "2023-10-07 21:30:03.534810"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:30:15 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f8eee957278>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 404 Not Found in 14ms (ActiveRecord: 3.3ms | Allocations: 6657)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner with 'id'=2):
  
app/controllers/api/v1/bookings_controller.rb:5:in `create'
Started POST "/signup" for ::1 at 2023-10-08 05:30:37 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHomeowner Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-07 21:30:37.796232"], ["unconfirmed_email", nil], ["created_at", "2023-10-07 21:30:37.796048"], ["updated_at", "2023-10-07 21:30:37.796048"], ["jti", "db26cd6c-2728-4462-9e5c-f24bd2bd3cfc"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.5ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 9.2ms
Delivered mail 6521cdfdca308_1c5e52a0851781@DESKTOP-MORCCU3.mail (1558.8ms)
Date: Sun, 08 Oct 2023 05:30:37 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <6521cdfdca308_1c5e52a0851781@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=7V2LK8fM8X5B1dPzmsQn">Confirm my account</a></p>

Completed 200 OK in 1801ms (Views: 0.2ms | ActiveRecord: 7.6ms | Allocations: 38457)


Started GET "/confirmation?confirmation_token=[FILTERED]" for ::1 at 2023-10-08 05:30:43 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHomeowner Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-10-07 21:30:43.936884"], ["updated_at", "2023-10-07 21:30:43.937164"], ["id", 1]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 4.3ms | Allocations: 5510)


Started GET "/favicon.ico" for ::1 at 2023-10-08 05:30:44 +0800
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:30:54 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f625e4eb048>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 404 Not Found in 10ms (ActiveRecord: 0.2ms | Allocations: 1448)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner with 'id'=2):
  
app/controllers/api/v1/bookings_controller.rb:5:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:31:00 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f625e710968>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f625e710968>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:31:00.944104"], ["updated_at", "2023-10-07 21:31:00.944104"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f625e710968>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f625e710968>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f625e710968>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.9ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:31:00.963463"], ["updated_at", "2023-10-07 21:31:00.963463"], ["homeowner_id", 1], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 9.4ms | Allocations: 20926)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(1) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveForeignKeyTrueInBookingsForHomeowner (20231007213248)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveForeignKeyTrueInBookingsForHomeowner (20231007213248)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "homeowner_id" TYPE bigint[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007213248"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:33:40 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f171191a828>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f171191a828>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:33:40.233873"], ["updated_at", "2023-10-07 21:33:40.233873"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f171191a828>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f171191a828>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f171191a828>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.8ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:33:40.255581"], ["updated_at", "2023-10-07 21:33:40.255581"], ["homeowner_id", 1], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 63ms (ActiveRecord: 12.6ms | Allocations: 35677)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(1) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:33:41 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f16ebaef840>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f16ebaef840>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:33:41.308866"], ["updated_at", "2023-10-07 21:33:41.308866"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f16ebaef840>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f16ebaef840>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f16ebaef840>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:33:41.317273"], ["updated_at", "2023-10-07 21:33:41.317273"], ["homeowner_id", 1], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 5.2ms | Allocations: 6669)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(1) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:33:42 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f1710082090>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f1710082090>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:33:42.010842"], ["updated_at", "2023-10-07 21:33:42.010842"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f1710082090>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f1710082090>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f1710082090>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:33:42.018007"], ["updated_at", "2023-10-07 21:33:42.018007"], ["homeowner_id", 1], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 4.5ms | Allocations: 6665)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(1) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:34:12 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f1712dd0c90>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f1712dd0c90>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:34:12.136004"], ["updated_at", "2023-10-07 21:34:12.136004"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f1712dd0c90>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f1712dd0c90>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f1712dd0c90>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 31ms (ActiveRecord: 9.3ms | Allocations: 18258)


  
ActiveModel::UnknownAttributeError (unknown attribute 'true' for Booking.):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:34:39 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f16eb8960f8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f16eb8960f8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:34:39.272571"], ["updated_at", "2023-10-07 21:34:39.272571"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f16eb8960f8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f16eb8960f8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f16eb8960f8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 32ms (Views: 1.6ms | ActiveRecord: 9.8ms | Allocations: 20146)


  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Homeowner"]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveForeignKeyTrueInBookingsForHomeowner (20231007213248)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:36:04 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f66c59a1c20>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 404 Not Found in 14ms (ActiveRecord: 3.8ms | Allocations: 6663)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner with 'id'=2):
  
app/controllers/api/v1/bookings_controller.rb:5:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:36:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f669fca94c0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f669fca94c0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:36:09.407641"], ["updated_at", "2023-10-07 21:36:09.407641"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f669fca94c0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f669fca94c0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f669fca94c0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 45ms (Views: 1.4ms | ActiveRecord: 8.7ms | Allocations: 29478)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:37:13 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f669fb78f38>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f669fb78f38>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:37:13.855169"], ["updated_at", "2023-10-07 21:37:13.855169"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f669fb78f38>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 33ms (ActiveRecord: 16.9ms | Allocations: 14651)


  
NameError (uninitialized constant Api::V1::BookingsController::Bookings):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:37:24 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f66c5da9610>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f66c5da9610>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:37:24.142776"], ["updated_at", "2023-10-07 21:37:24.142776"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f66c5da9610>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f66c5da9610>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f66c5da9610>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 30ms (Views: 0.4ms | ActiveRecord: 9.8ms | Allocations: 18379)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:37:55 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f65aafea508>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f65aafea508>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:37:55.249872"], ["updated_at", "2023-10-07 21:37:55.249872"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f65aafea508>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f65aafea508>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f65aafea508>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 58ms (Views: 1.4ms | ActiveRecord: 10.7ms | Allocations: 33664)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to Correction (20231007213837)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "homeowner_id" TYPE bigint[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007213837"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:39:07 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf4fca010>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf4fca010>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:39:07.553821"], ["updated_at", "2023-10-07 21:39:07.553821"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf4fca010>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf4fca010>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf4fca010>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 61ms (Views: 1.5ms | ActiveRecord: 11.5ms | Allocations: 33665)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:39:08 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf6785e70>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf6785e70>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:39:08.556182"], ["updated_at", "2023-10-07 21:39:08.556182"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf6785e70>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf6785e70>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf6785e70>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 4.2ms | Allocations: 4815)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:39:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf410c000>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf410c000>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:39:09.380905"], ["updated_at", "2023-10-07 21:39:09.380905"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf410c000>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf410c000>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf410c000>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 3.7ms | Allocations: 4809)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:39:22 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf5d287c0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf5d287c0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:39:22.509389"], ["updated_at", "2023-10-07 21:39:22.509389"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf5d287c0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf5d287c0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf5d287c0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "0.0"], ["created_at", "2023-10-07 21:39:22.525158"], ["updated_at", "2023-10-07 21:39:22.525158"], ["homeowner_id", 1], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 10.9ms | Allocations: 22074)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(1) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:39:25 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf411b2d0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf411b2d0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:39:25.639841"], ["updated_at", "2023-10-07 21:39:25.639841"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf411b2d0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf411b2d0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fddf411b2d0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 36ms (Views: 0.9ms | ActiveRecord: 10.9ms | Allocations: 18452)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:40:48 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f45b2afa790>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f45b2afa790>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:40:48.383280"], ["updated_at", "2023-10-07 21:40:48.383280"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f45b2afa790>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f45b2afa790>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f45b2afa790>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 59ms (Views: 1.6ms | ActiveRecord: 10.7ms | Allocations: 33665)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (57.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (69.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (53.5ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (47.3ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (22.4ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint)[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (18.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "homeowner_id" bigint NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL)[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_cc278567d8"
FOREIGN KEY ("homeowner_id")
  REFERENCES "homeowners" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (7.0ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (6.7ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231007213837)[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007160122),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248);

[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-07 21:40:55.920523"], ["updated_at", "2023-10-07 21:40:55.920523"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5eec84945970914d5f8cc7c536641567567501ae"], ["created_at", "2023-10-07 21:40:55.928565"], ["updated_at", "2023-10-07 21:40:55.928565"]]
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "homeowner_id" bigint NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL)[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL)[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (34.6ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (47.4ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_cc278567d8"
FOREIGN KEY ("homeowner_id")
  REFERENCES "homeowners" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231007213837)[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007160122),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248);

[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-07 21:40:56.422901"], ["updated_at", "2023-10-07 21:40:56.422901"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-07 21:40:56.429452"], ["key", "environment"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5eec84945970914d5f8cc7c536641567567501ae"], ["created_at", "2023-10-07 21:40:56.436562"], ["updated_at", "2023-10-07 21:40:56.436562"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2023-10-08 05:41:01 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHomeowner Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-07 21:41:01.824978"], ["unconfirmed_email", nil], ["created_at", "2023-10-07 21:41:01.824860"], ["updated_at", "2023-10-07 21:41:01.824860"], ["jti", "c1517893-5fea-4151-95e1-22b1d80f68aa"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.6ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 10.7ms
Delivered mail 6521d06dd14af_1da762a0848715@DESKTOP-MORCCU3.mail (1452.6ms)
Date: Sun, 08 Oct 2023 05:41:01 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <6521d06dd14af_1da762a0848715@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=xoDTLAUZaT3cSz2WvArL">Confirm my account</a></p>

Completed 200 OK in 1695ms (Views: 0.3ms | ActiveRecord: 6.9ms | Allocations: 38436)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:41:06 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}}
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71456240>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71456240>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:41:06.246829"], ["updated_at", "2023-10-07 21:41:06.246829"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71456240>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71456240>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameters: :booking_service, :total. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71456240>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 32ms (Views: 0.7ms | ActiveRecord: 8.8ms | Allocations: 17272)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:42:00 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7137ec50>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7137ec50>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:42:00.628770"], ["updated_at", "2023-10-07 21:42:00.628770"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7137ec50>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7137ec50>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7137ec50>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 4.2ms | Allocations: 4815)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:42:01 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71306b88>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71306b88>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:42:01.728557"], ["updated_at", "2023-10-07 21:42:01.728557"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71306b88>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71306b88>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71306b88>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 4.3ms | Allocations: 4812)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:42:02 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7127ea80>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7127ea80>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:42:02.331468"], ["updated_at", "2023-10-07 21:42:02.331468"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7127ea80>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7127ea80>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7127ea80>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 5.9ms | Allocations: 4797)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:42:02 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c712069b8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c712069b8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:42:02.777900"], ["updated_at", "2023-10-07 21:42:02.777900"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c712069b8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c712069b8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c712069b8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 4.0ms | Allocations: 4797)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:42:04 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7117e928>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7117e928>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:42:04.923365"], ["updated_at", "2023-10-07 21:42:04.923365"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7117e928>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7117e928>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7117e928>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 3.8ms | Allocations: 4812)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:42:05 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71106900>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71106900>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:42:05.370009"], ["updated_at", "2023-10-07 21:42:05.370009"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71106900>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71106900>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71106900>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 3.6ms | Allocations: 4797)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:42:06 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7145e800>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7145e800>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:42:06.062348"], ["updated_at", "2023-10-07 21:42:06.062348"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7145e800>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7145e800>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c7145e800>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 4.4ms | Allocations: 4798)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:42:06 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71302088>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71302088>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:42:06.823290"], ["updated_at", "2023-10-07 21:42:06.823290"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71302088>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71302088>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f7c71302088>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 3.7ms | Allocations: 4797)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:43:19 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:37: syntax error, unexpected ':', expecting ')'
            :booking_service : [:title,
                             ^
):
  
app/controllers/api/v1/bookings_controller.rb:37: syntax error, unexpected ':', expecting ')'
app/controllers/api/v1/bookings_controller.rb:37: syntax error, unexpected ':', expecting ')'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:43:48 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:43:48.090672"], ["updated_at", "2023-10-07 21:43:48.090672"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
Completed 200 OK in 32ms (Views: 0.4ms | ActiveRecord: 11.8ms | Allocations: 18756)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:44:07 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 21:44:07.136128"], ["updated_at", "2023-10-07 21:44:07.136128"], ["profile_id", nil], ["booking_id", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:6:in `create'
Completed 200 OK in 28ms (Views: 0.5ms | ActiveRecord: 9.8ms | Allocations: 18679)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:44:31 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 15ms (Views: 0.4ms | ActiveRecord: 3.9ms | Allocations: 12731)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:48:11 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 15ms (Views: 0.4ms | ActiveRecord: 3.7ms | Allocations: 12704)


Started GET "/confirmation?confirmation_token=[FILTERED]" for ::1 at 2023-10-08 05:50:07 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHomeowner Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-10-07 21:50:07.770871"], ["updated_at", "2023-10-07 21:50:07.771130"], ["id", 1]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 5407)


Started GET "/confirmation?confirmation_token=[FILTERED]" for ::1 at 2023-10-08 05:50:09 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1232)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:50:16 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 2719)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:51:57 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 2720)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:52:26 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 3.8ms | Allocations: 13179)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:52:27 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 3124)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:52:41 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 19ms (Views: 0.4ms | ActiveRecord: 4.0ms | Allocations: 14599)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:52:42 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 3292)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:54:31 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 3.8ms | Allocations: 13184)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:56:21 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 16ms (Views: 0.5ms | ActiveRecord: 4.3ms | Allocations: 12821)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:56:22 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2728)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:56:22 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 2728)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:56:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2728)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:56:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2728)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:56:29 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.2ms | Allocations: 12201)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:11:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:57:18 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 61ms (Views: 1.2ms | ActiveRecord: 3.9ms | Allocations: 13207)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:57:19 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 2884)


  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."homeowner_id" = $1[0m  [["homeowner_id", 1]]
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 05:59:47 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mBooking Create (1.0ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "homeowner_id", "housemate_id", "payment_method") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 21:59:47.658620"], ["updated_at", "2023-10-07 21:59:47.658620"], ["homeowner_id", 1], ["housemate_id", nil], ["payment_method", "Credit Wallet"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 6.5ms | Allocations: 27067)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(1) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:17:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:00:06 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 18ms (Views: 1.6ms | ActiveRecord: 3.8ms | Allocations: 14761)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:00:08 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2896)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:00:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2896)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:00:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2896)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:00:10 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2883)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to Correct1 (20231007220155)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to Correct1 (20231007220155)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "bookings" DROP COLUMN "homeowner_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007220155"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:02:56 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 5.1ms | Allocations: 23893)


  
ActiveModel::UnknownAttributeError (unknown attribute 'homeowner_id' for Booking.):
  
app/controllers/api/v1/bookings_controller.rb:11:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (56.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (65.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (49.9ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (44.1ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (22.5ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint)[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (20.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231007220155)[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007160122),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837);

[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-07 22:03:08.365591"], ["updated_at", "2023-10-07 22:03:08.365591"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "ebf38d4c1c31ff3ad69a39054577b279d43471af"], ["created_at", "2023-10-07 22:03:08.373521"], ["updated_at", "2023-10-07 22:03:08.373521"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (19.6ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (7.1ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231007220155)[0m
  [1m[35m (3.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007160122),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837);

[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-07 22:03:08.812227"], ["updated_at", "2023-10-07 22:03:08.812227"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-07 22:03:08.819288"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "ebf38d4c1c31ff3ad69a39054577b279d43471af"], ["created_at", "2023-10-07 22:03:08.826678"], ["updated_at", "2023-10-07 22:03:08.826678"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to Correct2 (20231007220319)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bookings" ADD "homeowner_id" bigint[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007220319"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:04:37 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 404 Not Found in 13ms (ActiveRecord: 3.1ms | Allocations: 6648)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner with 'id'=1):
  
app/controllers/api/v1/bookings_controller.rb:5:in `create'
Started POST "/signup" for ::1 at 2023-10-08 06:04:42 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHomeowner Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-07 22:04:42.705614"], ["unconfirmed_email", nil], ["created_at", "2023-10-07 22:04:42.705457"], ["updated_at", "2023-10-07 22:04:42.705457"], ["jti", "8989b42a-34b5-4613-8adf-1c3b87c3a57d"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.7ms | Allocations: 929)
Devise::Mailer#confirmation_instructions: processed outbound mail in 10.9ms
Delivered mail 6521d5fab4f17_1f86f2a1c19887@DESKTOP-MORCCU3.mail (1247.5ms)
Date: Sun, 08 Oct 2023 06:04:42 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <6521d5fab4f17_1f86f2a1c19887@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=56wWDXD_qY7ziZzyexQp">Confirm my account</a></p>

Completed 200 OK in 1478ms (Views: 0.2ms | ActiveRecord: 6.2ms | Allocations: 33034)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:04:45 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 1.9ms | Allocations: 10070)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to Correct2 (20231007220319)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "bookings" DROP COLUMN "homeowner_id"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231007220319"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to Correct2 (20231007220319)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bookings" ADD "homeowner_id" bigint NOT NULL[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_cc278567d8"
FOREIGN KEY ("homeowner_id")
  REFERENCES "homeowners" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007220319"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:09:26 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 5.2ms | Allocations: 24747)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:11:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:10:33 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.3ms | Allocations: 12654)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:11:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:11:48 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.8ms | Allocations: 12655)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:11:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:12:39 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.2ms | Allocations: 13062)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:11:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:12:48 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.0ms | Allocations: 13054)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:11:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:14:29 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.0ms | Allocations: 12666)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:15:43 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.3ms | Allocations: 12663)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:16:13 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.8ms | Allocations: 12660)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:16:15 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2505)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:17:54 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2505)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:19:57 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mBooking Create (0.9ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 22:19:57.848997"], ["updated_at", "2023-10-07 22:19:57.848997"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.8ms | Allocations: 15413)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(1) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:17:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:20:03 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 4.1ms | Allocations: 12672)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:20:43 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.4ms | Allocations: 11792)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/signup" for ::1 at 2023-10-08 06:21:02 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 422 Unprocessable Entity in 191ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 12692)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:21:07 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.1ms | Allocations: 5482)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:21:32 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 16ms (Views: 0.4ms | ActiveRecord: 3.9ms | Allocations: 12859)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:21:45 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 16ms (Views: 0.5ms | ActiveRecord: 4.0ms | Allocations: 12797)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:21:49 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 15ms (Views: 0.4ms | ActiveRecord: 3.8ms | Allocations: 12706)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:21:50 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2719)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:21:54 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.9ms | Allocations: 12221)


  
ActiveRecord::AssociationTypeMismatch (Homeowner(#250680) expected, got 1 which is an instance of Integer(#2140)):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:22:00 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.8ms | Allocations: 12375)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:22:11 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 6.0ms | Allocations: 12666)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:22:51 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.1ms | Allocations: 12668)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:22:52 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2511)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:23:56 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.9ms | Allocations: 12661)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:24:08 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 5.0ms | Allocations: 24760)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:24:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2526)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:24:10 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms | Allocations: 2523)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:24:10 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms | Allocations: 2523)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:29:44 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 5.6ms | Allocations: 24915)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (50.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (65.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (43.8ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (44.2ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35m (19.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (19.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20231002202157)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "name" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002202157"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAddresses (20231002204715)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002204715"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPhoneNumberToUser (20231002205112)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "phone_number" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002205112"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAddressReferenceToUsers (20231002205229)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "addresses" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002205229"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHousemateServices (20231002210349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210349"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateServices (20231002210428)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210428"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSubservices (20231002210615)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210615"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPriceColumnToService (20231002210815)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "services" ADD "price" decimal(10,2) NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002210815"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSubserviceReferenceToService (20231002211005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "subservices" ADD "service_id" bigint NOT NULL[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211005"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHousemateServiceReferenceToHousemate (20231002211137)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_user_id" ON "housemate_services" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_4ec638d706"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211137"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSubserviceRefernceToHousemateService (20231002211633)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "subservices" ADD "housemate_service_id" bigint NOT NULL[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231002211633"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddJtiToUsers (20231003003103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "jti" character varying NOT NULL[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003003103"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemovePhoneNumberNotNullConstraintInUser (20231003005947)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "phone_number" TYPE character varying, ALTER COLUMN "phone_number" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003005947"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVerifiedColumnToUser (20231003010147)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "isVerified" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003010147"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNameNotNullConstraintInUser (20231003010333)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "name" TYPE character varying, ALTER COLUMN "name" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003010333"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeColumnToUser (20231003035653)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "type" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003035653"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHomeowners (20231003040035)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003040035"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHousemates (20231003040322)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (39.6ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003040322"]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProfiles (20231003102813)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003102813"]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddProfileRefToUser (20231003103017)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "profiles" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003103017"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeAddressRefToProfile (20231003103152)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "addresses" DROP CONSTRAINT "fk_rails_48c9e0c5a2"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "addresses" DROP COLUMN "user_id"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "addresses" ADD "profile_id" bigint NOT NULL[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003103152"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserEmailColumnToProfileForReference (20231003114958)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "profiles" ADD "email" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003114958"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNameAndPhoneNumberColumnsInUser (20231003121146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "phone_number"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231003121146"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIsActiveColumnToHomeowner (20231006104722)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "homeowners" ADD "is_active" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006104722"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNotNullConstraintColumnFromSubservice (20231006115920)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "subservices" ALTER COLUMN "housemate_service_id" TYPE bigint, ALTER COLUMN "housemate_service_id" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006115920"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddServiceTitleColumnToSubserviceForReference (20231006120530)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "subservices" ADD "service_title" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006120530"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddEmailColumnForReferenceToHousemateService (20231006135343)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.9ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "email" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006135343"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddServiceTitleColumnToHousemateServices (20231006135600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "service_title" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006135600"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveUserIdColumnFromHousemateService (20231006141433)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "housemate_services" DROP COLUMN "user_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006141433"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHousemateServiceReferenceToHousemateForLookup (20231006142022)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "housemate_id" bigint NOT NULL[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006142022"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveEmailColumnFromHousemateServices (20231006145119)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "housemate_services" ALTER COLUMN "email" TYPE character varying, ALTER COLUMN "email" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006145119"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to Correct (20231006145853)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "housemate_services" ALTER COLUMN "email" TYPE character varying, ALTER COLUMN "email" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231006145853"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20231007155221)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007155221"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddBookingReferencesToMultipleTables (20231007155402)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD "homeowner_id" bigint NOT NULL[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_cc278567d8"
FOREIGN KEY ("homeowner_id")
  REFERENCES "homeowners" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD "housemate_id" bigint NOT NULL[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "bookings" ADD "subservice_id" bigint NOT NULL[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_subservice_id" ON "bookings" ("subservice_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_fd177e7839"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD "address_id" bigint NOT NULL[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_address_id" ON "bookings" ("address_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_9a89b8293e"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007155402"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPaymentMethodColumnToBooking (20231007155842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD "payment_method" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007155842"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpdateTotalCostColumInBooking (20231007155958)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (39.6ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "total_cost" TYPE decimal(10,2), ALTER COLUMN "total_cost" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007155958"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveBookingRequest (20231007160122)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "booking_requests"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBookingServices (20231007161416)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007161416"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddBookingServiceReferencesToMultipleModels (20231007161626)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "booking_services" ADD "service_id" bigint NOT NULL[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "booking_services" ADD "subservice_id" bigint NOT NULL[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "booking_services" ADD "booking_id" bigint NOT NULL[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007161626"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveProfileReferenceNotNullConstraintInAdress (20231007192351)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "addresses" ALTER COLUMN "profile_id" TYPE bigint, ALTER COLUMN "profile_id" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007192351"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNotNullConstraintFromMultipleColumnsInBooking (20231007194321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "housemate_id" TYPE bigint, ALTER COLUMN "housemate_id" DROP NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bookings" DROP COLUMN "subservice_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007194321"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveAddressReferenceFromBookings (20231007210951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bookings" DROP COLUMN "address_id"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "addresses" ADD "booking_id" bigint[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007210951"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveBookingReferenceNotNullConstraintFromBookingServices (20231007211148)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "booking_services" ALTER COLUMN "booking_id" TYPE bigint, ALTER COLUMN "booking_id" DROP NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007211148"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveForeignKeyTrueInBookingsForHomeowner (20231007213248)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "homeowner_id" TYPE bigint[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007213248"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to Correction (20231007213837)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "homeowner_id" TYPE bigint[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007213837"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to Correct1 (20231007220155)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "bookings" DROP COLUMN "homeowner_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007220155"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to Correct2 (20231007220319)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bookings" ADD "homeowner_id" bigint NOT NULL[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_cc278567d8"
FOREIGN KEY ("homeowner_id")
  REFERENCES "homeowners" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007220319"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-07 22:31:25.684386"], ["updated_at", "2023-10-07 22:31:25.684386"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2023-10-08 06:31:47 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHomeowner Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-07 22:31:47.688145"], ["unconfirmed_email", nil], ["created_at", "2023-10-07 22:31:47.687952"], ["updated_at", "2023-10-07 22:31:47.687952"], ["jti", "2ee90d0c-5caf-4e17-ad32-38a7929b1db2"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.5ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 9.5ms
Delivered mail 6521dc53afbec_21a532a08152@DESKTOP-MORCCU3.mail (1937.8ms)
Date: Sun, 08 Oct 2023 06:31:47 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <6521dc53afbec_21a532a08152@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=wAEMbPcdWuV_pDH_XQYF">Confirm my account</a></p>

Completed 200 OK in 2179ms (Views: 0.3ms | ActiveRecord: 7.2ms | Allocations: 38438)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:31:55 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.4ms | Allocations: 9979)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:31:56 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2616)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to Correct3 (20231007223321)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "homeowner_id" TYPE bigint, ALTER COLUMN "homeowner_id" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007223321"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:35:15 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 5.2ms | Allocations: 24915)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:36:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.9ms | Allocations: 12654)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:36:17 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 5.0ms | Allocations: 24723)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:36:25 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 4.0ms | Allocations: 12060)


  
ActiveModel::UnknownAttributeError (unknown attribute 'booking_service' for Booking.):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:38:40 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 5.2ms | Allocations: 23186)


  
ActiveModel::UnknownAttributeError (unknown attribute 'booking_service' for Booking.):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:39:17 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.9ms | Allocations: 13610)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:39:46 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.2ms | Allocations: 12673)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:39:47 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms | Allocations: 2505)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:40:15 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.0ms | Allocations: 12653)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:40:16 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2516)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:40:22 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 5.3ms | Allocations: 24743)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:41:17 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.9ms | Allocations: 2143)


  
ArgumentError (Unsupported argument type: 1 (Integer)):
  
app/controllers/api/v1/bookings_controller.rb:5:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:41:26 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.4ms | Allocations: 12667)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:42:06 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12562d0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12562d0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12562d0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12562d0>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.8ms | Allocations: 12274)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:42:08 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12c69b8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12c69b8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12c69b8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12c69b8>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms | Allocations: 2123)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:42:12 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms | Allocations: 1453)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:42:15 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12c8d58>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12c8d58>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12c8d58>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :booking_service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b12c8d58>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2111)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:42:30 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
[31mUnpermitted parameters: :scheduled_at, :payment_method, :total_cost. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b1257810>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameters: :scheduled_at, :payment_method, :total_cost. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f35b1257810>, params: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.2ms | Allocations: 9162)


  
TypeError (no implicit conversion of nil into String):
  
app/controllers/api/v1/bookings_controller.rb:8:in `strptime'
app/controllers/api/v1/bookings_controller.rb:8:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:42:39 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.2ms | Allocations: 12624)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:43:51 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.1ms | Allocations: 12680)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:44:22 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.8ms | Allocations: 12680)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:44:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2532)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:44:33 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 4.8ms | Allocations: 24771)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:45:28 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:14: syntax error, unexpected local variable or method, expecting ')'
            housemate_id: 0,
            ^~~~~~~~~~~~
):
  
app/controllers/api/v1/bookings_controller.rb:14: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/bookings_controller.rb:14: syntax error, unexpected local variable or method, expecting ')'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:45:44 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.1ms | Allocations: 12719)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:46:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.0ms | Allocations: 12686)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:46:34 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.0ms | Allocations: 12693)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:46:55 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.3ms | Allocations: 12693)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:47:06 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.8ms | Allocations: 12686)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:47:30 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.5ms | Allocations: 12686)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:47:45 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.8ms | Allocations: 12696)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:47:53 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 5.5ms | Allocations: 24790)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:48:48 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."homeowner_id" = $1[0m  [["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:9:in `puts'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 4.6ms | Allocations: 13473)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:49:07 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.1ms | Allocations: 12707)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:49:35 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.4ms | Allocations: 12403)


  
ActiveModel::UnknownAttributeError (unknown attribute 'true' for Booking.):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:49:48 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.3ms | Allocations: 12707)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:50:04 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.8ms | Allocations: 13103)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:50:15 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.1ms | Allocations: 13104)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:51:48 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.9ms | Allocations: 13102)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:51:49 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2949)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:52:14 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.1ms | Allocations: 8891)


  
NameError (undefined local variable or method `booking' for #<Api::V1::BookingsController:0x00000000046ff0>):
  
app/controllers/api/v1/bookings_controller.rb:18:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:52:25 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 10ms (ActiveRecord: 2.1ms | Allocations: 8825)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:52:31 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.1ms | Allocations: 12640)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:10:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:52:47 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 11ms (ActiveRecord: 2.4ms | Allocations: 8810)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:52:53 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 11ms (ActiveRecord: 2.0ms | Allocations: 8923)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:53:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 10ms (ActiveRecord: 2.1ms | Allocations: 8897)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:53:31 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 16ms (ActiveRecord: 4.1ms | Allocations: 12170)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:53:58 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 17ms (ActiveRecord: 4.9ms | Allocations: 12198)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:54:04 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 15ms (ActiveRecord: 3.9ms | Allocations: 12242)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:54:10 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 16ms (ActiveRecord: 4.1ms | Allocations: 12718)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:54:22 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 16ms (ActiveRecord: 3.9ms | Allocations: 12527)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:54:27 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 16ms (ActiveRecord: 4.1ms | Allocations: 12608)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:54:43 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 16ms (ActiveRecord: 4.0ms | Allocations: 12612)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:54:50 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.0ms | Allocations: 12479)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:55:00 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 17ms (ActiveRecord: 3.9ms | Allocations: 12599)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:55:22 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.2ms | Allocations: 9087)


  
NoMethodError (undefined method `booking' for #<Homeowner id: 1, email: "housemate@test.com", created_at: "2023-10-07 22:31:47.687952000 +0000", updated_at: "2023-10-07 22:31:47.687952000 +0000", jti: "2ee90d0c-5caf-4e17-ad32-38a7929b1db2", isVerified: false>):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:55:28 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 4.3ms | Allocations: 12785)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `true`):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:57:05 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 5.2ms | Allocations: 13555)


  
ActiveRecord::AssociationTypeMismatch (Address(#401740) expected, got "" which is an instance of String(#2180)):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:57:21 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.1ms | Allocations: 13148)


  
NoMethodError (undefined method `each' for "":String):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:57:29 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 4.1ms | Allocations: 13354)


  
ActiveRecord::AssociationTypeMismatch (Address(#432340) expected, got [] which is an instance of Array(#2200)):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:57:36 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:20: syntax error, unexpected '}', expecting =>
            address: {{}},
                        ^
):
  
app/controllers/api/v1/bookings_controller.rb:20: syntax error, unexpected '}', expecting =>
app/controllers/api/v1/bookings_controller.rb:20: syntax error, unexpected '}', expecting =>
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:57:43 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.2ms | Allocations: 13107)


  
NoMethodError (undefined method `each' for "":String):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:57:59 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 5.0ms | Allocations: 14230)


  
ActiveRecord::AssociationTypeMismatch (Address(#478260) expected, got {} which is an instance of Hash(#2220)):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:58:32 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.5ms | Allocations: 14026)


  
ActiveRecord::AssociationTypeMismatch (Address(#493660) expected, got {} which is an instance of Hash(#2220)):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:58:57 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.1ms | Allocations: 9852)


  
NoMethodError (undefined method `address' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 06:59:05 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 204 No Content in 15ms (ActiveRecord: 4.0ms | Allocations: 12541)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:00:32 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
Completed 204 No Content in 48ms (ActiveRecord: 6.3ms | Allocations: 29360)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:01:41 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.2ms | Allocations: 12759)


  
ActiveModel::UnknownAttributeError (unknown attribute 'booking_service' for Booking.):
  
app/controllers/api/v1/bookings_controller.rb:12:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:02:10 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 2.6ms | Allocations: 10109)


  
NoMethodError (undefined method `new' for #<Api::V1::BookingsController:0x0000000001b738>):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:02:17 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
Completed 200 OK in 25ms (Views: 2.0ms | ActiveRecord: 4.6ms | Allocations: 18704)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:02:28 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
Completed 200 OK in 22ms (Views: 0.4ms | ActiveRecord: 4.7ms | Allocations: 18145)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:02:31 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
Completed 200 OK in 17ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 6249)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:02:32 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 6257)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:02:36 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
Completed 200 OK in 29ms (Views: 0.5ms | ActiveRecord: 5.5ms | Allocations: 18212)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:02:36 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 6241)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:02:43 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
Completed 200 OK in 22ms (Views: 0.4ms | ActiveRecord: 4.5ms | Allocations: 17315)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:03:15 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.5ms | Allocations: 13702)


  
ArgumentError (Unknown key: :optional. Valid keys are: :class_name, :anonymous_class, :primary_key, :foreign_key, :dependent, :validate, :inverse_of, :strict_loading, :autosave, :before_add, :after_add, :before_remove, :after_remove, :extend, :counter_cache, :join_table, :index_errors):
  
app/models/housemate.rb:3:in `<class:Housemate>'
app/models/housemate.rb:1:in `<main>'
app/controllers/api/v1/bookings_controller.rb:21:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:03:36 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.9ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:03:37.053878"], ["updated_at", "2023-10-07 23:03:37.053878"], ["housemate_id", 0], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 5.3ms | Allocations: 15373)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_e52cd24222"
DETAIL:  Key (housemate_id)=(0) is not present in table "housemates".
):
  
app/controllers/api/v1/bookings_controller.rb:21:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:03:47 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:03:47.305014"], ["updated_at", "2023-10-07 23:03:47.305014"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 5.0ms | Allocations: 15144)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(1) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:04:32 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:04:32.810580"], ["updated_at", "2023-10-07 23:04:32.810580"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 4.8ms | Allocations: 15106)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(1) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:04:35 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.7ms | Allocations: 12814)


  
ActiveRecord::InverseOfAssociationNotFoundError (Could not find the inverse association for homeowner (:booking in Homeowner)):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:04:41 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2637)


  
ActiveRecord::InverseOfAssociationNotFoundError (Could not find the inverse association for homeowner (:booking in Homeowner)):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:04:50 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.2ms | Allocations: 9131)


  
ActiveRecord::InverseOfAssociationNotFoundError (Could not find the inverse association for bookings (:homeowners in Booking)):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:04:56 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (1.0ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:04:56.094764"], ["updated_at", "2023-10-07 23:04:56.094764"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 5.5ms | Allocations: 15081)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(1) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:05:16 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.1ms | Allocations: 12742)


  
ActiveModel::UnknownAttributeError (unknown attribute 'true' for Booking.):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:05:28 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:05:28.677968"], ["updated_at", "2023-10-07 23:05:28.677968"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 4.9ms | Allocations: 15068)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_cc278567d8"
DETAIL:  Key (homeowner_id)=(1) is not present in table "homeowners".
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to Correction4 (20231007230756)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "bookings" DROP CONSTRAINT "fk_rails_cc278567d8"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007230756"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:08:21 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:08:21.674808"], ["updated_at", "2023-10-07 23:08:21.674808"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 200 OK in 51ms (Views: 0.4ms | ActiveRecord: 9.9ms | Allocations: 27993)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:08:56 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:08:56.874387"], ["updated_at", "2023-10-07 23:08:56.874387"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 9.9ms | Allocations: 23086)


  
NameError (undefined local variable or method `booking_services' for #<Api::V1::BookingsController:0x000000000143e8>):
  
app/controllers/api/v1/bookings_controller.rb:20:in `block in create'
app/controllers/api/v1/bookings_controller.rb:19:in `each'
app/controllers/api/v1/bookings_controller.rb:19:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:09:49 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:09:49.525550"], ["updated_at", "2023-10-07 23:09:49.525550"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 14.3ms | Allocations: 25366)


  
ActiveModel::UnknownAttributeError (unknown attribute 'title' for BookingService.):
  
app/controllers/api/v1/bookings_controller.rb:22:in `block in create'
app/controllers/api/v1/bookings_controller.rb:21:in `each'
app/controllers/api/v1/bookings_controller.rb:21:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:12:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:12:23.222167"], ["updated_at", "2023-10-07 23:12:23.222167"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 12.6ms | Allocations: 23421)


  
ActiveModel::UnknownAttributeError (unknown attribute 'price' for BookingService.):
  
app/controllers/api/v1/bookings_controller.rb:22:in `block in create'
app/controllers/api/v1/bookings_controller.rb:21:in `each'
app/controllers/api/v1/bookings_controller.rb:21:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:12:55 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:12:55.786651"], ["updated_at", "2023-10-07 23:12:55.786651"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `each'
  [1m[36mBookingService Create (0.8ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["quantity", 0], ["price_per_quantity", "100.0"], ["total", nil], ["created_at", "2023-10-07 23:12:55.807749"], ["updated_at", "2023-10-07 23:12:55.807749"], ["service_id", nil], ["subservice_id", nil], ["booking_id", 10]]
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `each'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:28:in `create'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 12.9ms | Allocations: 25658)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "total" of relation "booking_services" violates not-null constraint
DETAIL:  Failing row contains (1, 0, 100.00, null, 2023-10-07 23:12:55.807749, 2023-10-07 23:12:55.807749, null, null, 10).
):
  
app/controllers/api/v1/bookings_controller.rb:29:in `each'
app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
app/controllers/api/v1/bookings_controller.rb:28:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:13:12 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:13:12.838227"], ["updated_at", "2023-10-07 23:13:12.838227"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 10.3ms | Allocations: 20101)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:13:30 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:13:30.283666"], ["updated_at", "2023-10-07 23:13:30.283666"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 9.8ms | Allocations: 20054)


  
NoMethodError (undefined method `merge' for #<Booking id: 12, scheduled_at: "2023-10-05 12:30:00.000000000 +0000", status: "PENDING", total_cost: 0.5e4, created_at: "2023-10-07 23:13:30.283666000 +0000", updated_at: "2023-10-07 23:13:30.283666000 +0000", housemate_id: nil, payment_method: "Credit Wallet", homeowner_id: 1>):
  
app/controllers/api/v1/bookings_controller.rb:33:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:14:12 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:14:12.302273"], ["updated_at", "2023-10-07 23:14:12.302273"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 9.7ms | Allocations: 20040)


  
NoMethodError (undefined method `include' for #<Booking id: 13, scheduled_at: "2023-10-05 12:30:00.000000000 +0000", status: "PENDING", total_cost: 0.5e4, created_at: "2023-10-07 23:14:12.302273000 +0000", updated_at: "2023-10-07 23:14:12.302273000 +0000", housemate_id: nil, payment_method: "Credit Wallet", homeowner_id: 1>):
  
app/controllers/api/v1/bookings_controller.rb:33:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:14:33 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:14:33.300154"], ["updated_at", "2023-10-07 23:14:33.300154"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:17:in `create'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 14], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:18:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 10.0ms | Allocations: 20146)


  
TypeError (#<Address id: nil, address_line_1: "123 Street", barangay: "Barangay", city: "City", province: "Province", zip_code: "1234", created_at: nil, updated_at: nil, profile_id: nil, booking_id: 14> is not a symbol nor a string):
  
app/controllers/api/v1/bookings_controller.rb:33:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:15:35 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:15:35.169398"], ["updated_at", "2023-10-07 23:15:35.169398"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:15:35.178332"], ["updated_at", "2023-10-07 23:15:35.178332"], ["profile_id", nil], ["booking_id", 15]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 76ms (ActiveRecord: 11.2ms | Allocations: 20641)


  
TypeError (#<Address id: 1, address_line_1: "123 Street", barangay: "Barangay", city: "City", province: "Province", zip_code: "1234", created_at: "2023-10-07 23:15:35.178332000 +0000", updated_at: "2023-10-07 23:15:35.178332000 +0000", profile_id: nil, booking_id: 15> is not a symbol nor a string):
  
app/controllers/api/v1/bookings_controller.rb:34:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:16:01 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:16:01.149249"], ["updated_at", "2023-10-07 23:16:01.149249"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:16:01.151208"], ["updated_at", "2023-10-07 23:16:01.151208"], ["profile_id", nil], ["booking_id", 16]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 9.9ms | Allocations: 20444)


  
NoMethodError (undefined method `address' for :booking:Symbol):
  
app/controllers/api/v1/bookings_controller.rb:34:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:16:12 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:16:12.140411"], ["updated_at", "2023-10-07 23:16:12.140411"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:16:12.142925"], ["updated_at", "2023-10-07 23:16:12.142925"], ["profile_id", nil], ["booking_id", 17]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 9.7ms | Allocations: 20542)


  
NoMethodError (undefined method `booking_address' for #<Booking id: 17, scheduled_at: "2023-10-05 12:30:00.000000000 +0000", status: "PENDING", total_cost: 0.5e4, created_at: "2023-10-07 23:16:12.140411000 +0000", updated_at: "2023-10-07 23:16:12.140411000 +0000", housemate_id: nil, payment_method: "Credit Wallet", homeowner_id: 1>):
  
app/controllers/api/v1/bookings_controller.rb:34:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:16:24 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:16:24.659314"], ["updated_at", "2023-10-07 23:16:24.659314"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:16:24.662800"], ["updated_at", "2023-10-07 23:16:24.662800"], ["profile_id", nil], ["booking_id", 18]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 10.6ms | Allocations: 20617)


  
TypeError (#<Address id: 4, address_line_1: "123 Street", barangay: "Barangay", city: "City", province: "Province", zip_code: "1234", created_at: "2023-10-07 23:16:24.662800000 +0000", updated_at: "2023-10-07 23:16:24.662800000 +0000", profile_id: nil, booking_id: 18> is not a symbol nor a string):
  
app/controllers/api/v1/bookings_controller.rb:34:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:17:03 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:17:03.337558"], ["updated_at", "2023-10-07 23:17:03.337558"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:17:03.339652"], ["updated_at", "2023-10-07 23:17:03.339652"], ["profile_id", nil], ["booking_id", 19]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 10.0ms | Allocations: 20724)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:17:19 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:17:19.719005"], ["updated_at", "2023-10-07 23:17:19.719005"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:17:19.721426"], ["updated_at", "2023-10-07 23:17:19.721426"], ["profile_id", nil], ["booking_id", 20]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 10.5ms | Allocations: 20670)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:19:39 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:19:40.046574"], ["updated_at", "2023-10-07 23:19:40.046574"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:19:40.048474"], ["updated_at", "2023-10-07 23:19:40.048474"], ["profile_id", nil], ["booking_id", 21]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 9.6ms | Allocations: 20645)


  
NameError (undefined local variable or method `address' for #<Api::V1::BookingsController:0x0000000007aa80>):
  
app/controllers/api/v1/bookings_controller.rb:34:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:19:50 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:19:51.061301"], ["updated_at", "2023-10-07 23:19:51.061301"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:19:51.063822"], ["updated_at", "2023-10-07 23:19:51.063822"], ["profile_id", nil], ["booking_id", 22]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 9.7ms | Allocations: 20834)


  
NoMethodError (undefined method `merge' for #<Booking id: 22, scheduled_at: "2023-10-05 12:30:00.000000000 +0000", status: "PENDING", total_cost: 0.5e4, created_at: "2023-10-07 23:19:51.061301000 +0000", updated_at: "2023-10-07 23:19:51.061301000 +0000", housemate_id: nil, payment_method: "Credit Wallet", homeowner_id: 1>):
  
app/controllers/api/v1/bookings_controller.rb:35:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:20:29 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:20:29.473789"], ["updated_at", "2023-10-07 23:20:29.473789"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:20:29.476198"], ["updated_at", "2023-10-07 23:20:29.476198"], ["profile_id", nil], ["booking_id", 23]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 10.1ms | Allocations: 20820)


  
NoMethodError (undefined method `merge' for #<Booking id: 23, scheduled_at: "2023-10-05 12:30:00.000000000 +0000", status: "PENDING", total_cost: 0.5e4, created_at: "2023-10-07 23:20:29.473789000 +0000", updated_at: "2023-10-07 23:20:29.473789000 +0000", housemate_id: nil, payment_method: "Credit Wallet", homeowner_id: 1>):
  
app/controllers/api/v1/bookings_controller.rb:35:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:20:35 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:20:35.244128"], ["updated_at", "2023-10-07 23:20:35.244128"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:20:35.246937"], ["updated_at", "2023-10-07 23:20:35.246937"], ["profile_id", nil], ["booking_id", 24]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 10.0ms | Allocations: 20800)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:23:02 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:23:02.122994"], ["updated_at", "2023-10-07 23:23:02.122994"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:23:02.125644"], ["updated_at", "2023-10-07 23:23:02.125644"], ["profile_id", nil], ["booking_id", 25]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 200 OK in 61ms (Views: 0.3ms | ActiveRecord: 11.4ms | Allocations: 36635)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:23:55 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:23:55.799696"], ["updated_at", "2023-10-07 23:23:55.799696"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:23:55.802411"], ["updated_at", "2023-10-07 23:23:55.802411"], ["profile_id", nil], ["booking_id", 26]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 65ms (ActiveRecord: 11.6ms | Allocations: 36632)


  
NoMethodError (undefined method `name' for #<Homeowner id: 1, email: "housemate@test.com", created_at: "2023-10-07 22:31:47.687952000 +0000", updated_at: "2023-10-07 22:31:47.687952000 +0000", jti: "2ee90d0c-5caf-4e17-ad32-38a7929b1db2", isVerified: false>):
  
app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
app/controllers/api/v1/bookings_controller.rb:35:in `create'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Homeowner"]]
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 07:25:09 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"Home Owner", "email"=>"homeowner@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.7ms | Allocations: 5487)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:18:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 07:25:40 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"Home Owner", "email"=>"homeowner@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.2ms | Allocations: 1835)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:18:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 07:25:41 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"Home Owner", "email"=>"homeowner@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.3ms | Allocations: 781)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:18:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 07:25:58 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"Home Owner", "email"=>"homeowner@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.1ms | Allocations: 1821)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:18:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 07:26:00 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"Home Owner", "email"=>"homeowner@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.2ms | Allocations: 1815)


  
NoMethodError (undefined method `error' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:18:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 07:26:17 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"Home Owner", "email"=>"homeowner@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.0ms | Allocations: 1821)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:18:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 07:26:23 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/profiles_controller.rb:18: syntax error, unexpected label, expecting `end' or dummy end
...           render json: status: :unprocessable_entity
...                        ^~~~~~~
):
  
app/controllers/api/v1/profiles_controller.rb:18: syntax error, unexpected label, expecting `end' or dummy end
app/controllers/api/v1/profiles_controller.rb:18: syntax error, unexpected label, expecting `end' or dummy end
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 07:26:40 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/profiles_controller.rb:18: syntax error, unexpected label, expecting `end' or dummy end
...          render json: message: "Error" status: :unprocessab...
...                       ^~~~~~~~
):
  
app/controllers/api/v1/profiles_controller.rb:18: syntax error, unexpected label, expecting `end' or dummy end
app/controllers/api/v1/profiles_controller.rb:18: syntax error, unexpected label, expecting `end' or dummy end
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 07:26:52 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"Home Owner", "email"=>"homeowner@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.0ms | Allocations: 1814)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:18:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 07:27:15 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"Home Owner", "email"=>"homeowner@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.0ms | Allocations: 1817)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/api/v1/profiles_controller.rb:19:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (46.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (63.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (45.4ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (51.0ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (20.3ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint)[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (19.2ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231007230756)[0m
  [1m[35m (3.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321);

[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-07 23:28:21.398586"], ["updated_at", "2023-10-07 23:28:21.398586"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c41ceff83d4c29e078a5f0d343ec51b4d4349388"], ["created_at", "2023-10-07 23:28:21.406857"], ["updated_at", "2023-10-07 23:28:21.406857"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL)[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "isVerified" boolean DEFAULT FALSE, "type" character varying NOT NULL)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231007230756)[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321);

[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-07 23:28:21.830268"], ["updated_at", "2023-10-07 23:28:21.830268"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-07 23:28:21.837834"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c41ceff83d4c29e078a5f0d343ec51b4d4349388"], ["created_at", "2023-10-07 23:28:21.844443"], ["updated_at", "2023-10-07 23:28:21.844443"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2023-10-08 07:28:37 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}, "registration"=>{"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHomeowner Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "homeowner@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-07 23:28:38.160454"], ["unconfirmed_email", nil], ["created_at", "2023-10-07 23:28:38.160261"], ["updated_at", "2023-10-07 23:28:38.160261"], ["jti", "3848dd00-88f9-418b-934d-93f148660f54"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 2.0ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 10.9ms
Delivered mail 6521e9a62ff8d_2668c2a088293@DESKTOP-MORCCU3.mail (2168.6ms)
Date: Sun, 08 Oct 2023 07:28:38 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: homeowner@test.com
Message-ID: <6521e9a62ff8d_2668c2a088293@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome homeowner@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=S-jx1HqcQx9WaywPg5Qp">Confirm my account</a></p>

Completed 200 OK in 2418ms (Views: 0.3ms | ActiveRecord: 8.8ms | Allocations: 38438)


Started POST "/api/v1/profiles" for ::1 at 2023-10-08 07:28:48 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"Home Owner", "email"=>"homeowner@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:8:in `create'
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Home Owner"], ["phone_number", "09123456789"], ["created_at", "2023-10-07 23:28:48.258022"], ["updated_at", "2023-10-07 23:28:48.258022"], ["user_id", 1], ["email", "homeowner@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:8:in `create'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "City Name"], ["province", "Province Name"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:28:48.259488"], ["updated_at", "2023-10-07 23:28:48.259488"], ["profile_id", 1], ["booking_id", nil]]
  ↳ app/controllers/api/v1/profiles_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:8:in `create'
Completed 201 Created in 35ms (Views: 0.2ms | ActiveRecord: 9.1ms | Allocations: 19575)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:29:22 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:29:22.953081"], ["updated_at", "2023-10-07 23:29:22.953081"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:29:22.955660"], ["updated_at", "2023-10-07 23:29:22.955660"], ["profile_id", nil], ["booking_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 10.7ms | Allocations: 24098)


  
NoMethodError (undefined method `name' for #<Homeowner id: 1, email: "homeowner@test.com", created_at: "2023-10-07 23:28:38.160261000 +0000", updated_at: "2023-10-07 23:28:38.160261000 +0000", jti: "3848dd00-88f9-418b-934d-93f148660f54", isVerified: false>):
  
app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
app/controllers/api/v1/bookings_controller.rb:35:in `create'
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:30:15 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:30:15.140456"], ["updated_at", "2023-10-07 23:30:15.140456"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:30:15.143266"], ["updated_at", "2023-10-07 23:30:15.143266"], ["profile_id", nil], ["booking_id", 2]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 73ms (ActiveRecord: 13.6ms | Allocations: 41955)


  
NameError (BookingSerializer cannot resolve a serializer class for 'homeowner'.  Attempted to find 'HomeownerSerializer'. Consider specifying the serializer directly through options[:serializer].):
  
app/controllers/api/v1/bookings_controller.rb:35:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:31:46 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:31:47.059080"], ["updated_at", "2023-10-07 23:31:47.059080"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:31:47.062422"], ["updated_at", "2023-10-07 23:31:47.062422"], ["profile_id", nil], ["booking_id", 3]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 9.6ms | Allocations: 20973)


  
NameError (uninitialized constant BookingSerializer::HomeownerSerializer):
  
app/serializers/booking_serializer.rb:5:in `<class:BookingSerializer>'
app/serializers/booking_serializer.rb:1:in `<main>'
app/controllers/api/v1/bookings_controller.rb:35:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-08 07:32:24 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
[31mUnpermitted parameter: :password. Context: { controller: Api::V1::HomeownersController, action: create, request: #<ActionDispatch::Request:0x00007f2446ab9ed0>, params: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "controller"=>"api/v1/homeowners", "action"=>"create", "homeowner"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 6ms (Views: 2.4ms | ActiveRecord: 0.5ms | Allocations: 4744)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mHomeowner Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-07 23:33:45.217532"], ["unconfirmed_email", nil], ["created_at", "2023-10-07 23:33:45.217414"], ["updated_at", "2023-10-07 23:33:45.217414"], ["jti", "5facedab-4c4d-4a07-b9b6-4e33c3cde515"], ["isVerified", false], ["type", "Homeowner"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.4ms | Allocations: 933)
Devise::Mailer#confirmation_instructions: processed outbound mail in 13.4ms
Delivered mail 6521ead9455f9_26da8b54-4bc@DESKTOP-MORCCU3.mail (1216.1ms)
Date: Sun, 08 Oct 2023 07:33:45 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: test@test.com
Message-ID: <6521ead9455f9_26da8b54-4bc@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome test@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=7x9J3y78Ux1zopCJzpyU">Confirm my account</a></p>

  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Homeowner"]]
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mHomeowner Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Homeowner"]]
Started POST "/api/v1/homeowners" for ::1 at 2023-10-08 07:34:27 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
[31mUnpermitted parameter: :password. Context: { controller: Api::V1::HomeownersController, action: create, request: #<ActionDispatch::Request:0x00007f32ea030ab0>, params: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "controller"=>"api/v1/homeowners", "action"=>"create", "homeowner"=>{}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 32ms (Views: 2.4ms | ActiveRecord: 4.2ms | Allocations: 17992)


Started POST "/api/v1/homeowners" for ::1 at 2023-10-08 07:34:48 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"homewowner"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "homeowner"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 1.2ms | Allocations: 202)


  
ActionController::ParameterMissing (param is missing or the value is empty: homeowner):
  
app/controllers/api/v1/homeowners_controller.rb:16:in `homeowner_params'
app/controllers/api/v1/homeowners_controller.rb:5:in `create'
Started POST "/api/v1/homeowners" for ::1 at 2023-10-08 07:35:08 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"homeowner"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :password. Context: { controller: Api::V1::HomeownersController, action: create, request: #<ActionDispatch::Request:0x00007f32e81d1100>, params: {"homeowner"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "controller"=>"api/v1/homeowners", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 10ms (Views: 0.6ms | ActiveRecord: 1.5ms | Allocations: 8847)


Started POST "/api/v1/homeowners" for ::1 at 2023-10-08 07:35:17 +0800
Processing by Api::V1::HomeownersController#create as */*
  Parameters: {"homeowner"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mHomeowner Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-07 23:35:18.022065"], ["unconfirmed_email", nil], ["created_at", "2023-10-07 23:35:18.021939"], ["updated_at", "2023-10-07 23:35:18.021939"], ["jti", "b7187e35-1226-43b2-9148-82013e77a9b2"], ["isVerified", false], ["type", "Homeowner"]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:6:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.4ms | Allocations: 933)
Devise::Mailer#confirmation_instructions: processed outbound mail in 9.5ms
Delivered mail 6521eb36cf89_26fd429f416474@DESKTOP-MORCCU3.mail (2057.2ms)
Date: Sun, 08 Oct 2023 07:35:18 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: test@test.com
Message-ID: <6521eb36cf89_26fd429f416474@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome test@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=B8RmdFMz86sptTzeGxqr">Confirm my account</a></p>

Completed 200 OK in 2276ms (Views: 0.7ms | ActiveRecord: 5.7ms | Allocations: 28453)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:37:05 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:37:05.466397"], ["updated_at", "2023-10-07 23:37:05.466397"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:37:05.469357"], ["updated_at", "2023-10-07 23:37:05.469357"], ["profile_id", nil], ["booking_id", 4]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 74ms (Views: 0.4ms | ActiveRecord: 12.9ms | Allocations: 42331)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:37:32 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "booking_service"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:37:32.467723"], ["updated_at", "2023-10-07 23:37:32.467723"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:37:32.469793"], ["updated_at", "2023-10-07 23:37:32.469793"], ["profile_id", nil], ["booking_id", 5]]
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:19:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 41ms (Views: 0.3ms | ActiveRecord: 12.2ms | Allocations: 25365)


Started POST "/signup" for ::1 at 2023-10-08 07:38:52 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHousemate Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-07 23:38:52.781535"], ["unconfirmed_email", nil], ["created_at", "2023-10-07 23:38:52.781417"], ["updated_at", "2023-10-07 23:38:52.781417"], ["jti", "a9a817dd-9c87-4095-914a-34396f6acc4e"], ["isVerified", false], ["type", "Housemate"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.6ms | Allocations: 931)
Devise::Mailer#confirmation_instructions: processed outbound mail in 10.7ms
Delivered mail 6521ec0cc6a07_274072a0841658@DESKTOP-MORCCU3.mail (1166.7ms)
Date: Sun, 08 Oct 2023 07:38:52 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <6521ec0cc6a07_274072a0841658@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=zdqdGVh99bTCUh_EwAzY">Confirm my account</a></p>

Completed 200 OK in 1383ms (Views: 0.2ms | ActiveRecord: 3.8ms | Allocations: 26877)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 07:39:03 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/housemate_services"):
  
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 07:39:44 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.6ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-07 23:39:44.558585"], ["updated_at", "2023-10-07 23:39:44.558585"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 4]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-07 23:39:44.560286"], ["updated_at", "2023-10-07 23:39:44.560286"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 4]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-07 23:39:44.561925"], ["updated_at", "2023-10-07 23:39:44.561925"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 4]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 4]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:18:in `create'
Completed 200 OK in 30ms (Views: 1.6ms | ActiveRecord: 9.5ms | Allocations: 16766)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:40:11 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"3 Bathrooms", "price"=>180}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.0ms | Allocations: 2164)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:8:in `create'
Started POST "/api/v1/services" for ::1 at 2023-10-08 07:41:22 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Aircon Services", "price"=>699}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Aircon Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.4ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Aircon Services"], ["created_at", "2023-10-07 23:41:22.303914"], ["updated_at", "2023-10-07 23:41:22.303914"], ["price", "699.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 7.2ms | Allocations: 5700)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:41:28 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"3 Bathrooms", "price"=>180}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.3ms | Allocations: 658)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:8:in `create'
Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:41:35 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"3 Bathrooms", "price"=>180}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms | Allocations: 670)


  
NoMethodError (undefined method `subservices' for nil:NilClass):
  
app/controllers/api/v1/subservices_controller.rb:8:in `create'
Started POST "/api/v1/services" for ::1 at 2023-10-08 07:41:39 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Aircon Services", "price"=>699}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Aircon Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 2677)


Started POST "/api/v1/services" for ::1 at 2023-10-08 07:41:55 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Cleaning Services", "price"=>399}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.3ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cleaning Services"], ["created_at", "2023-10-07 23:41:55.240107"], ["updated_at", "2023-10-07 23:41:55.240107"], ["price", "399.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 9.1ms | Allocations: 3064)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:42:00 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"3 Bathrooms", "price"=>180}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "3 Bathrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.7ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "3 Bathrooms"], ["price", "180.0"], ["created_at", "2023-10-07 23:42:00.635721"], ["updated_at", "2023-10-07 23:42:00.635721"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 8.4ms | Allocations: 7842)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:42:50 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"2 Bathrooms", "price"=>120}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "2 Bathrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.3ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "2 Bathrooms"], ["price", "120.0"], ["created_at", "2023-10-07 23:42:50.076395"], ["updated_at", "2023-10-07 23:42:50.076395"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 4.5ms | Allocations: 3817)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:42:58 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"1 Bathroom", "price"=>60}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.3ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "1 Bathroom"], ["price", "60.0"], ["created_at", "2023-10-07 23:42:58.386599"], ["updated_at", "2023-10-07 23:42:58.386599"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 4.3ms | Allocations: 3811)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:43:11 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"None", "price"=>0}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "None"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.7ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "None"], ["price", "0.0"], ["created_at", "2023-10-07 23:43:11.044750"], ["updated_at", "2023-10-07 23:43:11.044750"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 4.7ms | Allocations: 3812)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:43:24 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Disinfectant Spraying", "price"=>699}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.4ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Disinfectant Spraying"], ["price", "699.0"], ["created_at", "2023-10-07 23:43:24.471315"], ["updated_at", "2023-10-07 23:43:24.471315"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 4.6ms | Allocations: 3814)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:43:33 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Dishwashing", "price"=>108}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.5ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Dishwashing"], ["price", "108.0"], ["created_at", "2023-10-07 23:43:33.827243"], ["updated_at", "2023-10-07 23:43:33.827243"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 4.7ms | Allocations: 3814)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:43:46 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Electric Fan Cleaning", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Electric Fan Cleaning"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.6ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Electric Fan Cleaning"], ["price", "150.0"], ["created_at", "2023-10-07 23:43:46.179196"], ["updated_at", "2023-10-07 23:43:46.179196"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 4.9ms | Allocations: 3813)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:44:05 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Fridge Cleaning", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Fridge Cleaning"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.4ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Fridge Cleaning"], ["price", "150.0"], ["created_at", "2023-10-07 23:44:05.554825"], ["updated_at", "2023-10-07 23:44:05.554825"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 4.4ms | Allocations: 3812)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 07:44:16 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Laundry", "price"=>18}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Laundry"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.4ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Laundry"], ["price", "18.0"], ["created_at", "2023-10-07 23:44:16.232039"], ["updated_at", "2023-10-07 23:44:16.232039"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 15ms (Views: 0.4ms | ActiveRecord: 6.7ms | Allocations: 3813)


  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceTitleColumnToBooking (20231007234945)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "booking" ADD "service_title" character varying NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceTitleColumnToBooking (20231007234945)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "bookings" ADD "service_title" character varying NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 1], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.4ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 2]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 1]]
  [1m[36mBooking Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 2], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 3]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 2]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 3], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 4]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 3]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 3]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 4], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 5]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 4]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 5], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 6]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 5]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 5]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceTitleColumnToBooking (20231007234945)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "bookings" ADD "service_title" character varying NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bookings" ALTER COLUMN "booking_service" TYPE service_details[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceTitleColumnToBooking (20231007234945)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bookings" ADD "service_title" character varying NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bookings" RENAME COLUMN "booking_service" TO "service_details"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceTitleColumnToBooking (20231007234945)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bookings" ADD "service_title" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007234945"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:55:31 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:55:31.351916"], ["updated_at", "2023-10-07 23:55:31.351916"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:55:31.354647"], ["updated_at", "2023-10-07 23:55:31.354647"], ["profile_id", nil], ["booking_id", 6]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 73ms (Views: 0.4ms | ActiveRecord: 13.2ms | Allocations: 43249)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddTitleColumnToBookingService (20231007235713)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD "title" character varying NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231007235713"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:58:17 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:58:17.369874"], ["updated_at", "2023-10-07 23:58:17.369874"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:58:17.372669"], ["updated_at", "2023-10-07 23:58:17.372669"], ["profile_id", nil], ["booking_id", 7]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 65ms (ActiveRecord: 14.0ms | Allocations: 42686)


  
NameError (undefined local variable or method `service_detailss' for #<Api::V1::BookingsController:0x0000000000d958>):
  
app/controllers/api/v1/bookings_controller.rb:33:in `block in create'
app/controllers/api/v1/bookings_controller.rb:32:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 07:58:26 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-07 23:58:26.787485"], ["updated_at", "2023-10-07 23:58:26.787485"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-07 23:58:26.789700"], ["updated_at", "2023-10-07 23:58:26.789700"], ["profile_id", nil], ["booking_id", 8]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:33:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 0], ["price_per_quantity", "100.0"], ["total", "0.0"], ["created_at", "2023-10-07 23:58:26.801767"], ["updated_at", "2023-10-07 23:58:26.801767"], ["service_id", nil], ["subservice_id", nil], ["booking_id", 8], ["title", "condo"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:33:in `each'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:32:in `create'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 13.0ms | Allocations: 27091)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "service_id" of relation "booking_services" violates not-null constraint
DETAIL:  Failing row contains (1, 0, 100.00, 0.00, 2023-10-07 23:58:26.801767, 2023-10-07 23:58:26.801767, null, null, 8, condo).
):
  
app/controllers/api/v1/bookings_controller.rb:33:in `each'
app/controllers/api/v1/bookings_controller.rb:33:in `block in create'
app/controllers/api/v1/bookings_controller.rb:32:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:01:26 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"condo", "price"=>100}, {"title"=>"oneBedroom", "price"=>150}, {"title"=>"oneBathroom", "price"=>200}, {"title"=>"Disinfectant Spraying", "quantity"=>2, "price"=>699}, {"title"=>"Dishwashing", "quantity"=>1, "price"=>108}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:01:26.708143"], ["updated_at", "2023-10-08 00:01:26.708143"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:01:26.710623"], ["updated_at", "2023-10-08 00:01:26.710623"], ["profile_id", nil], ["booking_id", 9]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "condo"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 13.2ms | Allocations: 28470)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:33:in `block in create'
app/controllers/api/v1/bookings_controller.rb:25:in `each'
app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices"[0m
Started POST "/api/v1/subservices" for ::1 at 2023-10-08 08:02:42 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Condo (20 - 60 sqm)", "price"=>100}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.7ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Condo (20 - 60 sqm)"], ["price", "100.0"], ["created_at", "2023-10-08 00:02:42.764348"], ["updated_at", "2023-10-08 00:02:42.764348"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 46ms (Views: 0.5ms | ActiveRecord: 9.3ms | Allocations: 19325)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 08:02:54 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"House (> 60 sqm)", "price"=>150}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "House (> 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.4ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "House (> 60 sqm)"], ["price", "150.0"], ["created_at", "2023-10-08 00:02:54.685538"], ["updated_at", "2023-10-08 00:02:54.685538"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 4.6ms | Allocations: 3840)


Started POST "/api/v1/profiles" for ::1 at 2023-10-08 08:06:34 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"Home Owner", "email"=>"homeowner@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"City Name", "province"=>"Province Name", "zip_code"=>"1234"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Destroy (0.3ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Home Owner"], ["phone_number", "09123456789"], ["created_at", "2023-10-08 00:06:34.908273"], ["updated_at", "2023-10-08 00:06:34.908273"], ["user_id", 1], ["email", "homeowner@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "City Name"], ["province", "Province Name"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:06:34.909660"], ["updated_at", "2023-10-08 00:06:34.909660"], ["profile_id", 2], ["booking_id", nil]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 201 Created in 53ms (Views: 0.2ms | ActiveRecord: 15.3ms | Allocations: 32273)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:06:39 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:35: syntax error, unexpected local variable or method, expecting ')'
                    total: service_data[:price].to_f *...
                    ^~~~~
/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:47: else without rescue is useless
        else
        ^~~~
/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:77: syntax error, unexpected `end'):
  
app/controllers/api/v1/bookings_controller.rb:35: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/bookings_controller.rb:47: else without rescue is useless
app/controllers/api/v1/bookings_controller.rb:77: syntax error, unexpected `end'
app/controllers/api/v1/bookings_controller.rb:35: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/bookings_controller.rb:47: else without rescue is useless
app/controllers/api/v1/bookings_controller.rb:77: syntax error, unexpected `end'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:07:50 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:35: syntax error, unexpected local variable or method, expecting ')'
                    total: subservice.price.to_f * ser...
                    ^~~~~
/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:47: else without rescue is useless
        else
        ^~~~
/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:77: syntax error, unexpected `end'):
  
app/controllers/api/v1/bookings_controller.rb:35: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/bookings_controller.rb:47: else without rescue is useless
app/controllers/api/v1/bookings_controller.rb:77: syntax error, unexpected `end'
app/controllers/api/v1/bookings_controller.rb:35: syntax error, unexpected local variable or method, expecting ')'
app/controllers/api/v1/bookings_controller.rb:47: else without rescue is useless
app/controllers/api/v1/bookings_controller.rb:77: syntax error, unexpected `end'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:07:58 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:07:58.989522"], ["updated_at", "2023-10-08 00:07:58.989522"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:07:58.992069"], ["updated_at", "2023-10-08 00:07:58.992069"], ["profile_id", nil], ["booking_id", 10]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 17.3ms | Allocations: 35988)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
app/controllers/api/v1/bookings_controller.rb:25:in `each'
app/controllers/api/v1/bookings_controller.rb:25:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:08:10 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:08:10.764428"], ["updated_at", "2023-10-08 00:08:10.764428"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:08:10.767318"], ["updated_at", "2023-10-08 00:08:10.767318"], ["profile_id", nil], ["booking_id", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 16.1ms | Allocations: 31999)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
app/controllers/api/v1/bookings_controller.rb:25:in `each'
app/controllers/api/v1/bookings_controller.rb:25:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:08:35 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:08:35.104413"], ["updated_at", "2023-10-08 00:08:35.104413"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:08:35.106986"], ["updated_at", "2023-10-08 00:08:35.106986"], ["profile_id", nil], ["booking_id", 12]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
Completed 500 Internal Server Error in 55ms (ActiveRecord: 18.2ms | Allocations: 32090)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:31:in `block in create'
app/controllers/api/v1/bookings_controller.rb:25:in `each'
app/controllers/api/v1/bookings_controller.rb:25:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:08:56 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:08:56.358997"], ["updated_at", "2023-10-08 00:08:56.358997"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:08:56.361161"], ["updated_at", "2023-10-08 00:08:56.361161"], ["profile_id", nil], ["booking_id", 13]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:27:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:27:in `block in create'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 16.7ms | Allocations: 32098)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:32:in `block in create'
app/controllers/api/v1/bookings_controller.rb:25:in `each'
app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices"[0m
Started POST "/api/v1/subservices" for ::1 at 2023-10-08 08:09:39 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"1 Bedroom", "price"=>100}}
  [1m[36mService Load (0.4ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.5ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "1 Bedroom"], ["price", "100.0"], ["created_at", "2023-10-08 00:09:39.118143"], ["updated_at", "2023-10-08 00:09:39.118143"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 49ms (Views: 0.4ms | ActiveRecord: 11.8ms | Allocations: 19324)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 08:09:56 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"Studio Type", "price"=>45}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Studio Type"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.4ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Studio Type"], ["price", "45.0"], ["created_at", "2023-10-08 00:09:56.229687"], ["updated_at", "2023-10-08 00:09:56.229687"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 5.1ms | Allocations: 3833)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 08:10:03 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"House Type", "price"=>75}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "House Type"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.6ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "House Type"], ["price", "75.0"], ["created_at", "2023-10-08 00:10:03.365120"], ["updated_at", "2023-10-08 00:10:03.365120"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 5.1ms | Allocations: 3827)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 08:10:11 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "2 Bedrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.2ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "2 Bedrooms"], ["price", "150.0"], ["created_at", "2023-10-08 00:10:11.856797"], ["updated_at", "2023-10-08 00:10:11.856797"], ["service_id", 2], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 4.1ms | Allocations: 3827)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:10:16 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:10:16.199445"], ["updated_at", "2023-10-08 00:10:16.199445"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:10:16.202076"], ["updated_at", "2023-10-08 00:10:16.202076"], ["profile_id", nil], ["booking_id", 14]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:27:in `block in create'
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:27:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:27:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:27:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.7ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 0], ["price_per_quantity", "100.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:10:16.223339"], ["updated_at", "2023-10-08 00:10:16.223339"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 14], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 0], ["price_per_quantity", "100.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:10:16.225707"], ["updated_at", "2023-10-08 00:10:16.225707"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 14], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 0], ["price_per_quantity", "60.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:10:16.226778"], ["updated_at", "2023-10-08 00:10:16.226778"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 14], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:10:16.227765"], ["updated_at", "2023-10-08 00:10:16.227765"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 14], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:10:16.228898"], ["updated_at", "2023-10-08 00:10:16.228898"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 14], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:41:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 80ms (Views: 0.3ms | ActiveRecord: 20.6ms | Allocations: 50296)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:11:42 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:11:42.918569"], ["updated_at", "2023-10-08 00:11:42.918569"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:11:42.920889"], ["updated_at", "2023-10-08 00:11:42.920889"], ["profile_id", nil], ["booking_id", 15]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 0], ["price_per_quantity", "100.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:11:42.949016"], ["updated_at", "2023-10-08 00:11:42.949016"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 15], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 0], ["price_per_quantity", "100.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:11:42.951294"], ["updated_at", "2023-10-08 00:11:42.951294"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 15], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 0], ["price_per_quantity", "60.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:11:42.952860"], ["updated_at", "2023-10-08 00:11:42.952860"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 15], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:11:42.954148"], ["updated_at", "2023-10-08 00:11:42.954148"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 15], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:11:42.955307"], ["updated_at", "2023-10-08 00:11:42.955307"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 15], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:37:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 15]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `puts'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 24.3ms | Allocations: 45236)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:11:53 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:11:54.061767"], ["updated_at", "2023-10-08 00:11:54.061767"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:11:54.063700"], ["updated_at", "2023-10-08 00:11:54.063700"], ["profile_id", nil], ["booking_id", 16]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 0], ["price_per_quantity", "100.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:11:54.096337"], ["updated_at", "2023-10-08 00:11:54.096337"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 16], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.7ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 0], ["price_per_quantity", "100.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:11:54.098617"], ["updated_at", "2023-10-08 00:11:54.098617"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 16], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 0], ["price_per_quantity", "60.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:11:54.100986"], ["updated_at", "2023-10-08 00:11:54.100986"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 16], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:11:54.102863"], ["updated_at", "2023-10-08 00:11:54.102863"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 16], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:11:54.104352"], ["updated_at", "2023-10-08 00:11:54.104352"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 16], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:37:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["booking_id", 16], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 87ms (Views: 0.3ms | ActiveRecord: 27.0ms | Allocations: 45658)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:12:28 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:29: syntax error, unexpected integer literal, expecting ')'
... service_data[:quantity].nil? 1 : service_data[:quantity].to...
...                              ^
/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:49: else without rescue is useless
        else
        ^~~~
/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:79: syntax error, unexpected `end'):
  
app/controllers/api/v1/bookings_controller.rb:29: syntax error, unexpected integer literal, expecting ')'
app/controllers/api/v1/bookings_controller.rb:49: else without rescue is useless
app/controllers/api/v1/bookings_controller.rb:79: syntax error, unexpected `end'
app/controllers/api/v1/bookings_controller.rb:29: syntax error, unexpected integer literal, expecting ')'
app/controllers/api/v1/bookings_controller.rb:49: else without rescue is useless
app/controllers/api/v1/bookings_controller.rb:79: syntax error, unexpected `end'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:12:36 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:12:36.829351"], ["updated_at", "2023-10-08 00:12:36.829351"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:12:36.831389"], ["updated_at", "2023-10-08 00:12:36.831389"], ["profile_id", nil], ["booking_id", 17]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:12:36.860001"], ["updated_at", "2023-10-08 00:12:36.860001"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 17], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:12:36.862091"], ["updated_at", "2023-10-08 00:12:36.862091"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 17], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "0.0"], ["created_at", "2023-10-08 00:12:36.863287"], ["updated_at", "2023-10-08 00:12:36.863287"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 17], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:12:36.864317"], ["updated_at", "2023-10-08 00:12:36.864317"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 17], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:12:36.865870"], ["updated_at", "2023-10-08 00:12:36.865870"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 17], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:37:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["booking_id", 17], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 83ms (Views: 0.2ms | ActiveRecord: 24.4ms | Allocations: 45702)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:13:24 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:13:24.641777"], ["updated_at", "2023-10-08 00:13:24.641777"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:13:24.643935"], ["updated_at", "2023-10-08 00:13:24.643935"], ["profile_id", nil], ["booking_id", 18]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:13:24.672795"], ["updated_at", "2023-10-08 00:13:24.672795"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 18], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:13:24.674904"], ["updated_at", "2023-10-08 00:13:24.674904"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 18], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:13:24.675848"], ["updated_at", "2023-10-08 00:13:24.675848"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 18], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:13:24.676785"], ["updated_at", "2023-10-08 00:13:24.676785"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 18], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:13:24.677656"], ["updated_at", "2023-10-08 00:13:24.677656"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 18], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["booking_id", 18], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 85ms (Views: 0.3ms | ActiveRecord: 24.3ms | Allocations: 45666)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:14:05 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:49: syntax error, unexpected label, expecting `do' or '{' or '('
...rvice: booking_services status: :created }
...                        ^~~~~~~
):
  
app/controllers/api/v1/bookings_controller.rb:49: syntax error, unexpected label, expecting `do' or '{' or '('
app/controllers/api/v1/bookings_controller.rb:49: syntax error, unexpected label, expecting `do' or '{' or '('
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:14:24 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:14:24.306964"], ["updated_at", "2023-10-08 00:14:24.306964"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:14:24.309323"], ["updated_at", "2023-10-08 00:14:24.309323"], ["profile_id", nil], ["booking_id", 19]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:14:24.383715"], ["updated_at", "2023-10-08 00:14:24.383715"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 19], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:14:24.386050"], ["updated_at", "2023-10-08 00:14:24.386050"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 19], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:14:24.387392"], ["updated_at", "2023-10-08 00:14:24.387392"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 19], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:14:24.388471"], ["updated_at", "2023-10-08 00:14:24.388471"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 19], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:14:24.389922"], ["updated_at", "2023-10-08 00:14:24.389922"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 19], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 19]]
  ↳ app/controllers/api/v1/bookings_controller.rb:49:in `create'
Completed 200 OK in 126ms (Views: 2.8ms | ActiveRecord: 26.2ms | Allocations: 45970)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:17:32 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:17:32.714850"], ["updated_at", "2023-10-08 00:17:32.714850"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:17:32.719070"], ["updated_at", "2023-10-08 00:17:32.719070"], ["profile_id", nil], ["booking_id", 20]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:17:32.757730"], ["updated_at", "2023-10-08 00:17:32.757730"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 20], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:17:32.760348"], ["updated_at", "2023-10-08 00:17:32.760348"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 20], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:17:32.761789"], ["updated_at", "2023-10-08 00:17:32.761789"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 20], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:17:32.762978"], ["updated_at", "2023-10-08 00:17:32.762978"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 20], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:17:32.764093"], ["updated_at", "2023-10-08 00:17:32.764093"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 20], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 20]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `create'
Completed 500 Internal Server Error in 115ms (ActiveRecord: 25.2ms | Allocations: 60378)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/api/v1/bookings_controller.rb:43:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:19:10 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:19:10.398198"], ["updated_at", "2023-10-08 00:19:10.398198"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:19:10.401160"], ["updated_at", "2023-10-08 00:19:10.401160"], ["profile_id", nil], ["booking_id", 21]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:19:10.430493"], ["updated_at", "2023-10-08 00:19:10.430493"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 21], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:19:10.432489"], ["updated_at", "2023-10-08 00:19:10.432489"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 21], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:19:10.434259"], ["updated_at", "2023-10-08 00:19:10.434259"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 21], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:19:10.436027"], ["updated_at", "2023-10-08 00:19:10.436027"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 21], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:19:10.437397"], ["updated_at", "2023-10-08 00:19:10.437397"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 21], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
Completed 500 Internal Server Error in 68ms (ActiveRecord: 22.7ms | Allocations: 39488)


  
NameError (uninitialized constant ActiveModel::Serializer):
  
app/controllers/api/v1/bookings_controller.rb:44:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:19:32 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:19:32.741994"], ["updated_at", "2023-10-08 00:19:32.741994"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:19:32.744104"], ["updated_at", "2023-10-08 00:19:32.744104"], ["profile_id", nil], ["booking_id", 22]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:19:32.773624"], ["updated_at", "2023-10-08 00:19:32.773624"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 22], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:19:32.775471"], ["updated_at", "2023-10-08 00:19:32.775471"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 22], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:19:32.776394"], ["updated_at", "2023-10-08 00:19:32.776394"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 22], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:19:32.777321"], ["updated_at", "2023-10-08 00:19:32.777321"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 22], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:19:32.778730"], ["updated_at", "2023-10-08 00:19:32.778730"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 22], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 22]]
  ↳ app/controllers/api/v1/bookings_controller.rb:44:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 81ms (Views: 0.8ms | ActiveRecord: 25.5ms | Allocations: 47899)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:20:08 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:20:08.645821"], ["updated_at", "2023-10-08 00:20:08.645821"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:20:08.647835"], ["updated_at", "2023-10-08 00:20:08.647835"], ["profile_id", nil], ["booking_id", 23]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:20:08.675940"], ["updated_at", "2023-10-08 00:20:08.675940"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 23], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:20:08.677685"], ["updated_at", "2023-10-08 00:20:08.677685"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 23], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:20:08.678565"], ["updated_at", "2023-10-08 00:20:08.678565"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 23], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:20:08.679471"], ["updated_at", "2023-10-08 00:20:08.679471"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 23], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:20:08.680503"], ["updated_at", "2023-10-08 00:20:08.680503"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 23], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 23]]
  ↳ app/controllers/api/v1/bookings_controller.rb:44:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 75ms (Views: 0.4ms | ActiveRecord: 23.4ms | Allocations: 46329)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:20:34 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:20:35.020784"], ["updated_at", "2023-10-08 00:20:35.020784"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:20:35.023286"], ["updated_at", "2023-10-08 00:20:35.023286"], ["profile_id", nil], ["booking_id", 24]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:20:35.053118"], ["updated_at", "2023-10-08 00:20:35.053118"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 24], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:20:35.055388"], ["updated_at", "2023-10-08 00:20:35.055388"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 24], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:20:35.056550"], ["updated_at", "2023-10-08 00:20:35.056550"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 24], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:20:35.057661"], ["updated_at", "2023-10-08 00:20:35.057661"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 24], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:20:35.058701"], ["updated_at", "2023-10-08 00:20:35.058701"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 24], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 24]]
  ↳ app/controllers/api/v1/bookings_controller.rb:44:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 80ms (Views: 0.3ms | ActiveRecord: 24.3ms | Allocations: 45787)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:20:47 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:20:47.529832"], ["updated_at", "2023-10-08 00:20:47.529832"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:20:47.532111"], ["updated_at", "2023-10-08 00:20:47.532111"], ["profile_id", nil], ["booking_id", 25]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:20:47.566418"], ["updated_at", "2023-10-08 00:20:47.566418"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 25], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:20:47.569154"], ["updated_at", "2023-10-08 00:20:47.569154"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 25], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:20:47.570781"], ["updated_at", "2023-10-08 00:20:47.570781"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 25], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:20:47.571978"], ["updated_at", "2023-10-08 00:20:47.571978"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 25], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:20:47.573128"], ["updated_at", "2023-10-08 00:20:47.573128"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 25], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 25]]
  ↳ app/controllers/api/v1/bookings_controller.rb:44:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 87ms (Views: 0.4ms | ActiveRecord: 31.8ms | Allocations: 46269)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:27:27 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:27:27.601230"], ["updated_at", "2023-10-08 00:27:27.601230"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:27:27.603961"], ["updated_at", "2023-10-08 00:27:27.603961"], ["profile_id", nil], ["booking_id", 26]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.7ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:27:27.652089"], ["updated_at", "2023-10-08 00:27:27.652089"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 26], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:27:27.664773"], ["updated_at", "2023-10-08 00:27:27.664773"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 26], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:27:27.670763"], ["updated_at", "2023-10-08 00:27:27.670763"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 26], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:27:27.677113"], ["updated_at", "2023-10-08 00:27:27.677113"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 26], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:27:27.682067"], ["updated_at", "2023-10-08 00:27:27.682067"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 26], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 26]]
  ↳ app/controllers/api/v1/bookings_controller.rb:44:in `create'
Completed 500 Internal Server Error in 113ms (ActiveRecord: 17.1ms | Allocations: 41469)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/api/v1/bookings_controller.rb:44:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:27:36 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:27:36.156877"], ["updated_at", "2023-10-08 00:27:36.156877"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:27:36.158919"], ["updated_at", "2023-10-08 00:27:36.158919"], ["profile_id", nil], ["booking_id", 27]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:27:36.188862"], ["updated_at", "2023-10-08 00:27:36.188862"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 27], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:27:36.190718"], ["updated_at", "2023-10-08 00:27:36.190718"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 27], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:27:36.191564"], ["updated_at", "2023-10-08 00:27:36.191564"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 27], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:27:36.192364"], ["updated_at", "2023-10-08 00:27:36.192364"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 27], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:27:36.193185"], ["updated_at", "2023-10-08 00:27:36.193185"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 27], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 27]]
  ↳ app/controllers/api/v1/bookings_controller.rb:50:in `create'
Completed 200 OK in 75ms (Views: 1.8ms | ActiveRecord: 22.5ms | Allocations: 46517)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:28:38 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:28:38.481160"], ["updated_at", "2023-10-08 00:28:38.481160"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:28:38.483668"], ["updated_at", "2023-10-08 00:28:38.483668"], ["profile_id", nil], ["booking_id", 28]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:28:38.513182"], ["updated_at", "2023-10-08 00:28:38.513182"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 28], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:28:38.514946"], ["updated_at", "2023-10-08 00:28:38.514946"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 28], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:28:38.515817"], ["updated_at", "2023-10-08 00:28:38.515817"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 28], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:28:38.516730"], ["updated_at", "2023-10-08 00:28:38.516730"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 28], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:28:38.518142"], ["updated_at", "2023-10-08 00:28:38.518142"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 28], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 28]]
  ↳ app/controllers/api/v1/bookings_controller.rb:44:in `create'
Completed 500 Internal Server Error in 73ms (ActiveRecord: 22.7ms | Allocations: 40714)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/api/v1/bookings_controller.rb:44:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:30:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:30:23.757263"], ["updated_at", "2023-10-08 00:30:23.757263"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:30:23.760079"], ["updated_at", "2023-10-08 00:30:23.760079"], ["profile_id", nil], ["booking_id", 29]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:30:23.786192"], ["updated_at", "2023-10-08 00:30:23.786192"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 29], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:30:23.788205"], ["updated_at", "2023-10-08 00:30:23.788205"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 29], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:30:23.789869"], ["updated_at", "2023-10-08 00:30:23.789869"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 29], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:30:23.791540"], ["updated_at", "2023-10-08 00:30:23.791540"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 29], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:30:23.792880"], ["updated_at", "2023-10-08 00:30:23.792880"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 29], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
Completed 500 Internal Server Error in 64ms (ActiveRecord: 20.9ms | Allocations: 39465)


  
NameError (uninitialized constant Api::V1::BookingsController::ActiveModelSerializers):
  
app/controllers/api/v1/bookings_controller.rb:44:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:31:42 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:31:42.394060"], ["updated_at", "2023-10-08 00:31:42.394060"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:31:42.396755"], ["updated_at", "2023-10-08 00:31:42.396755"], ["profile_id", nil], ["booking_id", 30]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:31:42.445478"], ["updated_at", "2023-10-08 00:31:42.445478"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 30], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:31:42.447778"], ["updated_at", "2023-10-08 00:31:42.447778"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 30], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:31:42.448874"], ["updated_at", "2023-10-08 00:31:42.448874"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 30], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:31:42.450246"], ["updated_at", "2023-10-08 00:31:42.450246"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 30], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:31:42.451386"], ["updated_at", "2023-10-08 00:31:42.451386"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 30], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
[active_model_serializers]   [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 30]]
[active_model_serializers]   ↳ app/controllers/api/v1/bookings_controller.rb:47:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.4ms)
Completed 500 Internal Server Error in 113ms (ActiveRecord: 23.0ms | Allocations: 62356)


  
NoMethodError (undefined method `object' for #<BookingServiceSerializer:0x00007fd171cdae70 @fieldsets={}, @params={}, @resource=#<BookingService id: 82, quantity: 1, price_per_quantity: 0.1e3, total: 0.1e3, created_at: "2023-10-08 00:31:42.445478000 +0000", updated_at: "2023-10-08 00:31:42.445478000 +0000", service_id: 2, subservice_id: 10, booking_id: 30, title: "Condo (20 - 60 sqm)">>):
  
app/controllers/api/v1/bookings_controller.rb:47:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:32:08 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:32:08.814814"], ["updated_at", "2023-10-08 00:32:08.814814"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:32:08.817339"], ["updated_at", "2023-10-08 00:32:08.817339"], ["profile_id", nil], ["booking_id", 31]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:32:08.851590"], ["updated_at", "2023-10-08 00:32:08.851590"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 31], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:32:08.853579"], ["updated_at", "2023-10-08 00:32:08.853579"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 31], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:32:08.854544"], ["updated_at", "2023-10-08 00:32:08.854544"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 31], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:32:08.856866"], ["updated_at", "2023-10-08 00:32:08.856866"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 31], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:32:08.858540"], ["updated_at", "2023-10-08 00:32:08.858540"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 31], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
[active_model_serializers]   [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 31]]
[active_model_serializers]   ↳ app/controllers/api/v1/bookings_controller.rb:47:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.33ms)
Completed 500 Internal Server Error in 76ms (ActiveRecord: 21.5ms | Allocations: 40986)


  
NoMethodError (undefined method `object' for #<BookingServiceSerializer:0x00007fd171f67b98 @fieldsets={}, @params={}, @resource=#<BookingService id: 87, quantity: 1, price_per_quantity: 0.1e3, total: 0.1e3, created_at: "2023-10-08 00:32:08.851590000 +0000", updated_at: "2023-10-08 00:32:08.851590000 +0000", service_id: 2, subservice_id: 10, booking_id: 31, title: "Condo (20 - 60 sqm)">>):
  
app/controllers/api/v1/bookings_controller.rb:47:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:33:11 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:33:11.202917"], ["updated_at", "2023-10-08 00:33:11.202917"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:33:11.205891"], ["updated_at", "2023-10-08 00:33:11.205891"], ["profile_id", nil], ["booking_id", 32]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:33:11.234726"], ["updated_at", "2023-10-08 00:33:11.234726"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 32], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:33:11.236591"], ["updated_at", "2023-10-08 00:33:11.236591"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 32], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:33:11.237636"], ["updated_at", "2023-10-08 00:33:11.237636"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 32], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:33:11.239334"], ["updated_at", "2023-10-08 00:33:11.239334"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 32], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:33:11.241165"], ["updated_at", "2023-10-08 00:33:11.241165"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 32], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 32]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
Completed 500 Internal Server Error in 74ms (ActiveRecord: 21.7ms | Allocations: 40542)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:43:in `block in create'
app/controllers/api/v1/bookings_controller.rb:42:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:33:25 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:33:26.116504"], ["updated_at", "2023-10-08 00:33:26.116504"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:33:26.119332"], ["updated_at", "2023-10-08 00:33:26.119332"], ["profile_id", nil], ["booking_id", 33]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:33:26.149080"], ["updated_at", "2023-10-08 00:33:26.149080"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 33], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:33:26.150921"], ["updated_at", "2023-10-08 00:33:26.150921"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 33], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:33:26.151939"], ["updated_at", "2023-10-08 00:33:26.151939"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 33], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:33:26.153056"], ["updated_at", "2023-10-08 00:33:26.153056"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 33], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:33:26.154061"], ["updated_at", "2023-10-08 00:33:26.154061"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 33], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 33]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 124ms (ActiveRecord: 25.0ms | Allocations: 47010)


  
NameError (undefined local variable or method `booking_services_data' for #<Api::V1::BookingsController:0x000000000256c0>):
  
app/controllers/api/v1/bookings_controller.rb:49:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 08:33:41 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 00:33:41.668015"], ["updated_at", "2023-10-08 00:33:41.668015"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 00:33:41.670851"], ["updated_at", "2023-10-08 00:33:41.670851"], ["profile_id", nil], ["booking_id", 34]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:33:41.701585"], ["updated_at", "2023-10-08 00:33:41.701585"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 34], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 00:33:41.703465"], ["updated_at", "2023-10-08 00:33:41.703465"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 34], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 00:33:41.704618"], ["updated_at", "2023-10-08 00:33:41.704618"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 34], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 00:33:41.705813"], ["updated_at", "2023-10-08 00:33:41.705813"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 34], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 00:33:41.707308"], ["updated_at", "2023-10-08 00:33:41.707308"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 34], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 34]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.61ms)
Completed 200 OK in 86ms (Views: 5.2ms | ActiveRecord: 24.2ms | Allocations: 47324)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveIsActiveColumnFromHomeowners (20231008003711)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "homeowners" DROP COLUMN "is_active"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008003711"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddIsActiveColumnToHousemate (20231008003750)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "housemates" ADD "is_active" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008003750"]]
  [1m[36mTRANSACTION (30.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/login" for 127.0.0.1 at 2023-10-08 08:41:43 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 208ms (ActiveRecord: 3.9ms | Allocations: 19637)


  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Housemate"]]
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 4], ["LIMIT", 1]]
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Housemate"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 4]]
  [1m[36mHousemateService Destroy (0.7ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 1]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 2]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 3]]
  [1m[36mHousemate Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Started POST "/login" for 127.0.0.1 at 2023-10-08 08:42:45 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 17ms (ActiveRecord: 4.1ms | Allocations: 6552)


Started POST "/signup" for ::1 at 2023-10-08 08:42:48 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHousemate Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "isVerified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 00:42:48.479015"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 00:42:48.478885"], ["updated_at", "2023-10-08 00:42:48.478885"], ["jti", "dce4b93f-7024-4922-a034-ac12c29bab9c"], ["isVerified", false], ["type", "Housemate"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 2.1ms | Allocations: 931)
Devise::Mailer#confirmation_instructions: processed outbound mail in 10.7ms
Delivered mail 6521fb087d22f_2c7eb2a1c-43e@DESKTOP-MORCCU3.mail (1943.8ms)
Date: Sun, 08 Oct 2023 08:42:48 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <6521fb087d22f_2c7eb2a1c-43e@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=9NgHw6zwvssxgEEWnTza">Confirm my account</a></p>

Completed 200 OK in 2171ms (Views: 0.3ms | ActiveRecord: 4.2ms | Allocations: 33379)


Started GET "/confirmation?confirmation_token=[FILTERED]" for ::1 at 2023-10-08 08:42:55 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemate Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-10-08 00:42:55.202242"], ["updated_at", "2023-10-08 00:42:55.202545"], ["id", 5]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 4.9ms | Allocations: 5022)


Started POST "/login" for 127.0.0.1 at 2023-10-08 08:43:00 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2174)


Started POST "/login" for 127.0.0.1 at 2023-10-08 08:43:38 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 9958)


Started POST "/login" for 127.0.0.1 at 2023-10-08 08:43:50 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 9986)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RenameIsVerifiedColumnInUser (20231008004417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" RENAME COLUMN "isVerified" TO "is_verified"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008004417"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/login" for 127.0.0.1 at 2023-10-08 08:45:03 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Completed 200 OK in 30ms (Views: 0.3ms | ActiveRecord: 3.3ms | Allocations: 18765)


Started POST "/api/v1/housemate" for ::1 at 2023-10-08 08:49:47 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/housemate"):
  
Started POST "/api/v1/housemates" for ::1 at 2023-10-08 08:49:54 +0800
Processing by Api::V1::HousematesController#create as */*
  Parameters: {"housemate"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 190ms (Views: 1.7ms | ActiveRecord: 2.8ms | Allocations: 11900)


Started PATCH "/api/v1/housemates/5" for ::1 at 2023-10-08 08:50:46 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>false}, "id"=>"5"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 1023)


  
NameError (undefined local variable or method `resource' for #<Api::V1::HousematesController:0x00000000015540>):
  
app/controllers/api/v1/housemates_controller.rb:16:in `update'
Started PATCH "/api/v1/housemates/5" for ::1 at 2023-10-08 08:50:57 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>false}, "id"=>"5"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.1ms | Allocations: 7654)


  
ActiveModel::UnknownAttributeError (unknown attribute 'is_active' for Housemate.):
  
app/controllers/api/v1/housemates_controller.rb:16:in `update'
Started PATCH "/api/v1/housemates/5" for ::1 at 2023-10-08 08:51:29 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>"false"}, "id"=>"5"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms | Allocations: 785)


  
ActiveModel::UnknownAttributeError (unknown attribute 'is_active' for Housemate.):
  
app/controllers/api/v1/housemates_controller.rb:16:in `update'
Started PATCH "/api/v1/housemates/5" for ::1 at 2023-10-08 08:51:30 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>"false"}, "id"=>"5"}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms | Allocations: 798)


  
ActiveModel::UnknownAttributeError (unknown attribute 'is_active' for Housemate.):
  
app/controllers/api/v1/housemates_controller.rb:16:in `update'
Started PATCH "/api/v1/housemates/5" for ::1 at 2023-10-08 08:51:31 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>"false"}, "id"=>"5"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 785)


  
ActiveModel::UnknownAttributeError (unknown attribute 'is_active' for Housemate.):
  
app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 5], ["LIMIT", 1]]
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Housemate"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 5]]
  [1m[36mHousemate Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Started POST "/signup" for ::1 at 2023-10-08 08:52:32 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHousemate Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "is_verified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 00:52:33.133649"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 00:52:33.133521"], ["updated_at", "2023-10-08 00:52:33.133521"], ["jti", "fb09ebe1-e3cf-4f53-b3dd-72f21e69b51e"], ["is_verified", false], ["type", "Housemate"]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.5ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 11.5ms
Delivered mail 6521fd5128f66_2d5662a08987fe@DESKTOP-MORCCU3.mail (1920.6ms)
Date: Sun, 08 Oct 2023 08:52:33 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <6521fd5128f66_2d5662a08987fe@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=jya3hWy_EHkqYrtiejdY">Confirm my account</a></p>

Completed 200 OK in 2159ms (Views: 0.3ms | ActiveRecord: 7.5ms | Allocations: 38844)


Started GET "/confirmation?confirmation_token=[FILTERED]" for ::1 at 2023-10-08 08:52:46 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemate Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-10-08 00:52:46.393010"], ["updated_at", "2023-10-08 00:52:46.393457"], ["id", 6]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 5.3ms | Allocations: 5407)


Started POST "/login" for 127.0.0.1 at 2023-10-08 08:52:54 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
Completed 200 OK in 181ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 3745)


Started PATCH "/api/v1/housemates/5" for ::1 at 2023-10-08 08:53:08 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>"false"}, "id"=>"5"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 997)


  
ActiveRecord::RecordNotFound (Couldn't find Housemate with 'id'=5):
  
app/controllers/api/v1/housemates_controller.rb:14:in `update'
Started PATCH "/api/v1/housemates/6" for ::1 at 2023-10-08 08:53:13 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>"false"}, "id"=>"6"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 876)


  
ActiveModel::UnknownAttributeError (unknown attribute 'is_active' for Housemate.):
  
app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Housemate"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 6]]
  [1m[36mHousemate Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 6]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/housemates" for ::1 at 2023-10-08 08:55:02 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousematesController#create as */*
  Parameters: {"housemate"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  [1m[36mHousemate Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "is_verified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 00:55:02.380031"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 00:55:02.379865"], ["updated_at", "2023-10-08 00:55:02.379865"], ["jti", "de4e61d4-add5-4e60-b63c-5cc7b05d5911"], ["is_verified", false], ["type", "Housemate"]]
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.6ms | Allocations: 938)
Devise::Mailer#confirmation_instructions: processed outbound mail in 12.0ms
Delivered mail 6521fde6659f9_2d87d2a085101a@DESKTOP-MORCCU3.mail (1811.0ms)
Date: Sun, 08 Oct 2023 08:55:02 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <6521fde6659f9_2d87d2a085101a@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=FCFy9UKsET8DMtSU2AV-">Confirm my account</a></p>

Completed 200 OK in 2051ms (Views: 0.6ms | ActiveRecord: 7.5ms | Allocations: 37471)


Started GET "/confirmation?confirmation_token=[FILTERED]" for ::1 at 2023-10-08 08:55:31 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemate Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-10-08 00:55:31.951833"], ["updated_at", "2023-10-08 00:55:31.952099"], ["id", 7]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 4.8ms | Allocations: 5435)


Started PATCH "/api/v1/housemates/6" for ::1 at 2023-10-08 08:55:38 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>"false"}, "id"=>"6"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 960)


  
ActiveRecord::RecordNotFound (Couldn't find Housemate with 'id'=6):
  
app/controllers/api/v1/housemates_controller.rb:14:in `update'
Started PATCH "/api/v1/housemates/7" for ::1 at 2023-10-08 08:55:42 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>"false"}, "id"=>"7"}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms | Allocations: 877)


  
ActiveModel::UnknownAttributeError (unknown attribute 'is_active' for Housemate.):
  
app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 7], ["LIMIT", 1]]
Started POST "/api/v1/housemates" for ::1 at 2023-10-08 08:58:22 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `attr_accessible' for Housemate:Class):
  
app/models/housemate.rb:5:in `<class:Housemate>'
app/models/housemate.rb:1:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 7], ["LIMIT", 1]]
Started POST "/api/v1/housemates" for ::1 at 2023-10-08 09:05:09 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousematesController#create as */*
  Parameters: {"housemate"=>{"email"=>"housemate3@test.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate3@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  [1m[36mHousemate Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "is_verified", "type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "housemate3@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 01:05:09.382637"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 01:05:09.382519"], ["updated_at", "2023-10-08 01:05:09.382519"], ["jti", "2f7424db-fbda-4e9c-9380-5d41a4a75a68"], ["is_verified", false], ["type", "Housemate"]]
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.7ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 11.4ms
Delivered mail 6522004565a87_2e6d72a08-4ce@DESKTOP-MORCCU3.mail (1781.9ms)
Date: Sun, 08 Oct 2023 09:05:09 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate3@test.com
Message-ID: <6522004565a87_2e6d72a08-4ce@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate3@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=DAj9eLqTyECMXQiJsNCX">Confirm my account</a></p>

Completed 200 OK in 2016ms (Views: 0.7ms | ActiveRecord: 7.5ms | Allocations: 37314)


Started PATCH "/api/v1/housemates/8" for ::1 at 2023-10-08 09:05:21 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>"false"}, "id"=>"8"}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms | Allocations: 1408)


  
ActiveModel::UnknownAttributeError (unknown attribute 'is_active' for Housemate.):
  
app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 9], ["LIMIT", 1]]
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 8], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Housemate"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 7]]
  [1m[36mHousemate Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 7]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate3@test.com"], ["LIMIT", 1]]
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 8]]
  [1m[36mHousemate Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 8]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddIsActiveColumnToUser (20231008011212)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "is_active" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008011212"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveIsActiveColumnToHousemate (20231008011311)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "housemates" DROP COLUMN "is_active"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008011311"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/housemates" for ::1 at 2023-10-08 09:14:31 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousematesController#create as */*
  Parameters: {"housemate"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  [1m[36mHousemate Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "is_verified", "type", "is_active") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 01:14:31.921295"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 01:14:31.921176"], ["updated_at", "2023-10-08 01:14:31.921176"], ["jti", "1cdbafab-64a5-4ce9-84ef-5972542fd4ed"], ["is_verified", false], ["type", "Housemate"], ["is_active", false]]
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:6:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.5ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 10.9ms
Delivered mail 65220277e8db7_2f3f52a0871756@DESKTOP-MORCCU3.mail (3318.9ms)
Date: Sun, 08 Oct 2023 09:14:31 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <65220277e8db7_2f3f52a0871756@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=sXmtRpgfxAq7isGy4PSs">Confirm my account</a></p>

Completed 200 OK in 3557ms (Views: 0.6ms | ActiveRecord: 6.9ms | Allocations: 38047)


Started PATCH "/api/v1/housemates/9" for ::1 at 2023-10-08 09:14:47 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>"false"}, "id"=>"9"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1729)


Started PATCH "/api/v1/housemates/9" for ::1 at 2023-10-08 09:15:00 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>true}, "id"=>"9"}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "is_active" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-08 01:15:00.399322"], ["is_active", true], ["id", 9]]
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 4.1ms | Allocations: 2991)


Started PATCH "/api/v1/housemates/9" for ::1 at 2023-10-08 09:16:46 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>true}, "id"=>"9"}
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 3.2ms | Allocations: 17661)


Started PATCH "/api/v1/housemates/9" for ::1 at 2023-10-08 09:18:44 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_verified"=>true}, "id"=>"9"}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 3.6ms | Allocations: 15979)


  
NameError (undefined local variable or method `is_verified' for #<Api::V1::HousematesController:0x0000000000d7a0>):
  
app/controllers/api/v1/housemates_controller.rb:26:in `housemate_params'
app/controllers/api/v1/housemates_controller.rb:16:in `update'
Started PATCH "/api/v1/housemates/9" for ::1 at 2023-10-08 09:19:01 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"user"=>{"is_verified"=>true}, "id"=>"9", "housemate"=>{}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 400 Bad Request in 2ms (ActiveRecord: 0.3ms | Allocations: 690)


  
ActionController::ParameterMissing (param is missing or the value is empty: housemate):
  
app/controllers/api/v1/housemates_controller.rb:26:in `housemate_params'
app/controllers/api/v1/housemates_controller.rb:16:in `update'
Started PATCH "/api/v1/housemates/9" for ::1 at 2023-10-08 09:19:26 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"user"=>{"is_verified"=>true}, "id"=>"9", "housemate"=>{}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 400 Bad Request in 8ms (ActiveRecord: 2.1ms | Allocations: 6989)


  
ActionController::ParameterMissing (param is missing or the value is empty: housemate):
  
app/controllers/api/v1/housemates_controller.rb:26:in `housemate_params'
app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 9], ["LIMIT", 1]]
Started PATCH "/api/v1/housemates/9" for ::1 at 2023-10-08 09:20:46 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"homeowner"=>{"is_verified"=>true}, "id"=>"9", "housemate"=>{}}
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 400 Bad Request in 19ms (ActiveRecord: 3.6ms | Allocations: 14858)


  
ActionController::ParameterMissing (param is missing or the value is empty: housemate):
  
app/controllers/api/v1/housemates_controller.rb:26:in `housemate_params'
app/controllers/api/v1/housemates_controller.rb:16:in `update'
Started PATCH "/api/v1/housemates/9" for ::1 at 2023-10-08 09:20:54 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_verified"=>true}, "id"=>"9"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "is_verified" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-08 01:20:54.670306"], ["is_verified", true], ["id", 9]]
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 4.1ms | Allocations: 4396)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 09:27:48 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 01:27:48.807900"], ["updated_at", "2023-10-08 01:27:48.807900"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 01:27:48.810433"], ["updated_at", "2023-10-08 01:27:48.810433"], ["profile_id", nil], ["booking_id", 35]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.5ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:27:48.848840"], ["updated_at", "2023-10-08 01:27:48.848840"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 35], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:27:48.851217"], ["updated_at", "2023-10-08 01:27:48.851217"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 35], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 01:27:48.852478"], ["updated_at", "2023-10-08 01:27:48.852478"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 35], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 01:27:48.853654"], ["updated_at", "2023-10-08 01:27:48.853654"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 35], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 01:27:48.855000"], ["updated_at", "2023-10-08 01:27:48.855000"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 35], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 35]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 115ms (Views: 0.7ms | ActiveRecord: 27.1ms | Allocations: 68162)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 09:29:41 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 01:29:41.186915"], ["updated_at", "2023-10-08 01:29:41.186915"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 01:29:41.189703"], ["updated_at", "2023-10-08 01:29:41.189703"], ["profile_id", nil], ["booking_id", 36]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.8ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:29:41.228415"], ["updated_at", "2023-10-08 01:29:41.228415"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 36], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:29:41.232053"], ["updated_at", "2023-10-08 01:29:41.232053"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 36], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 01:29:41.233722"], ["updated_at", "2023-10-08 01:29:41.233722"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 36], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 01:29:41.235081"], ["updated_at", "2023-10-08 01:29:41.235081"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 36], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 01:29:41.236257"], ["updated_at", "2023-10-08 01:29:41.236257"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 36], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 36]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 121ms (Views: 0.6ms | ActiveRecord: 28.3ms | Allocations: 68441)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 09:32:25 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 01:32:25.474343"], ["updated_at", "2023-10-08 01:32:25.474343"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 01:32:25.476601"], ["updated_at", "2023-10-08 01:32:25.476601"], ["profile_id", nil], ["booking_id", 37]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:32:25.505836"], ["updated_at", "2023-10-08 01:32:25.505836"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 37], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:32:25.507969"], ["updated_at", "2023-10-08 01:32:25.507969"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 37], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 01:32:25.509572"], ["updated_at", "2023-10-08 01:32:25.509572"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 37], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 01:32:25.511383"], ["updated_at", "2023-10-08 01:32:25.511383"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 37], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 01:32:25.513122"], ["updated_at", "2023-10-08 01:32:25.513122"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 37], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 37]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 94ms (ActiveRecord: 24.4ms | Allocations: 46290)


  
NoMethodError (undefined method `city' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:66:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 09:32:44 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 01:32:44.856582"], ["updated_at", "2023-10-08 01:32:44.856582"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 01:32:44.859272"], ["updated_at", "2023-10-08 01:32:44.859272"], ["profile_id", nil], ["booking_id", 38]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:32:44.888689"], ["updated_at", "2023-10-08 01:32:44.888689"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 38], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:32:44.891342"], ["updated_at", "2023-10-08 01:32:44.891342"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 38], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 01:32:44.892920"], ["updated_at", "2023-10-08 01:32:44.892920"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 38], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 01:32:44.894116"], ["updated_at", "2023-10-08 01:32:44.894116"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 38], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 01:32:44.895446"], ["updated_at", "2023-10-08 01:32:44.895446"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 38], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.5ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 38]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 82ms (Views: 0.5ms | ActiveRecord: 25.0ms | Allocations: 46939)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 09:33:53 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 01:33:53.958332"], ["updated_at", "2023-10-08 01:33:53.958332"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 01:33:53.960598"], ["updated_at", "2023-10-08 01:33:53.960598"], ["profile_id", nil], ["booking_id", 39]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:33:53.989752"], ["updated_at", "2023-10-08 01:33:53.989752"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 39], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:33:53.991962"], ["updated_at", "2023-10-08 01:33:53.991962"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 39], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 01:33:53.993136"], ["updated_at", "2023-10-08 01:33:53.993136"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 39], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 01:33:53.994153"], ["updated_at", "2023-10-08 01:33:53.994153"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 39], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 01:33:53.995152"], ["updated_at", "2023-10-08 01:33:53.995152"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 39], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 39]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 81ms (Views: 0.5ms | ActiveRecord: 25.1ms | Allocations: 46888)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 09:34:11 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 01:34:11.207364"], ["updated_at", "2023-10-08 01:34:11.207364"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 01:34:11.210900"], ["updated_at", "2023-10-08 01:34:11.210900"], ["profile_id", nil], ["booking_id", 40]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:34:11.239750"], ["updated_at", "2023-10-08 01:34:11.239750"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 40], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:34:11.241663"], ["updated_at", "2023-10-08 01:34:11.241663"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 40], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 01:34:11.242730"], ["updated_at", "2023-10-08 01:34:11.242730"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 40], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 01:34:11.243718"], ["updated_at", "2023-10-08 01:34:11.243718"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 40], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 01:34:11.244720"], ["updated_at", "2023-10-08 01:34:11.244720"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 40], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 40]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 78ms (ActiveRecord: 24.3ms | Allocations: 46287)


  
NoMethodError (undefined method `city' for {:address_line_1=>"123 Street", :barangay=>"Barangay", :city=>"City", :province=>"Province", :zip_code=>"1234"}:Hash):
  
app/controllers/api/v1/bookings_controller.rb:66:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 09:34:27 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 01:34:27.763040"], ["updated_at", "2023-10-08 01:34:27.763040"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 01:34:27.765570"], ["updated_at", "2023-10-08 01:34:27.765570"], ["profile_id", nil], ["booking_id", 41]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:34:27.802109"], ["updated_at", "2023-10-08 01:34:27.802109"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 41], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:34:27.804280"], ["updated_at", "2023-10-08 01:34:27.804280"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 41], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 01:34:27.805594"], ["updated_at", "2023-10-08 01:34:27.805594"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 41], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 01:34:27.807087"], ["updated_at", "2023-10-08 01:34:27.807087"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 41], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 01:34:27.808518"], ["updated_at", "2023-10-08 01:34:27.808518"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 41], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 41]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 88ms (Views: 0.6ms | ActiveRecord: 25.3ms | Allocations: 46942)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 09:36:19 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 01:36:20.095120"], ["updated_at", "2023-10-08 01:36:20.095120"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 01:36:20.097680"], ["updated_at", "2023-10-08 01:36:20.097680"], ["profile_id", nil], ["booking_id", 42]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:36:20.127925"], ["updated_at", "2023-10-08 01:36:20.127925"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 42], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:36:20.130202"], ["updated_at", "2023-10-08 01:36:20.130202"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 42], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 01:36:20.131877"], ["updated_at", "2023-10-08 01:36:20.131877"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 42], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 01:36:20.133858"], ["updated_at", "2023-10-08 01:36:20.133858"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 42], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 01:36:20.135284"], ["updated_at", "2023-10-08 01:36:20.135284"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 42], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 42]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 85ms (ActiveRecord: 24.1ms | Allocations: 46335)


  
NameError (uninitialized constant Api::V1::BookingsController::Housemates):
  
app/controllers/api/v1/bookings_controller.rb:72:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 09:36:26 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 01:36:26.191990"], ["updated_at", "2023-10-08 01:36:26.191990"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 01:36:26.194447"], ["updated_at", "2023-10-08 01:36:26.194447"], ["profile_id", nil], ["booking_id", 43]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:36:26.223836"], ["updated_at", "2023-10-08 01:36:26.223836"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 43], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:36:26.225931"], ["updated_at", "2023-10-08 01:36:26.225931"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 43], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 01:36:26.227279"], ["updated_at", "2023-10-08 01:36:26.227279"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 43], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 01:36:26.228422"], ["updated_at", "2023-10-08 01:36:26.228422"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 43], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 01:36:26.229711"], ["updated_at", "2023-10-08 01:36:26.229711"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 43], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 43]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 89ms (ActiveRecord: 24.7ms | Allocations: 47907)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column users.province does not exist
LINE 1: ...ers".* FROM "users" WHERE "users"."type" = $1 AND "users"."p...
                                                             ^
):
  
app/controllers/api/v1/bookings_controller.rb:75:in `puts'
app/controllers/api/v1/bookings_controller.rb:75:in `puts'
app/controllers/api/v1/bookings_controller.rb:75:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 09:37:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 01:37:09.787403"], ["updated_at", "2023-10-08 01:37:09.787403"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 01:37:09.789548"], ["updated_at", "2023-10-08 01:37:09.789548"], ["profile_id", nil], ["booking_id", 44]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:37:09.820040"], ["updated_at", "2023-10-08 01:37:09.820040"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 44], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:37:09.822344"], ["updated_at", "2023-10-08 01:37:09.822344"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 44], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 01:37:09.823759"], ["updated_at", "2023-10-08 01:37:09.823759"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 44], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 01:37:09.824998"], ["updated_at", "2023-10-08 01:37:09.824998"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 44], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 01:37:09.826162"], ["updated_at", "2023-10-08 01:37:09.826162"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 44], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 44]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 88ms (ActiveRecord: 24.2ms | Allocations: 47878)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column users.province does not exist
LINE 1: ...ers".* FROM "users" WHERE "users"."type" = $1 AND "users"."p...
                                                             ^
):
  
app/controllers/api/v1/bookings_controller.rb:75:in `puts'
app/controllers/api/v1/bookings_controller.rb:75:in `puts'
app/controllers/api/v1/bookings_controller.rb:75:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 09:40:20 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"City", "province"=>"Province", "zip_code"=>"1234"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 01:40:20.408592"], ["updated_at", "2023-10-08 01:40:20.408592"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "City"], ["province", "Province"], ["zip_code", "1234"], ["created_at", "2023-10-08 01:40:20.412039"], ["updated_at", "2023-10-08 01:40:20.412039"], ["profile_id", nil], ["booking_id", 45]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:40:20.444815"], ["updated_at", "2023-10-08 01:40:20.444815"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 45], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 01:40:20.447137"], ["updated_at", "2023-10-08 01:40:20.447137"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 45], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 01:40:20.448845"], ["updated_at", "2023-10-08 01:40:20.448845"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 45], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 01:40:20.450026"], ["updated_at", "2023-10-08 01:40:20.450026"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 45], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 01:40:20.451335"], ["updated_at", "2023-10-08 01:40:20.451335"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 45], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 45]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Housemate"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `puts'
Completed 200 OK in 105ms (Views: 0.8ms | ActiveRecord: 28.2ms | Allocations: 51907)


  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Housemate"]]
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 9], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" "profile" ON "profile"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profile"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "addresses"."province" = $3[0m  [["type", "Housemate"], ["city", "City"], ["province", "Province"]]
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 16:10:56 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "House Mate"], ["phone_number", "09123456789"], ["created_at", "2023-10-08 08:10:56.187153"], ["updated_at", "2023-10-08 08:10:56.187153"], ["user_id", 9], ["email", "housemate@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 08:10:56.189072"], ["updated_at", "2023-10-08 08:10:56.189072"], ["profile_id", 3], ["booking_id", nil]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 201 Created in 61ms (Views: 0.3ms | ActiveRecord: 12.4ms | Allocations: 36255)


Started POST "/signup" for ::1 at 2023-10-08 16:11:07 +0800
  
NoMethodError (undefined method `before_filter' for Users::RegistrationsController:Class):
  
app/controllers/users/registrations_controller.rb:4:in `<class:RegistrationsController>'
app/controllers/users/registrations_controller.rb:1:in `<main>'
Started POST "/signup" for ::1 at 2023-10-08 16:11:35 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate2@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}, "registration"=>{"user"=>{"email"=>"housemate2@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate2@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mHousemate Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "is_verified", "type", "is_active") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "housemate2@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 08:11:36.242536"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 08:11:36.242419"], ["updated_at", "2023-10-08 08:11:36.242419"], ["jti", "2cbcece8-80a2-496b-812b-8c0ed107d893"], ["is_verified", false], ["type", "Housemate"], ["is_active", false]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.4ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 12.0ms
Delivered mail 6522643843394_42e4429f431926@DESKTOP-MORCCU3.mail (1658.8ms)
Date: Sun, 08 Oct 2023 16:11:36 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate2@test.com
Message-ID: <6522643843394_42e4429f431926@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate2@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=joRnibfyac_B_v-6DuoQ">Confirm my account</a></p>

Completed 200 OK in 1889ms (Views: 0.2ms | ActiveRecord: 6.2ms | Allocations: 30810)


Started POST "/api/v1/profiles" for ::1 at 2023-10-08 16:11:49 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"House2 Mate", "email"=>"housemate2@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate2@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate2@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "House2 Mate"], ["phone_number", "09123456789"], ["created_at", "2023-10-08 08:11:49.366711"], ["updated_at", "2023-10-08 08:11:49.366711"], ["user_id", 10], ["email", "housemate2@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 08:11:49.368399"], ["updated_at", "2023-10-08 08:11:49.368399"], ["profile_id", 4], ["booking_id", nil]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 201 Created in 27ms (Views: 0.2ms | ActiveRecord: 8.2ms | Allocations: 13771)


  [1m[36mHousemate Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" "profile" ON "profile"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profile"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "addresses"."province" = $3[0m  [["type", "Housemate"], ["city", "Bacoor"], ["province", "Cavite"]]
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 16:15:11 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 08:15:12.112709"], ["updated_at", "2023-10-08 08:15:12.112709"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 08:15:12.115287"], ["updated_at", "2023-10-08 08:15:12.115287"], ["profile_id", nil], ["booking_id", 46]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 08:15:12.154099"], ["updated_at", "2023-10-08 08:15:12.154099"], ["service_id", 2], ["subservice_id", 10], ["booking_id", 46], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "100.0"], ["total", "100.0"], ["created_at", "2023-10-08 08:15:12.156256"], ["updated_at", "2023-10-08 08:15:12.156256"], ["service_id", 2], ["subservice_id", 12], ["booking_id", 46], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "60.0"], ["total", "60.0"], ["created_at", "2023-10-08 08:15:12.157326"], ["updated_at", "2023-10-08 08:15:12.157326"], ["service_id", 2], ["subservice_id", 3], ["booking_id", 46], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "699.0"], ["total", "1398.0"], ["created_at", "2023-10-08 08:15:12.158410"], ["updated_at", "2023-10-08 08:15:12.158410"], ["service_id", 2], ["subservice_id", 5], ["booking_id", 46], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "108.0"], ["total", "108.0"], ["created_at", "2023-10-08 08:15:12.159468"], ["updated_at", "2023-10-08 08:15:12.159468"], ["service_id", 2], ["subservice_id", 6], ["booking_id", 46], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 46]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 117ms (Views: 0.7ms | ActiveRecord: 27.0ms | Allocations: 68443)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:17:06 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:17:06.688958"], ["updated_at", "2023-10-08 08:17:06.688958"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:17:06.690590"], ["updated_at", "2023-10-08 08:17:06.690590"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:17:06.691614"], ["updated_at", "2023-10-08 08:17:06.691614"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:18:in `create'
Completed 200 OK in 22ms (Views: 1.6ms | ActiveRecord: 6.8ms | Allocations: 12584)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:22:23 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.6ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:22:23.798648"], ["updated_at", "2023-10-08 08:22:23.798648"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:22:23.801722"], ["updated_at", "2023-10-08 08:22:23.801722"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:22:23.803512"], ["updated_at", "2023-10-08 08:22:23.803512"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:18:in `create'
Completed 200 OK in 51ms (Views: 2.0ms | ActiveRecord: 11.8ms | Allocations: 28532)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:23:32 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:23:32.627548"], ["updated_at", "2023-10-08 08:23:32.627548"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:23:32.628754"], ["updated_at", "2023-10-08 08:23:32.628754"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:23:32.629637"], ["updated_at", "2023-10-08 08:23:32.629637"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 15351)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:24:40 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:24:40.715684"], ["updated_at", "2023-10-08 08:24:40.715684"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:24:40.717725"], ["updated_at", "2023-10-08 08:24:40.717725"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:24:40.719356"], ["updated_at", "2023-10-08 08:24:40.719356"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 15412)


  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices"[0m
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:27:02 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.6ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:02.347247"], ["updated_at", "2023-10-08 08:27:02.347247"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:02.349250"], ["updated_at", "2023-10-08 08:27:02.349250"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:02.350605"], ["updated_at", "2023-10-08 08:27:02.350605"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 44ms (Views: 0.3ms | ActiveRecord: 9.9ms | Allocations: 27086)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:27:13 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:13.652688"], ["updated_at", "2023-10-08 08:27:13.652688"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:13.654439"], ["updated_at", "2023-10-08 08:27:13.654439"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:13.655707"], ["updated_at", "2023-10-08 08:27:13.655707"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 8.9ms | Allocations: 15204)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:27:30 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:30.986699"], ["updated_at", "2023-10-08 08:27:30.986699"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:30.988242"], ["updated_at", "2023-10-08 08:27:30.988242"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:30.989352"], ["updated_at", "2023-10-08 08:27:30.989352"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 8.4ms | Allocations: 15128)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:27:40 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:40.356222"], ["updated_at", "2023-10-08 08:27:40.356222"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:40.357724"], ["updated_at", "2023-10-08 08:27:40.357724"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:40.358688"], ["updated_at", "2023-10-08 08:27:40.358688"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 8.3ms | Allocations: 15039)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:27:45 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.5ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:45.766296"], ["updated_at", "2023-10-08 08:27:45.766296"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:45.768521"], ["updated_at", "2023-10-08 08:27:45.768521"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:27:45.771013"], ["updated_at", "2023-10-08 08:27:45.771013"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 8.8ms | Allocations: 15238)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:29:09 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:29:10.026134"], ["updated_at", "2023-10-08 08:29:10.026134"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:29:10.027441"], ["updated_at", "2023-10-08 08:29:10.027441"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:29:10.028603"], ["updated_at", "2023-10-08 08:29:10.028603"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 8.2ms | Allocations: 15184)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:29:23 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:29:23.229035"], ["updated_at", "2023-10-08 08:29:23.229035"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:29:23.230358"], ["updated_at", "2023-10-08 08:29:23.230358"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:29:23.231472"], ["updated_at", "2023-10-08 08:29:23.231472"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 8.6ms | Allocations: 15013)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:30:30 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.6ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:30:30.622176"], ["updated_at", "2023-10-08 08:30:30.622176"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.6ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:30:30.625051"], ["updated_at", "2023-10-08 08:30:30.625051"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:30:30.627912"], ["updated_at", "2023-10-08 08:30:30.627912"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 9.4ms | Allocations: 15235)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 16:33:29 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"email"=>"housemate@test.com", "services"=>["Cleaning Services", "Aircon Services", "Plumbing Services"]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."email" = $2 LIMIT $3[0m  [["type", "Housemate"], ["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:33:29.898134"], ["updated_at", "2023-10-08 08:33:29.898134"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:33:29.899547"], ["updated_at", "2023-10-08 08:33:29.899547"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2023-10-08 08:33:29.900582"], ["updated_at", "2023-10-08 08:33:29.900582"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 9]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 9.0ms | Allocations: 15180)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceReferenceToHousemateService (20231008090238)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "services" ADD "housemate_id" bigint NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Housemate"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 3], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 48]]
  [1m[36mProfile Destroy (0.4ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 3]]
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 9]]
  [1m[36mHousemateService Destroy (0.5ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 4]]
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 5]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 6]]
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 7]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 8]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 9]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 10]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 11]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 12]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 13]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 14]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 15]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 16]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 17]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 18]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 19]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 20]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 21]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 22]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 23]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 24]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 25]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 26]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 27]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 28]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 29]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 30]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 31]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 32]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 33]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 34]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 35]]
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 36]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 37]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 38]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 39]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 40]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 41]]
  [1m[36mHousemateService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 42]]
  [1m[36mHousemate Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 9]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate2@test.com"], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 4], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 49]]
  [1m[36mProfile Destroy (0.2ms)[0m  [1m[31mDELETE FROM "profiles" WHERE "profiles"."id" = $1[0m  [["id", 4]]
  [1m[36mHousemateService Load (0.1ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 10]]
  [1m[36mHousemate Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 10]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceReferenceToHousemateService (20231008090238)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "services" ADD "housemate_id" bigint NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceReferenceToHousemateService (20231008090238)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "services" ADD "housemate_id" bigint NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 6], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.4ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 7]]
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 6]]
  [1m[36mBooking Destroy (0.5ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 6]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 7], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 8]]
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 7]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 7]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 8], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 9]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 8]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 8]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 9], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 10]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 9]]
  [1m[36mBooking Destroy (0.8ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 9]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 10], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 12]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 10]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 10]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 11], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 13]]
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 11]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 11]]
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 12], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 14]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 12]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 12]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 13], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 15]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 13]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 13]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 14], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 16]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 14]]
  [1m[36mBookingService Destroy (0.4ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 2]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 3]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 4]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 5]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 6]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 14]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 15], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 17]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 15]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 7]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 8]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 9]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 10]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 11]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 15]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 16], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 18]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 16]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 12]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 13]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 14]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 15]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 16]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 16]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 17], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 19]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 17]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 17]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 18]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 19]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 20]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 21]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 17]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 18], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 20]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 18]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 22]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 23]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 24]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 25]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 26]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 18]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 19], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 21]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 19]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 27]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 28]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 29]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 30]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 31]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 19]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 20], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 22]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 20]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 32]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 33]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 34]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 35]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 36]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 20]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 21], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 23]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 21]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 37]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 38]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 39]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 40]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 41]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 21]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 22], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 24]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 22]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 42]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 43]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 44]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 45]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 46]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 22]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 23], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 25]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 23]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 47]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 48]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 49]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 50]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 51]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 23]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 24], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 26]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 24]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 52]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 53]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 54]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 55]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 56]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 24]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 25], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 27]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 25]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 57]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 58]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 59]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 60]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 61]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 25]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 26], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 28]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 26]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 62]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 63]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 64]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 65]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 66]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 26]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 27], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 29]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 27]]
  [1m[36mBookingService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 67]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 68]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 69]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 70]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 71]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 27]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 28], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 30]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 28]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 72]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 73]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 74]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 75]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 76]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 28]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 29], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 31]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 29]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 77]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 78]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 79]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 80]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 81]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 29]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 30], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 32]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 30]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 82]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 83]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 84]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 85]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 86]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 30]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 31], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 33]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 31]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 87]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 88]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 89]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 90]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 91]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 31]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 32], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 34]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 32]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 92]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 93]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 94]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 95]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 96]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 32]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 33], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 35]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 33]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 97]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 98]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 99]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 100]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 101]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 33]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 34], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 36]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 34]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 102]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 103]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 104]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 105]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 106]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 34]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 35], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 37]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 35]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 107]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 108]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 109]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 110]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 111]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 35]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 36], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.4ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 38]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 36]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 112]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 113]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 114]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 115]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 116]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 36]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 37], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 39]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 37]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 117]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 118]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 119]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 120]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 121]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 37]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 38], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 40]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 38]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 122]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 123]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 124]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 125]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 126]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 38]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 39], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 41]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 39]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 127]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 128]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 129]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 130]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 131]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 39]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 40], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 42]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 40]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 132]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 133]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 134]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 135]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 136]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 40]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 41], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 43]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 41]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 137]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 138]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 139]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 140]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 141]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 41]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 42], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 44]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 42]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 142]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 143]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 144]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 145]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 146]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 42]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 43], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 45]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 43]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 147]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 148]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 149]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 150]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 151]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 43]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 44], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 46]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 44]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 152]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 153]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 154]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 155]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 156]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 44]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 45], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 47]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 45]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 157]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 158]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 159]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 160]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 161]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 45]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 46], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 50]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 46]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 162]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 163]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 164]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 165]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 166]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 46]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceReferenceToHousemateService (20231008090238)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "services" ADD "housemate_id" bigint NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (56.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (65.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (44.7ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (45.6ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (19.9ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008011311)[0m
  [1m[35m (3.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212);

[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 09:08:31.588723"], ["updated_at", "2023-10-08 09:08:31.588723"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5ed42bf9e7286802dcdd1c42222117fd63e630b6"], ["created_at", "2023-10-08 09:08:31.601764"], ["updated_at", "2023-10-08 09:08:31.601764"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008011311)[0m
  [1m[35m (3.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212);

[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 09:08:32.053207"], ["updated_at", "2023-10-08 09:08:32.053207"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-08 09:08:32.060786"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5ed42bf9e7286802dcdd1c42222117fd63e630b6"], ["created_at", "2023-10-08 09:08:32.067050"], ["updated_at", "2023-10-08 09:08:32.067050"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveIsActiveColumnToHousemate (20231008011311)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceReferenceToHousemateService (20231008090238)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "services" ADD "housemate_id" bigint NOT NULL[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_services_on_housemate_id" ON "services" ("housemate_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "services" ADD CONSTRAINT "fk_rails_2091c97e08"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008090238"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceReferenceToHousemateService (20231008090238)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "services" DROP CONSTRAINT "fk_rails_2091c97e08"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "services" DROP COLUMN "housemate_id"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231008090238"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceReferenceToHousemateService (20231008090238)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "services" ADD "housemate_service_id" bigint NOT NULL[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE INDEX "index_services_on_housemate_service_id" ON "services" ("housemate_service_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "services" ADD CONSTRAINT "fk_rails_532407b540"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008090238"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceReferenceToHousemateService (20231008090238)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "services" DROP CONSTRAINT "fk_rails_532407b540"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "services" DROP COLUMN "housemate_service_id"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231008090238"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceReferenceToHousemateService (20231008090238)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD "service_id" bigint NOT NULL[0m
  [1m[35m (23.9ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008090238"]]
  [1m[36mTRANSACTION (38.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2023-10-08 17:45:46 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHousemate Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "is_verified", "type", "is_active") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 09:45:46.936826"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 09:45:46.936703"], ["updated_at", "2023-10-08 09:45:46.936703"], ["jti", "abc970df-56c7-4cd7-8077-0bf453e2984a"], ["is_verified", false], ["type", "Housemate"], ["is_active", false]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.4ms | Allocations: 938)
Devise::Mailer#confirmation_instructions: processed outbound mail in 10.0ms
Delivered mail 65227a4aece10_48ab32a0828514@DESKTOP-MORCCU3.mail (1652.2ms)
Date: Sun, 08 Oct 2023 17:45:46 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <65227a4aece10_48ab32a0828514@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=rpQshF22Wb1_HVmUPsog">Confirm my account</a></p>

Completed 200 OK in 1888ms (Views: 0.3ms | ActiveRecord: 10.0ms | Allocations: 39758)


Started POST "/api/v1/profiles" for ::1 at 2023-10-08 17:46:13 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "House Mate"], ["phone_number", "09123456789"], ["created_at", "2023-10-08 09:46:13.281691"], ["updated_at", "2023-10-08 09:46:13.281691"], ["user_id", 1], ["email", "housemate@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 09:46:13.283211"], ["updated_at", "2023-10-08 09:46:13.283211"], ["profile_id", 1], ["booking_id", nil]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 201 Created in 34ms (Views: 0.2ms | ActiveRecord: 8.7ms | Allocations: 19422)


Started POST "/api/v1/profiles" for ::1 at 2023-10-08 17:47:35 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"id"=>1, "name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}}
[31mUnpermitted parameters: :name, :phone_number. Context: { controller: Api::V1::ProfilesController, action: create, request: #<ActionDispatch::Request:0x00007f6073ec0f10>, params: {"profile"=>{"id"=>1, "name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}, "controller"=>"api/v1/profiles", "action"=>"create"} }[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
[31mUnpermitted parameters: :name, :phone_number. Context: { controller: Api::V1::ProfilesController, action: create, request: #<ActionDispatch::Request:0x00007f6073ec0f10>, params: {"profile"=>{"id"=>1, "name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}, "controller"=>"api/v1/profiles", "action"=>"create"} }[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
[31mUnpermitted parameters: :name, :phone_number. Context: { controller: Api::V1::ProfilesController, action: create, request: #<ActionDispatch::Request:0x00007f6073ec0f10>, params: {"profile"=>{"id"=>1, "name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}, "controller"=>"api/v1/profiles", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("id", "name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 1], ["name", nil], ["phone_number", nil], ["created_at", "2023-10-08 09:47:35.539200"], ["updated_at", "2023-10-08 09:47:35.539200"], ["user_id", 1], ["email", "housemate@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 10.6ms | Allocations: 23442)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "name" of relation "profiles" violates not-null constraint
DETAIL:  Failing row contains (1, null, null, 2023-10-08 09:47:35.5392, 2023-10-08 09:47:35.5392, 1, housemate@test.com).
):
  
app/controllers/api/v1/profiles_controller.rb:7:in `create'
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 17:47:56 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"id"=>1, "name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("id", "name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 1], ["name", "House Mate"], ["phone_number", "09123456789"], ["created_at", "2023-10-08 09:47:56.412104"], ["updated_at", "2023-10-08 09:47:56.412104"], ["user_id", 1], ["email", "housemate@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 6.6ms | Allocations: 20766)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "profiles_pkey"
DETAIL:  Key (id)=(1) already exists.
):
  
app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (60.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (67.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (48.9ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (44.9ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (20.9ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (19.6ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (44.9ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (27.7ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (81.7ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (102.4ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008090238)[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311);

[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 09:48:06.361580"], ["updated_at", "2023-10-08 09:48:06.361580"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "3584d73623300db8924c439e9b485d68a16d6173"], ["created_at", "2023-10-08 09:48:06.370944"], ["updated_at", "2023-10-08 09:48:06.370944"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008090238)[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311);

[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 09:48:06.824013"], ["updated_at", "2023-10-08 09:48:06.824013"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-08 09:48:06.831340"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "3584d73623300db8924c439e9b485d68a16d6173"], ["created_at", "2023-10-08 09:48:06.837439"], ["updated_at", "2023-10-08 09:48:06.837439"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2023-10-08 17:48:14 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHousemate Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "is_verified", "type", "is_active") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 09:48:14.373181"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 09:48:14.373049"], ["updated_at", "2023-10-08 09:48:14.373049"], ["jti", "32c6d5d9-97b9-4342-98c6-fa1de5f96f67"], ["is_verified", false], ["type", "Housemate"], ["is_active", false]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.5ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 10.6ms
Delivered mail 65227ade63524_48f3429f4-48e@DESKTOP-MORCCU3.mail (1982.5ms)
Date: Sun, 08 Oct 2023 17:48:14 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <65227ade63524_48f3429f4-48e@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=yfZfjaXuCZzD-aKsLxhd">Confirm my account</a></p>

Completed 200 OK in 2219ms (Views: 0.3ms | ActiveRecord: 7.2ms | Allocations: 39587)


Started GET "/confirmation?confirmation_token=[FILTERED]" for ::1 at 2023-10-08 17:48:22 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemate Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-10-08 09:48:22.520683"], ["updated_at", "2023-10-08 09:48:22.521001"], ["id", 1]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 5.3ms | Allocations: 5409)


Started POST "/login" for 127.0.0.1 at 2023-10-08 17:48:29 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
Completed 200 OK in 180ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2459)


Started POST "/api/v1/profiles" for ::1 at 2023-10-08 17:48:36 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"id"=>1, "name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("id", "name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 1], ["name", "House Mate"], ["phone_number", "09123456789"], ["created_at", "2023-10-08 09:48:36.420506"], ["updated_at", "2023-10-08 09:48:36.420506"], ["user_id", 1], ["email", "housemate@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 09:48:36.422734"], ["updated_at", "2023-10-08 09:48:36.422734"], ["profile_id", 1], ["booking_id", nil]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 201 Created in 36ms (Views: 0.2ms | ActiveRecord: 9.5ms | Allocations: 19851)


Started POST "/api/v1/profiles" for ::1 at 2023-10-08 17:49:48 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"id"=>1, "name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("id", "name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 1], ["name", "House Mate"], ["phone_number", "09123456789"], ["created_at", "2023-10-08 09:49:48.439526"], ["updated_at", "2023-10-08 09:49:48.439526"], ["user_id", 1], ["email", "housemate@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 11.1ms | Allocations: 23170)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "profiles_pkey"
DETAIL:  Key (id)=(1) already exists.
):
  
app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (188.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (64.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (51.0ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (42.9ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (5.8ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008090238)[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311);

[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 09:50:01.304182"], ["updated_at", "2023-10-08 09:50:01.304182"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "3584d73623300db8924c439e9b485d68a16d6173"], ["created_at", "2023-10-08 09:50:01.312771"], ["updated_at", "2023-10-08 09:50:01.312771"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (20.7ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (20.8ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008090238)[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311);

[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 09:50:01.773222"], ["updated_at", "2023-10-08 09:50:01.773222"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-08 09:50:01.780196"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "3584d73623300db8924c439e9b485d68a16d6173"], ["created_at", "2023-10-08 09:50:01.786383"], ["updated_at", "2023-10-08 09:50:01.786383"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2023-10-08 17:50:07 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHousemate Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "is_verified", "type", "is_active") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 09:50:07.298916"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 09:50:07.298784"], ["updated_at", "2023-10-08 09:50:07.298784"], ["jti", "65485cad-a818-44f4-aedb-cfc46bacd67f"], ["is_verified", false], ["type", "Housemate"], ["is_active", false]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.6ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 12.2ms
Delivered mail 65227b4f5193c_492ab29f4-498@DESKTOP-MORCCU3.mail (1760.3ms)
Date: Sun, 08 Oct 2023 17:50:07 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <65227b4f5193c_492ab29f4-498@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=h634yyXFwVL559aKM3yU">Confirm my account</a></p>

Completed 200 OK in 1997ms (Views: 0.3ms | ActiveRecord: 7.3ms | Allocations: 39576)


Started GET "/confirmation?confirmation_token=[FILTERED]" for ::1 at 2023-10-08 17:50:11 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemate Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-10-08 09:50:11.282100"], ["updated_at", "2023-10-08 09:50:11.282392"], ["id", 1]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 5411)


Started POST "/login" for 127.0.0.1 at 2023-10-08 17:50:15 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
Completed 200 OK in 182ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3786)


Started POST "/api/v1/profiles" for ::1 at 2023-10-08 17:50:22 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"id"=>1, "name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("id", "name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 1], ["name", "House Mate"], ["phone_number", "09123456789"], ["created_at", "2023-10-08 09:50:22.486970"], ["updated_at", "2023-10-08 09:50:22.486970"], ["user_id", 1], ["email", "housemate@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 09:50:22.489052"], ["updated_at", "2023-10-08 09:50:22.489052"], ["profile_id", 1], ["booking_id", nil]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 201 Created in 42ms (Views: 0.2ms | ActiveRecord: 11.4ms | Allocations: 19908)


Started POST "/api/v1/services" for ::1 at 2023-10-08 17:53:07 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Cleaning Services", "price"=>399}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.4ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cleaning Services"], ["created_at", "2023-10-08 09:53:07.262441"], ["updated_at", "2023-10-08 09:53:07.262441"], ["price", "399.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 7.8ms | Allocations: 6262)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (122.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (65.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (49.3ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (44.1ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008090238)[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311);

[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 09:54:37.176653"], ["updated_at", "2023-10-08 09:54:37.176653"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "3584d73623300db8924c439e9b485d68a16d6173"], ["created_at", "2023-10-08 09:54:37.189695"], ["updated_at", "2023-10-08 09:54:37.189695"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (20.8ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (19.5ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "housemate_service_id" bigint, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_housemate_service_id" ON "subservices" ("housemate_service_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_dbb1fe3680"
FOREIGN KEY ("housemate_service_id")
  REFERENCES "housemate_services" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (20.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008090238)[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311);

[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 09:54:37.656665"], ["updated_at", "2023-10-08 09:54:37.656665"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-08 09:54:37.663639"], ["key", "environment"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "3584d73623300db8924c439e9b485d68a16d6173"], ["created_at", "2023-10-08 09:54:37.669712"], ["updated_at", "2023-10-08 09:54:37.669712"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2023-10-08 17:54:43 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHousemate Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "is_verified", "type", "is_active") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 09:54:43.869250"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 09:54:43.869113"], ["updated_at", "2023-10-08 09:54:43.869113"], ["jti", "6bd1c442-d064-43cd-8c5d-b18ac0de251b"], ["is_verified", false], ["type", "Housemate"], ["is_active", false]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.7ms | Allocations: 932)
Devise::Mailer#confirmation_instructions: processed outbound mail in 11.7ms
Delivered mail 65227c63dc7ad_4994329f451496@DESKTOP-MORCCU3.mail (1941.8ms)
Date: Sun, 08 Oct 2023 17:54:43 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <65227c63dc7ad_4994329f451496@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=Fvpv2yTb9ZDC975RPFt2">Confirm my account</a></p>

Completed 200 OK in 2179ms (Views: 0.3ms | ActiveRecord: 7.2ms | Allocations: 39589)


Started POST "/api/v1/profiles" for ::1 at 2023-10-08 17:54:57 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"id"=>1, "name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("id", "name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 1], ["name", "House Mate"], ["phone_number", "09123456789"], ["created_at", "2023-10-08 09:54:57.496654"], ["updated_at", "2023-10-08 09:54:57.496654"], ["user_id", 1], ["email", "housemate@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 09:54:57.498945"], ["updated_at", "2023-10-08 09:54:57.498945"], ["profile_id", 1], ["booking_id", nil]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 201 Created in 36ms (Views: 0.2ms | ActiveRecord: 9.0ms | Allocations: 20109)


Started POST "/api/v1/services" for ::1 at 2023-10-08 17:55:05 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Cleaning Services", "price"=>399}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.3ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cleaning Services"], ["created_at", "2023-10-08 09:55:05.472743"], ["updated_at", "2023-10-08 09:55:05.472743"], ["price", "399.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 6524)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 17:55:39 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}}
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::SubservicesController, action: create, request: #<ActionDispatch::Request:0x00007f6706016188>, params: {"subservice"=>{"id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}, "controller"=>"api/v1/subservices", "action"=>"create"} }[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::SubservicesController, action: create, request: #<ActionDispatch::Request:0x00007f6706016188>, params: {"subservice"=>{"id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}, "controller"=>"api/v1/subservices", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "2 Bedrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.7ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "housemate_service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "2 Bedrooms"], ["price", "150.0"], ["created_at", "2023-10-08 09:55:39.893663"], ["updated_at", "2023-10-08 09:55:39.893663"], ["service_id", 1], ["housemate_service_id", nil], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 40ms (Views: 0.4ms | ActiveRecord: 9.7ms | Allocations: 19476)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveSubserviceRefToHousemateService (20231008095641)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "subservices" DROP COLUMN "housemate_service_id_id"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveSubserviceRefToHousemateService (20231008095641)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "subservices" DROP COLUMN "housemate_service_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008095641"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (147.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (69.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (45.6ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (48.8ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (20.0ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008095641)[0m
  [1m[35m (3.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311),
(20231008090238);

[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 09:58:04.224923"], ["updated_at", "2023-10-08 09:58:04.224923"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "602cc5499b945e2c56f9888d0a5da56d8aec4d2a"], ["created_at", "2023-10-08 09:58:04.238073"], ["updated_at", "2023-10-08 09:58:04.238073"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (24.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008095641)[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311),
(20231008090238);

[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 09:58:04.694605"], ["updated_at", "2023-10-08 09:58:04.694605"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-08 09:58:04.701687"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "602cc5499b945e2c56f9888d0a5da56d8aec4d2a"], ["created_at", "2023-10-08 09:58:04.707694"], ["updated_at", "2023-10-08 09:58:04.707694"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/services" for ::1 at 2023-10-08 17:58:17 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Cleaning Services", "price"=>399}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.4ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cleaning Services"], ["created_at", "2023-10-08 09:58:17.586852"], ["updated_at", "2023-10-08 09:58:17.586852"], ["price", "399.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 25ms (Views: 0.4ms | ActiveRecord: 7.6ms | Allocations: 11822)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 17:58:32 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}}
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::SubservicesController, action: create, request: #<ActionDispatch::Request:0x00007f756128cdb8>, params: {"subservice"=>{"id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}, "controller"=>"api/v1/subservices", "action"=>"create"} }[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::SubservicesController, action: create, request: #<ActionDispatch::Request:0x00007f756128cdb8>, params: {"subservice"=>{"id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}, "controller"=>"api/v1/subservices", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "2 Bedrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.5ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "2 Bedrooms"], ["price", "150.0"], ["created_at", "2023-10-08 09:58:32.969469"], ["updated_at", "2023-10-08 09:58:32.969469"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 22ms (Views: 0.4ms | ActiveRecord: 6.8ms | Allocations: 9836)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 17:59:59 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "2 Bedrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 15ms (Views: 1.4ms | ActiveRecord: 4.3ms | Allocations: 9486)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (185.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (62.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (44.5ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (44.1ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (18.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008095641)[0m
  [1m[35m (3.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311),
(20231008090238);

[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 10:00:07.558462"], ["updated_at", "2023-10-08 10:00:07.558462"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "602cc5499b945e2c56f9888d0a5da56d8aec4d2a"], ["created_at", "2023-10-08 10:00:07.567282"], ["updated_at", "2023-10-08 10:00:07.567282"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (5.4ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008095641)[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311),
(20231008090238);

[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 10:00:08.003114"], ["updated_at", "2023-10-08 10:00:08.003114"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-08 10:00:08.010414"], ["key", "environment"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "602cc5499b945e2c56f9888d0a5da56d8aec4d2a"], ["created_at", "2023-10-08 10:00:08.016327"], ["updated_at", "2023-10-08 10:00:08.016327"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/subservices" for ::1 at 2023-10-08 18:00:13 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
Completed 404 Not Found in 14ms (ActiveRecord: 3.3ms | Allocations: 6193)


  
ActiveRecord::RecordNotFound (Couldn't find Service with 'id'=1):
  
app/controllers/api/v1/subservices_controller.rb:7:in `create'
Started POST "/api/v1/services" for ::1 at 2023-10-08 18:00:16 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Cleaning Services", "price"=>399}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.5ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cleaning Services"], ["created_at", "2023-10-08 10:00:16.067052"], ["updated_at", "2023-10-08 10:00:16.067052"], ["price", "399.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 4.2ms | Allocations: 7710)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 18:00:18 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "2 Bedrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.6ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "2 Bedrooms"], ["price", "150.0"], ["created_at", "2023-10-08 10:00:18.174581"], ["updated_at", "2023-10-08 10:00:18.174581"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 6.2ms | Allocations: 9630)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (144.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_development"[0m
  [1m[35m (68.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "Server_test"[0m
  [1m[35m (45.5ms)[0m  [1m[35mCREATE DATABASE "Server_development" ENCODING = 'unicode'[0m
  [1m[35m (58.6ms)[0m  [1m[35mCREATE DATABASE "Server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (20.7ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (8.1ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (7.9ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (8.7ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (6.3ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (8.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (6.0ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (8.1ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (5.7ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (7.1ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.2ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (91.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008095641)[0m
  [1m[35m (8.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311),
(20231008090238);

[0m
  [1m[35m (44.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 10:00:39.004578"], ["updated_at", "2023-10-08 10:00:39.004578"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "602cc5499b945e2c56f9888d0a5da56d8aec4d2a"], ["created_at", "2023-10-08 10:00:39.017200"], ["updated_at", "2023-10-08 10:00:39.017200"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "address_line_1" character varying DEFAULT '' NOT NULL, "barangay" character varying DEFAULT '' NOT NULL, "city" character varying DEFAULT '' NOT NULL, "province" character varying DEFAULT '' NOT NULL, "zip_code" character varying DEFAULT '' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "profile_id" bigint, "booking_id" bigint)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_booking_id" ON "addresses" ("booking_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_profile_id" ON "addresses" ("profile_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "booking_services" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "booking_services" ("id" bigserial primary key, "quantity" integer DEFAULT 1 NOT NULL, "price_per_quantity" decimal(10,2) NOT NULL, "total" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "subservice_id" bigint NOT NULL, "booking_id" bigint, "title" character varying NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_booking_id" ON "booking_services" ("booking_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_service_id" ON "booking_services" ("service_id")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_booking_services_on_subservice_id" ON "booking_services" ("subservice_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "scheduled_at" timestamp(6) NOT NULL, "status" integer DEFAULT 0 NOT NULL, "total_cost" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "housemate_id" bigint, "payment_method" character varying NOT NULL, "homeowner_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_homeowner_id" ON "bookings" ("homeowner_id")[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_housemate_id" ON "bookings" ("housemate_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "homeowners" CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "homeowners" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemate_services" CASCADE[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "housemate_services" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "email" character varying NOT NULL, "service_title" character varying NOT NULL, "housemate_id" bigint NOT NULL, "service_id" bigint NOT NULL)[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_housemate_id" ON "housemate_services" ("housemate_id")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_housemate_services_on_service_id" ON "housemate_services" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "housemates" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "housemates" ("id" bigserial primary key, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "email" character varying)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "title" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "price" decimal(10,2) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "subservices" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "subservices" ("id" bigserial primary key, "title" character varying NOT NULL, "price" decimal(10,2) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "service_id" bigint NOT NULL, "service_title" character varying NOT NULL)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_subservices_on_service_id" ON "subservices" ("service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "jti" character varying NOT NULL, "is_verified" boolean DEFAULT FALSE, "type" character varying NOT NULL, "is_active" boolean DEFAULT FALSE)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_743a3e5b07"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_4833f54cf9"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_cfdc8b7f73"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_c6ef33beb0"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "booking_services" ADD CONSTRAINT "fk_rails_fe397892f6"
FOREIGN KEY ("subservice_id")
  REFERENCES "subservices" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "bookings" ADD CONSTRAINT "fk_rails_e52cd24222"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_3a8d4acb98"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "housemate_services" ADD CONSTRAINT "fk_rails_5dc43b34dc"
FOREIGN KEY ("housemate_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "subservices" ADD CONSTRAINT "fk_rails_58dc32873e"
FOREIGN KEY ("service_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231008095641)[0m
  [1m[35m (6.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231002202157),
(20231002204715),
(20231002205112),
(20231002205229),
(20231002210349),
(20231002210428),
(20231002210615),
(20231002210815),
(20231002211005),
(20231002211137),
(20231002211633),
(20231003003103),
(20231003005947),
(20231003010147),
(20231003010333),
(20231003035653),
(20231003040035),
(20231003040322),
(20231003102813),
(20231003103017),
(20231003103152),
(20231003114958),
(20231003121146),
(20231006104722),
(20231006115920),
(20231006120530),
(20231006135343),
(20231006135600),
(20231006141433),
(20231006142022),
(20231006145119),
(20231006145853),
(20231007155221),
(20231007155402),
(20231007155842),
(20231007155958),
(20231007161416),
(20231007161626),
(20231007192351),
(20231007194321),
(20231007210951),
(20231007211148),
(20231007213248),
(20231007213837),
(20231007220155),
(20231007220319),
(20231007223321),
(20231007230756),
(20231007234945),
(20231007235713),
(20231008003711),
(20231008003750),
(20231008004417),
(20231008011212),
(20231008011311),
(20231008090238);

[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-08 10:00:39.454417"], ["updated_at", "2023-10-08 10:00:39.454417"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-10-08 10:00:39.461811"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "602cc5499b945e2c56f9888d0a5da56d8aec4d2a"], ["created_at", "2023-10-08 10:00:39.468358"], ["updated_at", "2023-10-08 10:00:39.468358"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/subservices" for ::1 at 2023-10-08 18:00:43 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
Completed 404 Not Found in 13ms (ActiveRecord: 2.9ms | Allocations: 6192)


  
ActiveRecord::RecordNotFound (Couldn't find Service with 'id'=1):
  
app/controllers/api/v1/subservices_controller.rb:7:in `create'
Started POST "/api/v1/services" for ::1 at 2023-10-08 18:00:45 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Cleaning Services", "price"=>399}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.5ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cleaning Services"], ["created_at", "2023-10-08 10:00:45.665699"], ["updated_at", "2023-10-08 10:00:45.665699"], ["price", "399.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 4.3ms | Allocations: 7709)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 18:00:48 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "2 Bedrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.6ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "2 Bedrooms"], ["price", "150.0"], ["created_at", "2023-10-08 10:00:48.097262"], ["updated_at", "2023-10-08 10:00:48.097262"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 6.4ms | Allocations: 9558)


Started POST "/signup" for ::1 at 2023-10-08 18:01:34 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}, "registration"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]", "type"=>"Housemate"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHousemate Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "is_verified", "type", "is_active") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "housemate@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 10:01:34.661574"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 10:01:34.661444"], ["updated_at", "2023-10-08 10:01:34.661444"], ["jti", "afc8b28d-5a52-455d-8794-931ac31f67f1"], ["is_verified", false], ["type", "Housemate"], ["is_active", false]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 1.7ms | Allocations: 933)
Devise::Mailer#confirmation_instructions: processed outbound mail in 12.6ms
Delivered mail 65227dfeaba43_4a6f02a0836757@DESKTOP-MORCCU3.mail (2055.3ms)
Date: Sun, 08 Oct 2023 18:01:34 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: housemate@test.com
Message-ID: <65227dfeaba43_4a6f02a0836757@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome housemate@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=H7tVR8FgU9ZHtqonqKob">Confirm my account</a></p>

Completed 200 OK in 2291ms (Views: 0.2ms | ActiveRecord: 6.3ms | Allocations: 34138)


Started GET "/confirmation?confirmation_token=[FILTERED]" for ::1 at 2023-10-08 18:01:56 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemate Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-10-08 10:01:56.716361"], ["updated_at", "2023-10-08 10:01:56.716739"], ["id", 1]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 4.8ms | Allocations: 5248)


Started POST "/login" for 127.0.0.1 at 2023-10-08 18:03:23 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
Completed 200 OK in 183ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 3784)


Started POST "/api/v1/profiles" for ::1 at 2023-10-08 18:03:29 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"id"=>1, "name"=>"House Mate", "email"=>"housemate@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("id", "name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 1], ["name", "House Mate"], ["phone_number", "09123456789"], ["created_at", "2023-10-08 10:03:29.557552"], ["updated_at", "2023-10-08 10:03:29.557552"], ["user_id", 1], ["email", "housemate@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 10:03:29.559834"], ["updated_at", "2023-10-08 10:03:29.559834"], ["profile_id", 1], ["booking_id", nil]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 201 Created in 33ms (Views: 0.2ms | ActiveRecord: 9.2ms | Allocations: 18712)


Started POST "/api/v1/services" for ::1 at 2023-10-08 18:07:02 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Aircon Services", "price"=>699}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Aircon Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.2ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Aircon Services"], ["created_at", "2023-10-08 10:07:03.002416"], ["updated_at", "2023-10-08 10:07:03.002416"], ["price", "699.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 5.3ms | Allocations: 5318)


Started POST "/api/v1/services" for ::1 at 2023-10-08 18:07:10 +0800
Processing by Api::V1::ServicesController#create as */*
  Parameters: {"service"=>{"title"=>"Plumbing Services", "price"=>899}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Plumbing Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mService Create (0.3ms)[0m  [1m[32mINSERT INTO "services" ("title", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Plumbing Services"], ["created_at", "2023-10-08 10:07:10.404874"], ["updated_at", "2023-10-08 10:07:10.404874"], ["price", "899.0"]]
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `create'
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 3098)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 18:07:46 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
[31mUnpermitted parameter: :services. Context: { controller: Api::V1::HousemateServicesController, action: create, request: #<ActionDispatch::Request:0x00007ffb4c1afaa0>, params: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}, "controller"=>"api/v1/housemate_services", "action"=>"create"} }[0m
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
[31mUnpermitted parameter: :services. Context: { controller: Api::V1::HousemateServicesController, action: create, request: #<ActionDispatch::Request:0x00007ffb4c1afaa0>, params: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}, "controller"=>"api/v1/housemate_services", "action"=>"create"} }[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 10356)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 18:08:19 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.9ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 10:08:19.130048"], ["updated_at", "2023-10-08 10:08:19.130048"], ["email", "housemate@test.com"], ["service_title", "{\"id\"=>1, \"title\"=>\"Cleaning Services\"}"], ["housemate_id", 1], ["service_id", nil]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `each'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:12:in `create'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 5.2ms | Allocations: 15085)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 18:09:10 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.1ms | Allocations: 9282)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/api/v1/housemate_services_controller.rb:7:in `create'
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 18:09:30 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.7ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 10:09:30.388457"], ["updated_at", "2023-10-08 10:09:30.388457"], ["email", "housemate@test.com"], ["service_title", "{\"id\"=>1, \"title\"=>\"Cleaning Services\"}"], ["housemate_id", 1], ["service_id", nil]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:18:in `each'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `create'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 6.0ms | Allocations: 14184)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 18:09:46 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:16:in `block (2 levels) in create'
  [1m[36mHousemateService Create (0.6ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 10:09:46.974726"], ["updated_at", "2023-10-08 10:09:46.974726"], ["email", "housemate@test.com"], ["service_title", "{\"id\"=>1, \"title\"=>\"Cleaning Services\"}"], ["housemate_id", 1], ["service_id", nil]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:18:in `each'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:14:in `create'
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 5.0ms | Allocations: 14373)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 18:13:58 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 9315)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 18:14:03 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 9640)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 18:15:33 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 49ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 9661)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 18:55:22 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 11704)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 18:55:33 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 3.5ms | Allocations: 9682)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 18:55:45 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 3.9ms | Allocations: 12007)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:27:24 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 3.9ms | Allocations: 14158)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:27:26 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1464)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:27:26 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1463)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:27:27 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1463)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:28:18 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 18ms (Views: 0.5ms | ActiveRecord: 5.1ms | Allocations: 12053)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:29:09 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 3.9ms | Allocations: 12028)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:32:30 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.8ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:32:30.440247"], ["updated_at", "2023-10-08 11:32:30.440247"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 1], ["service_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:32:30.442973"], ["updated_at", "2023-10-08 11:32:30.442973"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 1], ["service_id", 2]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:32:30.444092"], ["updated_at", "2023-10-08 11:32:30.444092"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 1], ["service_id", 3]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:28:in `create'
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:31:in `create'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 8.9ms | Allocations: 16749)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:33:06 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:06.478986"], ["updated_at", "2023-10-08 11:33:06.478986"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 1], ["service_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:06.480961"], ["updated_at", "2023-10-08 11:33:06.480961"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 1], ["service_id", 2]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:06.481965"], ["updated_at", "2023-10-08 11:33:06.481965"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 1], ["service_id", 3]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:28:in `create'
  [1m[36mHousemateService Load (0.4ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:31:in `create'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 9.5ms | Allocations: 16947)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:33:11 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:11.907937"], ["updated_at", "2023-10-08 11:33:11.907937"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 1], ["service_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:11.910165"], ["updated_at", "2023-10-08 11:33:11.910165"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 1], ["service_id", 2]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:11.911384"], ["updated_at", "2023-10-08 11:33:11.911384"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 1], ["service_id", 3]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:28:in `create'
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:31:in `create'
Completed 200 OK in 29ms (Views: 0.7ms | ActiveRecord: 8.6ms | Allocations: 17886)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:33:25 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (1.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:25.951525"], ["updated_at", "2023-10-08 11:33:25.951525"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 1], ["service_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:25.955331"], ["updated_at", "2023-10-08 11:33:25.955331"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 1], ["service_id", 2]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:25.956555"], ["updated_at", "2023-10-08 11:33:25.956555"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 1], ["service_id", 3]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:28:in `create'
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:31:in `create'
Completed 200 OK in 49ms (Views: 1.1ms | ActiveRecord: 11.3ms | Allocations: 30529)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:33:50 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:50.615967"], ["updated_at", "2023-10-08 11:33:50.615967"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 1], ["service_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:50.617855"], ["updated_at", "2023-10-08 11:33:50.617855"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 1], ["service_id", 2]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.4ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:33:50.619398"], ["updated_at", "2023-10-08 11:33:50.619398"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 1], ["service_id", 3]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:28:in `create'
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:31:in `create'
Completed 200 OK in 16ms (Views: 0.7ms | ActiveRecord: 7.2ms | Allocations: 7464)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:34:02 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:34:02.221222"], ["updated_at", "2023-10-08 11:34:02.221222"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 1], ["service_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:34:02.223246"], ["updated_at", "2023-10-08 11:34:02.223246"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 1], ["service_id", 2]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:34:02.224408"], ["updated_at", "2023-10-08 11:34:02.224408"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 1], ["service_id", 3]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:28:in `create'
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:31:in `create'
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 4.9ms | Allocations: 7842)


Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:36:32 +0800
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "housemate_services" WHERE "housemate_services"."service_title" = $1 AND "housemate_services"."housemate_id" = $2 LIMIT $3[0m  [["service_title", "Cleaning Services"], ["housemate_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:28:in `create'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 15981)


  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.4ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 5]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 6]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 7]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 8]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 9]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 10]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 11]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 12]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 13]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 14]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 15]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 16]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 17]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 18]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 19]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 20]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHousemateService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "housemate_services" WHERE "housemate_services"."id" = $1[0m  [["id", 21]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/housemate_services/" for ::1 at 2023-10-08 19:37:03 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HousemateServicesController#create as */*
  Parameters: {"housemate_service"=>{"id"=>1, "email"=>"housemate@test.com", "services"=>[{"id"=>1, "title"=>"Cleaning Services"}, {"id"=>2, "title"=>"Aircon Services"}, {"id"=>3, "title"=>"Plumbing Services"}]}}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "housemate_services" WHERE "housemate_services"."service_title" = $1 AND "housemate_services"."housemate_id" = $2 LIMIT $3[0m  [["service_title", "Cleaning Services"], ["housemate_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.6ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:37:03.209509"], ["updated_at", "2023-10-08 11:37:03.209509"], ["email", "housemate@test.com"], ["service_title", "Cleaning Services"], ["housemate_id", 1], ["service_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "housemate_services" WHERE "housemate_services"."service_title" = $1 AND "housemate_services"."housemate_id" = $2 LIMIT $3[0m  [["service_title", "Aircon Services"], ["housemate_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.2ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:37:03.212699"], ["updated_at", "2023-10-08 11:37:03.212699"], ["email", "housemate@test.com"], ["service_title", "Aircon Services"], ["housemate_id", 1], ["service_id", 2]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "housemate_services" WHERE "housemate_services"."service_title" = $1 AND "housemate_services"."housemate_id" = $2 LIMIT $3[0m  [["service_title", "Plumbing Services"], ["housemate_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mHousemateService Create (0.3ms)[0m  [1m[32mINSERT INTO "housemate_services" ("created_at", "updated_at", "email", "service_title", "housemate_id", "service_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2023-10-08 11:37:03.214681"], ["updated_at", "2023-10-08 11:37:03.214681"], ["email", "housemate@test.com"], ["service_title", "Plumbing Services"], ["housemate_id", 1], ["service_id", 3]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:29:in `each'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemate_services_controller.rb:28:in `create'
  [1m[36mHousemateService Load (0.2ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/housemate_services_controller.rb:31:in `create'
Completed 200 OK in 55ms (Views: 0.5ms | ActiveRecord: 11.8ms | Allocations: 32015)


  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
Started GET "/api/v1/subservices/Cleaning%20Services" for ::1 at 2023-10-08 19:39:18 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"service_title"=>"Cleaning Services"}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_id" = $1[0m  [["service_id", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:19:in `show'
Completed 200 OK in 35ms (Views: 7.9ms | ActiveRecord: 5.1ms | Allocations: 16191)


Started PATCH "/api/v1/housemates/1" for ::1 at 2023-10-08 19:41:51 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_verified"=>true}, "id"=>"1"}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "is_verified" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-08 11:41:51.905343"], ["is_verified", true], ["id", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 6.7ms | Allocations: 14789)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:41:56 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3675)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:43:49 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"Studio Stype", "price"=>50}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Studio Stype"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.6ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Studio Stype"], ["price", "50.0"], ["created_at", "2023-10-08 11:43:49.623987"], ["updated_at", "2023-10-08 11:43:49.623987"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 44ms (Views: 0.3ms | ActiveRecord: 9.9ms | Allocations: 20170)


  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices"[0m
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSubservice Destroy (0.6ms)[0m  [1m[31mDELETE FROM "subservices" WHERE "subservices"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSubservice Destroy (0.2ms)[0m  [1m[31mDELETE FROM "subservices" WHERE "subservices"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:45:07 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"Studio Stype", "price"=>100}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Studio Stype"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.6ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Studio Stype"], ["price", "100.0"], ["created_at", "2023-10-08 11:45:07.201063"], ["updated_at", "2023-10-08 11:45:07.201063"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 39ms (Views: 0.4ms | ActiveRecord: 9.4ms | Allocations: 19085)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:45:13 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"House Stype", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "House Stype"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.3ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "House Stype"], ["price", "150.0"], ["created_at", "2023-10-08 11:45:13.028002"], ["updated_at", "2023-10-08 11:45:13.028002"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 4.1ms | Allocations: 3862)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:45:22 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"1 Bedroom", "price"=>200}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.5ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "1 Bedroom"], ["price", "200.0"], ["created_at", "2023-10-08 11:45:23.006853"], ["updated_at", "2023-10-08 11:45:23.006853"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 4.9ms | Allocations: 3853)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:45:29 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bedrooms", "price"=>250}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "2 Bedrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.3ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "2 Bedrooms"], ["price", "250.0"], ["created_at", "2023-10-08 11:45:29.113049"], ["updated_at", "2023-10-08 11:45:29.113049"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 4.4ms | Allocations: 3853)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:45:42 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"1 Bathroom", "price"=>50}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.3ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "1 Bathroom"], ["price", "50.0"], ["created_at", "2023-10-08 11:45:42.806389"], ["updated_at", "2023-10-08 11:45:42.806389"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 4.0ms | Allocations: 3853)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:45:50 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"2 Bathrooms", "price"=>100}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "2 Bathrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.3ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "2 Bathrooms"], ["price", "100.0"], ["created_at", "2023-10-08 11:45:50.633020"], ["updated_at", "2023-10-08 11:45:50.633020"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 4.1ms | Allocations: 3838)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:45:54 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"3 Bathrooms", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "3 Bathrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.2ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "3 Bathrooms"], ["price", "150.0"], ["created_at", "2023-10-08 11:45:54.748093"], ["updated_at", "2023-10-08 11:45:54.748093"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 3838)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 19:46:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 404 Not Found in 8ms (ActiveRecord: 2.3ms | Allocations: 2961)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner with 'id'=1):
  
app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1[0m  [["type", "Housemate"]]
Started POST "/signup" for ::1 at 2023-10-08 19:46:50 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}, "registration"=>{"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mHomeowner Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "remember_created_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "jti", "is_verified", "type", "is_active") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "homeowner@test.com"], ["encrypted_password", "[FILTERED]"], ["remember_created_at", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-10-08 11:46:50.840356"], ["unconfirmed_email", nil], ["created_at", "2023-10-08 11:46:50.840223"], ["updated_at", "2023-10-08 11:46:50.840223"], ["jti", "518a49c4-45a8-4cb3-a255-cf76912e8f91"], ["is_verified", false], ["type", "Homeowner"], ["is_active", false]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (Duration: 2.1ms | Allocations: 933)
Devise::Mailer#confirmation_instructions: processed outbound mail in 11.0ms
Delivered mail 652296aad562b_50eab2a082921d@DESKTOP-MORCCU3.mail (1518.3ms)
Date: Sun, 08 Oct 2023 19:46:50 +0800
From: housematesapp.co@example.com
Reply-To: housematesapp.co@example.com
To: homeowner@test.com
Message-ID: <652296aad562b_50eab2a082921d@DESKTOP-MORCCU3.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome homeowner@test.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=6DJFcnZavxuPJz3smh4_">Confirm my account</a></p>

Completed 200 OK in 1755ms (Views: 0.3ms | ActiveRecord: 6.8ms | Allocations: 39173)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:47:12 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6959)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:47:24 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1774)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:47:40 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1762)


Started GET "/confirmation?confirmation_token=[FILTERED]" for ::1 at 2023-10-08 19:48:23 +0800
Processing by Users::ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mHomeowner Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", "2023-10-08 11:48:23.342300"], ["updated_at", "2023-10-08 11:48:23.342697"], ["id", 2]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 5.0ms | Allocations: 5075)


Started POST "/signup" for ::1 at 2023-10-08 19:48:27 +0800
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}, "registration"=>{"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]", "type"=>"Homeowner"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:8:in `create'
Completed 422 Unprocessable Entity in 183ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 3303)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:48:31 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1771)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:48:32 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1744)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:48:33 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"homeowner@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1759)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:48:38 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1750)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:48:39 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1740)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:48:40 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1780)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:48:40 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1732)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:49:35 +0800
Processing by Users::SessionsController#create as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1735)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:49:43 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1738)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:50:27 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1732)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:50:41 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.3ms | Allocations: 1444)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:50:48 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
Completed 200 OK in 179ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1817)


Started DELETE "/logout" for 127.0.0.1 at 2023-10-08 19:51:58 +0800
Processing by Users::SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 401 Unauthorized in 7ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3450)


  
JWT::DecodeError (No verification key available):
  
jwt (2.7.1) lib/jwt/decode.rb:45:in `verify_signature'
jwt (2.7.1) lib/jwt/decode.rb:30:in `decode_segments'
jwt (2.7.1) lib/jwt.rb:29:in `decode'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_decoder.rb:27:in `decode'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_decoder.rb:19:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_revoker.rb:13:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:34:in `revoke_token'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:22:in `call'
rack (2.2.8) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started DELETE "/logout" for 127.0.0.1 at 2023-10-08 19:52:01 +0800
Processing by Users::SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1760)


  
JWT::DecodeError (No verification key available):
  
jwt (2.7.1) lib/jwt/decode.rb:45:in `verify_signature'
jwt (2.7.1) lib/jwt/decode.rb:30:in `decode_segments'
jwt (2.7.1) lib/jwt.rb:29:in `decode'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_decoder.rb:27:in `decode'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_decoder.rb:19:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_revoker.rb:13:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:34:in `revoke_token'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:22:in `call'
rack (2.2.8) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started DELETE "/logout" for 127.0.0.1 at 2023-10-08 19:52:02 +0800
Processing by Users::SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1760)


  
JWT::DecodeError (No verification key available):
  
jwt (2.7.1) lib/jwt/decode.rb:45:in `verify_signature'
jwt (2.7.1) lib/jwt/decode.rb:30:in `decode_segments'
jwt (2.7.1) lib/jwt.rb:29:in `decode'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_decoder.rb:27:in `decode'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_decoder.rb:19:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_revoker.rb:13:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:34:in `revoke_token'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:22:in `call'
rack (2.2.8) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:52:05 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"3 Bathrooms", "price"=>150}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "3 Bathrooms"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 23ms (Views: 0.4ms | ActiveRecord: 4.8ms | Allocations: 12507)


Started POST "/login" for 127.0.0.1 at 2023-10-08 19:52:11 +0800
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"housemate@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1744)


Started DELETE "/logout" for 127.0.0.1 at 2023-10-08 19:52:26 +0800
Processing by Users::SessionsController#destroy as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1755)


  
JWT::DecodeError (No verification key available):
  
jwt (2.7.1) lib/jwt/decode.rb:45:in `verify_signature'
jwt (2.7.1) lib/jwt/decode.rb:30:in `decode_segments'
jwt (2.7.1) lib/jwt.rb:29:in `decode'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_decoder.rb:27:in `decode'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_decoder.rb:19:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/token_revoker.rb:13:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:34:in `revoke_token'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:22:in `call'
rack (2.2.8) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/api/v1/profiles" for ::1 at 2023-10-08 19:53:08 +0800
Processing by Api::V1::ProfilesController#create as */*
  Parameters: {"profile"=>{"id"=>2, "name"=>"House Owner", "email"=>"houseowner@test.com", "phone_number"=>"09123456789", "address_attributes"=>{"address_line_1"=>"123 Main Street", "barangay"=>"Barangay Name", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:3:in `create'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."profile_id" = $1 LIMIT $2[0m  [["profile_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:5:in `create'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("id", "name", "phone_number", "created_at", "updated_at", "user_id", "email") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 2], ["name", "House Owner"], ["phone_number", "09123456789"], ["created_at", "2023-10-08 11:53:08.998428"], ["updated_at", "2023-10-08 11:53:08.998428"], ["user_id", 2], ["email", "homeowner@test.com"]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Main Street"], ["barangay", "Barangay Name"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 11:53:09.000593"], ["updated_at", "2023-10-08 11:53:09.000593"], ["profile_id", 2], ["booking_id", nil]]
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/profiles_controller.rb:7:in `create'
Completed 201 Created in 36ms (Views: 0.2ms | ActiveRecord: 9.9ms | Allocations: 18687)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 19:53:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1311)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner with 'id'=1):
  
app/controllers/api/v1/bookings_controller.rb:5:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 19:53:38 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"title"=>"Condo (20 - 60 sqm)"}, {"title"=>"1 Bedroom"}, {"title"=>"1 Bathroom"}, {"title"=>"Disinfectant Spraying", "quantity"=>2}, {"title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 11:53:38.555590"], ["updated_at", "2023-10-08 11:53:38.555590"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 11:53:38.558803"], ["updated_at", "2023-10-08 11:53:38.558803"], ["profile_id", nil], ["booking_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 5.0ms | Allocations: 14520)


  
NoMethodError (undefined method `price' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
app/controllers/api/v1/bookings_controller.rb:25:in `each'
app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices"[0m
Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:56:02 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"Condo (20 - 60 sqm)", "price"=>150}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.6ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Condo (20 - 60 sqm)"], ["price", "150.0"], ["created_at", "2023-10-08 11:56:02.187279"], ["updated_at", "2023-10-08 11:56:02.187279"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 42ms (Views: 0.4ms | ActiveRecord: 10.4ms | Allocations: 19088)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:56:26 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"House (> 60 sqm)", "price"=>250}}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "House (> 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.4ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "House (> 60 sqm)"], ["price", "250.0"], ["created_at", "2023-10-08 11:56:26.675359"], ["updated_at", "2023-10-08 11:56:26.675359"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 3869)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:56:52 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"Disinfectant Spraying", "price"=>75}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.3ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Disinfectant Spraying"], ["price", "75.0"], ["created_at", "2023-10-08 11:56:52.011064"], ["updated_at", "2023-10-08 11:56:52.011064"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 3854)


Started POST "/api/v1/subservices" for ::1 at 2023-10-08 19:57:09 +0800
Processing by Api::V1::SubservicesController#create as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"Dishwashing", "price"=>50}}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mSubservice Create (0.3ms)[0m  [1m[32mINSERT INTO "subservices" ("title", "price", "created_at", "updated_at", "service_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Dishwashing"], ["price", "50.0"], ["created_at", "2023-10-08 11:57:09.292979"], ["updated_at", "2023-10-08 11:57:09.292979"], ["service_id", 1], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:9:in `create'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 3838)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 19:57:20 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 11:57:20.599476"], ["updated_at", "2023-10-08 11:57:20.599476"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 11:57:20.602299"], ["updated_at", "2023-10-08 11:57:20.602299"], ["profile_id", nil], ["booking_id", 2]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007fe18770b230>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.7ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 11:57:20.626367"], ["updated_at", "2023-10-08 11:57:20.626367"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 2], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 11:57:20.628640"], ["updated_at", "2023-10-08 11:57:20.628640"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 2], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 11:57:20.629755"], ["updated_at", "2023-10-08 11:57:20.629755"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 2], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 11:57:20.630855"], ["updated_at", "2023-10-08 11:57:20.630855"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 2], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 11:57:20.631888"], ["updated_at", "2023-10-08 11:57:20.631888"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 2], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 2]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 103ms (Views: 0.9ms | ActiveRecord: 21.1ms | Allocations: 60159)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:01:50 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:01:50.583482"], ["updated_at", "2023-10-08 12:01:50.583482"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:01:50.586208"], ["updated_at", "2023-10-08 12:01:50.586208"], ["profile_id", nil], ["booking_id", 3]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."title" = $1 LIMIT $2[0m  [["title", "Cleaning Services"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4992b7d8>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service_title"=>"Cleaning Services", "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:01:50.625627"], ["updated_at", "2023-10-08 12:01:50.625627"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 3], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:01:50.627896"], ["updated_at", "2023-10-08 12:01:50.627896"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 3], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:01:50.629141"], ["updated_at", "2023-10-08 12:01:50.629141"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 3], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:01:50.630286"], ["updated_at", "2023-10-08 12:01:50.630286"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 3], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:01:50.631470"], ["updated_at", "2023-10-08 12:01:50.631470"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 3], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 3]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 123ms (Views: 0.6ms | ActiveRecord: 26.1ms | Allocations: 74953)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:29:48 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b6f7a98>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.8ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:29:48.833711"], ["updated_at", "2023-10-08 12:29:48.833711"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 5.0ms | Allocations: 28319)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "service_title" of relation "bookings" violates not-null constraint
DETAIL:  Failing row contains (4, 2023-10-05 12:30:00, 0, 5000.00, 2023-10-08 12:29:48.833711, 2023-10-08 12:29:48.833711, null, Credit Wallet, 2, null).
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:30:19 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480b85c0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:30:19.337216"], ["updated_at", "2023-10-08 12:30:19.337216"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", nil]]
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:20:in `create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 8.5ms | Allocations: 26660)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "service_title" of relation "bookings" violates not-null constraint
DETAIL:  Failing row contains (5, 2023-10-05 12:30:00, 0, 5000.00, 2023-10-08 12:30:19.337216, 2023-10-08 12:30:19.337216, null, Credit Wallet, 2, null).
):
  
app/controllers/api/v1/bookings_controller.rb:20:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:30:38 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4acb7770>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.1ms | Allocations: 13136)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:11:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:30:57 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :service. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa480f9e30>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.3ms | Allocations: 14584)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:13:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:32:01 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:32:01.198215"], ["updated_at", "2023-10-08 12:32:01.198215"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:32:01.205156"], ["updated_at", "2023-10-08 12:32:01.205156"], ["profile_id", nil], ["booking_id", 6]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:24:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa2b35eee0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mSubservice Load (0.5ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Condo (20 - 60 sqm)"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:28:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bedroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:28:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "1 Bathroom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:28:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Disinfectant Spraying"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:28:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."title" = $1 LIMIT $2[0m  [["title", "Dishwashing"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:28:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:41:in `each'
  [1m[36mBookingService Create (0.7ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:32:01.239501"], ["updated_at", "2023-10-08 12:32:01.239501"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 6], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:41:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:32:01.242575"], ["updated_at", "2023-10-08 12:32:01.242575"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 6], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:41:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:32:01.244334"], ["updated_at", "2023-10-08 12:32:01.244334"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 6], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:41:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:32:01.245782"], ["updated_at", "2023-10-08 12:32:01.245782"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 6], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:41:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:32:01.246893"], ["updated_at", "2023-10-08 12:32:01.246893"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 6], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:41:in `each'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:40:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 6]]
  ↳ app/controllers/api/v1/bookings_controller.rb:44:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 102ms (Views: 0.5ms | ActiveRecord: 27.9ms | Allocations: 55599)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:32:35 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:32:35.565450"], ["updated_at", "2023-10-08 12:32:35.565450"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:32:35.568387"], ["updated_at", "2023-10-08 12:32:35.568387"], ["profile_id", nil], ["booking_id", 7]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:24:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4aae0dc0>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 404 Not Found in 58ms (ActiveRecord: 14.4ms | Allocations: 34921)


  
ActiveRecord::RecordNotFound (Couldn't find Subservice without an ID):
  
app/controllers/api/v1/bookings_controller.rb:28:in `block in create'
app/controllers/api/v1/bookings_controller.rb:27:in `each'
app/controllers/api/v1/bookings_controller.rb:27:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:32:46 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:32:47.020971"], ["updated_at", "2023-10-08 12:32:47.020971"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:32:47.023176"], ["updated_at", "2023-10-08 12:32:47.023176"], ["profile_id", nil], ["booking_id", 8]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:24:in `create'
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :id. Context: { controller: Api::V1::BookingsController, action: create, request: #<ActionDispatch::Request:0x00007ffa4a47a008>, params: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}, "controller"=>"api/v1/bookings", "action"=>"create"} }[0m
Completed 404 Not Found in 53ms (ActiveRecord: 13.3ms | Allocations: 34904)


  
ActiveRecord::RecordNotFound (Couldn't find Subservice without an ID):
  
app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
app/controllers/api/v1/bookings_controller.rb:27:in `each'
app/controllers/api/v1/bookings_controller.rb:27:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:34:13 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:34:13.719076"], ["updated_at", "2023-10-08 12:34:13.719076"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:34:13.721563"], ["updated_at", "2023-10-08 12:34:13.721563"], ["profile_id", nil], ["booking_id", 9]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:24:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:34:13.751509"], ["updated_at", "2023-10-08 12:34:13.751509"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 9], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:34:13.754553"], ["updated_at", "2023-10-08 12:34:13.754553"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 9], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:34:13.756323"], ["updated_at", "2023-10-08 12:34:13.756323"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 9], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:34:13.758050"], ["updated_at", "2023-10-08 12:34:13.758050"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 9], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:34:13.759979"], ["updated_at", "2023-10-08 12:34:13.759979"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 9], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:41:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 9]]
  ↳ app/controllers/api/v1/bookings_controller.rb:45:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 86ms (Views: 0.5ms | ActiveRecord: 25.9ms | Allocations: 47883)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:37:47 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:37:47.159884"], ["updated_at", "2023-10-08 12:37:47.159884"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:37:47.162320"], ["updated_at", "2023-10-08 12:37:47.162320"], ["profile_id", nil], ["booking_id", 10]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:24:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:37:47.188789"], ["updated_at", "2023-10-08 12:37:47.188789"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 10], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:37:47.191047"], ["updated_at", "2023-10-08 12:37:47.191047"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 10], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:37:47.193002"], ["updated_at", "2023-10-08 12:37:47.193002"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 10], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:37:47.194263"], ["updated_at", "2023-10-08 12:37:47.194263"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 10], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:37:47.198691"], ["updated_at", "2023-10-08 12:37:47.198691"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 10], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:41:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 10]]
  ↳ app/controllers/api/v1/bookings_controller.rb:45:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 83ms (ActiveRecord: 23.7ms | Allocations: 47116)


  
NoMethodError (undefined method `service' for #<Booking id: 10, scheduled_at: "2023-10-05 12:30:00.000000000 +0000", status: "PENDING", total_cost: 0.5e4, created_at: "2023-10-08 12:37:47.159884000 +0000", updated_at: "2023-10-08 12:37:47.159884000 +0000", housemate_id: nil, payment_method: "Credit Wallet", homeowner_id: 2, service_title: "Cleaning Services">):
  
app/serializers/booking_serializer.rb:12:in `block in <class:BookingSerializer>'
app/controllers/api/v1/bookings_controller.rb:50:in `create'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddServiceIdColumnToBooking (20231008124124)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bookings" ADD "service_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008124124"]]
  [1m[36mTRANSACTION (15.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:43:20 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:43:20.381091"], ["updated_at", "2023-10-08 12:43:20.381091"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:43:20.383819"], ["updated_at", "2023-10-08 12:43:20.383819"], ["profile_id", nil], ["booking_id", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:43:20.417591"], ["updated_at", "2023-10-08 12:43:20.417591"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 11], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:43:20.419829"], ["updated_at", "2023-10-08 12:43:20.419829"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 11], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:43:20.421050"], ["updated_at", "2023-10-08 12:43:20.421050"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 11], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:43:20.422123"], ["updated_at", "2023-10-08 12:43:20.422123"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 11], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:43:20.423182"], ["updated_at", "2023-10-08 12:43:20.423182"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 11], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 110ms (ActiveRecord: 27.4ms | Allocations: 68193)


  
NoMethodError (undefined method `service' for #<Booking id: 11, scheduled_at: "2023-10-05 12:30:00.000000000 +0000", status: "PENDING", total_cost: 0.5e4, created_at: "2023-10-08 12:43:20.381091000 +0000", updated_at: "2023-10-08 12:43:20.381091000 +0000", housemate_id: nil, payment_method: "Credit Wallet", homeowner_id: 2, service_title: "Cleaning Services", service_id: 1>):
  
app/serializers/booking_serializer.rb:12:in `block in <class:BookingSerializer>'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:44:24 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:44:24.110163"], ["updated_at", "2023-10-08 12:44:24.110163"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:44:24.112888"], ["updated_at", "2023-10-08 12:44:24.112888"], ["profile_id", nil], ["booking_id", 12]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:44:24.141036"], ["updated_at", "2023-10-08 12:44:24.141036"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 12], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:44:24.143935"], ["updated_at", "2023-10-08 12:44:24.143935"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 12], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:44:24.145468"], ["updated_at", "2023-10-08 12:44:24.145468"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 12], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:44:24.146532"], ["updated_at", "2023-10-08 12:44:24.146532"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 12], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:44:24.147559"], ["updated_at", "2023-10-08 12:44:24.147559"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 12], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 12]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 81ms (Views: 0.9ms | ActiveRecord: 24.1ms | Allocations: 48836)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:45:57 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:45:57.326519"], ["updated_at", "2023-10-08 12:45:57.326519"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:45:57.329313"], ["updated_at", "2023-10-08 12:45:57.329313"], ["profile_id", nil], ["booking_id", 13]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:45:57.357896"], ["updated_at", "2023-10-08 12:45:57.357896"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 13], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:45:57.360916"], ["updated_at", "2023-10-08 12:45:57.360916"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 13], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:45:57.362522"], ["updated_at", "2023-10-08 12:45:57.362522"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 13], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:45:57.363901"], ["updated_at", "2023-10-08 12:45:57.363901"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 13], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:45:57.365010"], ["updated_at", "2023-10-08 12:45:57.365010"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 13], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 13]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 83ms (Views: 0.5ms | ActiveRecord: 24.5ms | Allocations: 48457)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:46:11 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:46:11.249737"], ["updated_at", "2023-10-08 12:46:11.249737"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:46:11.252715"], ["updated_at", "2023-10-08 12:46:11.252715"], ["profile_id", nil], ["booking_id", 14]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:46:11.281075"], ["updated_at", "2023-10-08 12:46:11.281075"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 14], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:46:11.283195"], ["updated_at", "2023-10-08 12:46:11.283195"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 14], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:46:11.284372"], ["updated_at", "2023-10-08 12:46:11.284372"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 14], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:46:11.285692"], ["updated_at", "2023-10-08 12:46:11.285692"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 14], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:46:11.286613"], ["updated_at", "2023-10-08 12:46:11.286613"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 14], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 14]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 79ms (Views: 0.4ms | ActiveRecord: 24.4ms | Allocations: 48400)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:47:03 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:47:03.114451"], ["updated_at", "2023-10-08 12:47:03.114451"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:47:03.116922"], ["updated_at", "2023-10-08 12:47:03.116922"], ["profile_id", nil], ["booking_id", 15]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:47:03.144660"], ["updated_at", "2023-10-08 12:47:03.144660"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 15], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:47:03.146896"], ["updated_at", "2023-10-08 12:47:03.146896"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 15], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:47:03.148846"], ["updated_at", "2023-10-08 12:47:03.148846"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 15], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:47:03.150272"], ["updated_at", "2023-10-08 12:47:03.150272"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 15], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:47:03.151393"], ["updated_at", "2023-10-08 12:47:03.151393"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 15], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 15]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 81ms (Views: 0.5ms | ActiveRecord: 24.1ms | Allocations: 48461)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:47:18 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:47:18.215582"], ["updated_at", "2023-10-08 12:47:18.215582"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:47:18.218387"], ["updated_at", "2023-10-08 12:47:18.218387"], ["profile_id", nil], ["booking_id", 16]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:47:18.247298"], ["updated_at", "2023-10-08 12:47:18.247298"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 16], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:47:18.249297"], ["updated_at", "2023-10-08 12:47:18.249297"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 16], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:47:18.250482"], ["updated_at", "2023-10-08 12:47:18.250482"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 16], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:47:18.251579"], ["updated_at", "2023-10-08 12:47:18.251579"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 16], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:47:18.253047"], ["updated_at", "2023-10-08 12:47:18.253047"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 16], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 16]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 82ms (Views: 0.6ms | ActiveRecord: 23.8ms | Allocations: 48503)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:48:29 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:48:29.352853"], ["updated_at", "2023-10-08 12:48:29.352853"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:48:29.354803"], ["updated_at", "2023-10-08 12:48:29.354803"], ["profile_id", nil], ["booking_id", 17]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:48:29.384451"], ["updated_at", "2023-10-08 12:48:29.384451"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 17], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:48:29.386521"], ["updated_at", "2023-10-08 12:48:29.386521"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 17], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:48:29.387839"], ["updated_at", "2023-10-08 12:48:29.387839"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 17], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:48:29.388935"], ["updated_at", "2023-10-08 12:48:29.388935"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 17], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:48:29.389816"], ["updated_at", "2023-10-08 12:48:29.389816"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 17], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 17]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 122ms (ActiveRecord: 25.4ms | Allocations: 48527)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:48:48 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:48:48.467314"], ["updated_at", "2023-10-08 12:48:48.467314"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:48:48.469566"], ["updated_at", "2023-10-08 12:48:48.469566"], ["profile_id", nil], ["booking_id", 18]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:48:48.501219"], ["updated_at", "2023-10-08 12:48:48.501219"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 18], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:48:48.503430"], ["updated_at", "2023-10-08 12:48:48.503430"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 18], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:48:48.504621"], ["updated_at", "2023-10-08 12:48:48.504621"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 18], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:48:48.505592"], ["updated_at", "2023-10-08 12:48:48.505592"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 18], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:48:48.506522"], ["updated_at", "2023-10-08 12:48:48.506522"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 18], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 18]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 83ms (ActiveRecord: 23.0ms | Allocations: 48514)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:49:57 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:49:57.723046"], ["updated_at", "2023-10-08 12:49:57.723046"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:49:57.725414"], ["updated_at", "2023-10-08 12:49:57.725414"], ["profile_id", nil], ["booking_id", 19]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:49:57.753860"], ["updated_at", "2023-10-08 12:49:57.753860"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 19], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:49:57.756192"], ["updated_at", "2023-10-08 12:49:57.756192"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 19], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:49:57.757722"], ["updated_at", "2023-10-08 12:49:57.757722"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 19], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:49:57.759160"], ["updated_at", "2023-10-08 12:49:57.759160"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 19], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:49:57.760421"], ["updated_at", "2023-10-08 12:49:57.760421"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 19], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 19]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 81ms (Views: 0.7ms | ActiveRecord: 24.6ms | Allocations: 49565)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:52:04 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:52:04.141318"], ["updated_at", "2023-10-08 12:52:04.141318"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:52:04.144315"], ["updated_at", "2023-10-08 12:52:04.144315"], ["profile_id", nil], ["booking_id", 20]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:52:04.176095"], ["updated_at", "2023-10-08 12:52:04.176095"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 20], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:52:04.178375"], ["updated_at", "2023-10-08 12:52:04.178375"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 20], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:52:04.179828"], ["updated_at", "2023-10-08 12:52:04.179828"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 20], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:52:04.180820"], ["updated_at", "2023-10-08 12:52:04.180820"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 20], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:52:04.181899"], ["updated_at", "2023-10-08 12:52:04.181899"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 20], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 20]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 94ms (Views: 0.9ms | ActiveRecord: 28.2ms | Allocations: 49120)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:52:20 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:52:20.757856"], ["updated_at", "2023-10-08 12:52:20.757856"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:52:20.761220"], ["updated_at", "2023-10-08 12:52:20.761220"], ["profile_id", nil], ["booking_id", 21]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:52:20.794840"], ["updated_at", "2023-10-08 12:52:20.794840"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 21], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:52:20.798448"], ["updated_at", "2023-10-08 12:52:20.798448"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 21], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:52:20.799719"], ["updated_at", "2023-10-08 12:52:20.799719"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 21], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:52:20.800870"], ["updated_at", "2023-10-08 12:52:20.800870"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 21], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:52:20.802465"], ["updated_at", "2023-10-08 12:52:20.802465"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 21], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 21]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 91ms (Views: 0.5ms | ActiveRecord: 25.1ms | Allocations: 49446)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:52:50 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:52:50.811753"], ["updated_at", "2023-10-08 12:52:50.811753"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:52:50.814849"], ["updated_at", "2023-10-08 12:52:50.814849"], ["profile_id", nil], ["booking_id", 22]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:52:50.843040"], ["updated_at", "2023-10-08 12:52:50.843040"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 22], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:52:50.845689"], ["updated_at", "2023-10-08 12:52:50.845689"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 22], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:52:50.847054"], ["updated_at", "2023-10-08 12:52:50.847054"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 22], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:52:50.848188"], ["updated_at", "2023-10-08 12:52:50.848188"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 22], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:52:50.849205"], ["updated_at", "2023-10-08 12:52:50.849205"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 22], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 22]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 88ms (Views: 0.6ms | ActiveRecord: 29.3ms | Allocations: 49147)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:53:25 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:53:25.670232"], ["updated_at", "2023-10-08 12:53:25.670232"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:53:25.673008"], ["updated_at", "2023-10-08 12:53:25.673008"], ["profile_id", nil], ["booking_id", 23]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:53:25.702462"], ["updated_at", "2023-10-08 12:53:25.702462"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 23], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:53:25.704393"], ["updated_at", "2023-10-08 12:53:25.704393"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 23], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:53:25.705738"], ["updated_at", "2023-10-08 12:53:25.705738"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 23], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:53:25.707214"], ["updated_at", "2023-10-08 12:53:25.707214"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 23], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:53:25.709906"], ["updated_at", "2023-10-08 12:53:25.709906"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 23], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 23]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 86ms (Views: 0.7ms | ActiveRecord: 24.5ms | Allocations: 49103)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:55:58 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:55:58.131652"], ["updated_at", "2023-10-08 12:55:58.131652"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:55:58.134077"], ["updated_at", "2023-10-08 12:55:58.134077"], ["profile_id", nil], ["booking_id", 24]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:55:58.161677"], ["updated_at", "2023-10-08 12:55:58.161677"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 24], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:55:58.164237"], ["updated_at", "2023-10-08 12:55:58.164237"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 24], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:55:58.165917"], ["updated_at", "2023-10-08 12:55:58.165917"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 24], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:55:58.167077"], ["updated_at", "2023-10-08 12:55:58.167077"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 24], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:55:58.168097"], ["updated_at", "2023-10-08 12:55:58.168097"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 24], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 24]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 85ms (ActiveRecord: 25.1ms | Allocations: 50014)


  
ActiveRecord::ConfigurationError (Can't join 'Profile' to association named 'adresses'; perhaps you misspelled it?):
  
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:55:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:56:48 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:56:48.624006"], ["updated_at", "2023-10-08 12:56:48.624006"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:56:48.626721"], ["updated_at", "2023-10-08 12:56:48.626721"], ["profile_id", nil], ["booking_id", 25]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:56:48.662507"], ["updated_at", "2023-10-08 12:56:48.662507"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 25], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:56:48.664583"], ["updated_at", "2023-10-08 12:56:48.664583"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 25], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:56:48.666160"], ["updated_at", "2023-10-08 12:56:48.666160"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 25], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:56:48.667164"], ["updated_at", "2023-10-08 12:56:48.667164"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 25], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:56:48.668244"], ["updated_at", "2023-10-08 12:56:48.668244"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 25], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 25]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 90ms (ActiveRecord: 24.5ms | Allocations: 49079)


  
ActiveRecord::ConfigurationError (Can't join 'Profile' to association named 'adresses'; perhaps you misspelled it?):
  
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:55:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:56:54 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:56:54.415765"], ["updated_at", "2023-10-08 12:56:54.415765"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:56:54.418419"], ["updated_at", "2023-10-08 12:56:54.418419"], ["profile_id", nil], ["booking_id", 26]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:56:54.450284"], ["updated_at", "2023-10-08 12:56:54.450284"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 26], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:56:54.452192"], ["updated_at", "2023-10-08 12:56:54.452192"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 26], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:56:54.453745"], ["updated_at", "2023-10-08 12:56:54.453745"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 26], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:56:54.455342"], ["updated_at", "2023-10-08 12:56:54.455342"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 26], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:56:54.456636"], ["updated_at", "2023-10-08 12:56:54.456636"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 26], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 26]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 86ms (ActiveRecord: 26.9ms | Allocations: 49050)


  
ActiveRecord::ConfigurationError (Can't join 'Profile' to association named 'addresses'; perhaps you misspelled it?):
  
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:55:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:57:01 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:57:01.741228"], ["updated_at", "2023-10-08 12:57:01.741228"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:57:01.743747"], ["updated_at", "2023-10-08 12:57:01.743747"], ["profile_id", nil], ["booking_id", 27]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:57:01.772331"], ["updated_at", "2023-10-08 12:57:01.772331"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 27], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:57:01.774258"], ["updated_at", "2023-10-08 12:57:01.774258"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 27], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:57:01.775830"], ["updated_at", "2023-10-08 12:57:01.775830"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 27], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:57:01.777300"], ["updated_at", "2023-10-08 12:57:01.777300"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 27], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:57:01.783983"], ["updated_at", "2023-10-08 12:57:01.783983"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 27], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 27]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 90ms (ActiveRecord: 24.5ms | Allocations: 49073)


  
ActiveRecord::ConfigurationError (Can't join 'Profile' to association named 'addresses'; perhaps you misspelled it?):
  
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:55:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:57:07 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:57:07.555981"], ["updated_at", "2023-10-08 12:57:07.555981"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:57:07.558430"], ["updated_at", "2023-10-08 12:57:07.558430"], ["profile_id", nil], ["booking_id", 28]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:57:07.587015"], ["updated_at", "2023-10-08 12:57:07.587015"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 28], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:57:07.589342"], ["updated_at", "2023-10-08 12:57:07.589342"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 28], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:57:07.590647"], ["updated_at", "2023-10-08 12:57:07.590647"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 28], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:57:07.591727"], ["updated_at", "2023-10-08 12:57:07.591727"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 28], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:57:07.593120"], ["updated_at", "2023-10-08 12:57:07.593120"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 28], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 28]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 84ms (ActiveRecord: 24.6ms | Allocations: 49472)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "address"
LINE 1: ...d" = "profile"."id" WHERE "users"."type" = $1 AND "address"....
                                                             ^
):
  
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:55:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:58:58 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:58:58.988935"], ["updated_at", "2023-10-08 12:58:58.988935"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:58:58.991133"], ["updated_at", "2023-10-08 12:58:58.991133"], ["profile_id", nil], ["booking_id", 29]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:58:59.019874"], ["updated_at", "2023-10-08 12:58:59.019874"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 29], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:58:59.021798"], ["updated_at", "2023-10-08 12:58:59.021798"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 29], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:58:59.022780"], ["updated_at", "2023-10-08 12:58:59.022780"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 29], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:58:59.023695"], ["updated_at", "2023-10-08 12:58:59.023695"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 29], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:58:59.024606"], ["updated_at", "2023-10-08 12:58:59.024606"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 29], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 29]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 86ms (ActiveRecord: 24.5ms | Allocations: 49331)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "address"
LINE 1: ..." = "profiles"."id" WHERE "users"."type" = $1 AND "address"....
                                                             ^
):
  
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `puts'
app/controllers/api/v1/bookings_controller.rb:84:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:55:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:59:31 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:59:31.899017"], ["updated_at", "2023-10-08 12:59:31.899017"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:59:31.901701"], ["updated_at", "2023-10-08 12:59:31.901701"], ["profile_id", nil], ["booking_id", 30]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:59:31.930258"], ["updated_at", "2023-10-08 12:59:31.930258"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 30], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:59:31.932503"], ["updated_at", "2023-10-08 12:59:31.932503"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 30], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:59:31.933692"], ["updated_at", "2023-10-08 12:59:31.933692"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 30], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:59:31.934758"], ["updated_at", "2023-10-08 12:59:31.934758"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 30], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:59:31.935829"], ["updated_at", "2023-10-08 12:59:31.935829"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 30], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 30]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "addresses"."province" = $3[0m  [["type", "Housemate"], ["city", "Bacoor"], ["province", "Cavite"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:85:in `puts'
Completed 200 OK in 85ms (Views: 0.6ms | ActiveRecord: 24.9ms | Allocations: 53599)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 20:59:39 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 12:59:39.137197"], ["updated_at", "2023-10-08 12:59:39.137197"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 12:59:39.139513"], ["updated_at", "2023-10-08 12:59:39.139513"], ["profile_id", nil], ["booking_id", 31]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:59:39.168563"], ["updated_at", "2023-10-08 12:59:39.168563"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 31], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 12:59:39.170449"], ["updated_at", "2023-10-08 12:59:39.170449"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 31], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:59:39.171805"], ["updated_at", "2023-10-08 12:59:39.171805"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 31], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 12:59:39.173212"], ["updated_at", "2023-10-08 12:59:39.173212"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 31], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 12:59:39.174673"], ["updated_at", "2023-10-08 12:59:39.174673"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 31], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 31]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "addresses"."province" = $3 /* loading for inspect */ LIMIT $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["province", "Cavite"], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:85:in `find_housemate'
Completed 200 OK in 89ms (Views: 0.6ms | ActiveRecord: 24.6ms | Allocations: 53776)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:00:38 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:00:38.551909"], ["updated_at", "2023-10-08 13:00:38.551909"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:00:38.555029"], ["updated_at", "2023-10-08 13:00:38.555029"], ["profile_id", nil], ["booking_id", 32]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:00:38.585596"], ["updated_at", "2023-10-08 13:00:38.585596"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 32], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:00:38.587988"], ["updated_at", "2023-10-08 13:00:38.587988"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 32], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:00:38.589511"], ["updated_at", "2023-10-08 13:00:38.589511"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 32], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:00:38.590741"], ["updated_at", "2023-10-08 13:00:38.590741"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 32], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:00:38.591805"], ["updated_at", "2023-10-08 13:00:38.591805"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 32], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 32]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 /* loading for inspect */ LIMIT $3[0m  [["type", "Housemate"], ["city", "Bacoor"], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:84:in `find_housemate'
Completed 200 OK in 93ms (Views: 0.5ms | ActiveRecord: 25.8ms | Allocations: 53727)


  [1m[36mHousemate Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2[0m  [["type", "Housemate"], ["city", "Bacoor"]]
  [1m[36mHousemateService Load (0.3ms)[0m  [1m[34mSELECT "housemate_services".* FROM "housemate_services" WHERE "housemate_services"."housemate_id" = $1[0m  [["housemate_id", 1]]
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:04:52 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:04:52.694848"], ["updated_at", "2023-10-08 13:04:52.694848"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:04:52.697918"], ["updated_at", "2023-10-08 13:04:52.697918"], ["profile_id", nil], ["booking_id", 33]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:04:52.733240"], ["updated_at", "2023-10-08 13:04:52.733240"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 33], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:04:52.735644"], ["updated_at", "2023-10-08 13:04:52.735644"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 33], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:04:52.736949"], ["updated_at", "2023-10-08 13:04:52.736949"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 33], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:04:52.738081"], ["updated_at", "2023-10-08 13:04:52.738081"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 33], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:04:52.739287"], ["updated_at", "2023-10-08 13:04:52.739287"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 33], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 33]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 119ms (ActiveRecord: 28.4ms | Allocations: 71106)


  
NameError (undefined local variable or method `match' for #<Api::V1::BookingsController:0x0000000000db10>):
  
app/controllers/api/v1/bookings_controller.rb:86:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:55:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:05:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:05:23.799315"], ["updated_at", "2023-10-08 13:05:23.799315"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:05:23.801464"], ["updated_at", "2023-10-08 13:05:23.801464"], ["profile_id", nil], ["booking_id", 34]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.5ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:05:23.831645"], ["updated_at", "2023-10-08 13:05:23.831645"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 34], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:05:23.833677"], ["updated_at", "2023-10-08 13:05:23.833677"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 34], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:05:23.834876"], ["updated_at", "2023-10-08 13:05:23.834876"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 34], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:05:23.836011"], ["updated_at", "2023-10-08 13:05:23.836011"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 34], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:05:23.837079"], ["updated_at", "2023-10-08 13:05:23.837079"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 34], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.6ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 34]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 /* loading for inspect */ LIMIT $3[0m  [["type", "Housemate"], ["city", "Bacoor"], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:85:in `find_housemate'
Completed 200 OK in 92ms (Views: 0.8ms | ActiveRecord: 26.3ms | Allocations: 54926)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:07:09 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:109: syntax error, unexpected end-of-input):
  
app/controllers/api/v1/bookings_controller.rb:109: syntax error, unexpected end-of-input
app/controllers/api/v1/bookings_controller.rb:109: syntax error, unexpected end-of-input
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:07:17 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:07:18.067505"], ["updated_at", "2023-10-08 13:07:18.067505"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:07:18.069432"], ["updated_at", "2023-10-08 13:07:18.069432"], ["profile_id", nil], ["booking_id", 35]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.5ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:07:18.097801"], ["updated_at", "2023-10-08 13:07:18.097801"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 35], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:07:18.099570"], ["updated_at", "2023-10-08 13:07:18.099570"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 35], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:07:18.100727"], ["updated_at", "2023-10-08 13:07:18.100727"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 35], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:07:18.102161"], ["updated_at", "2023-10-08 13:07:18.102161"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 35], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:07:18.103573"], ["updated_at", "2023-10-08 13:07:18.103573"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 35], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 35]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 /* loading for inspect */ LIMIT $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", false], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:86:in `find_housemate'
Completed 200 OK in 94ms (Views: 0.9ms | ActiveRecord: 24.3ms | Allocations: 53844)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:07:24 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:07:24.341043"], ["updated_at", "2023-10-08 13:07:24.341043"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:07:24.345062"], ["updated_at", "2023-10-08 13:07:24.345062"], ["profile_id", nil], ["booking_id", 36]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:07:24.377142"], ["updated_at", "2023-10-08 13:07:24.377142"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 36], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:07:24.379865"], ["updated_at", "2023-10-08 13:07:24.379865"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 36], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:07:24.381816"], ["updated_at", "2023-10-08 13:07:24.381816"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 36], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:07:24.382999"], ["updated_at", "2023-10-08 13:07:24.382999"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 36], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:07:24.384275"], ["updated_at", "2023-10-08 13:07:24.384275"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 36], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 36]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 /* loading for inspect */ LIMIT $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:86:in `find_housemate'
Completed 200 OK in 102ms (Views: 0.7ms | ActiveRecord: 28.7ms | Allocations: 50659)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:08:16 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:08:16.251405"], ["updated_at", "2023-10-08 13:08:16.251405"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:08:16.253854"], ["updated_at", "2023-10-08 13:08:16.253854"], ["profile_id", nil], ["booking_id", 37]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:08:16.284380"], ["updated_at", "2023-10-08 13:08:16.284380"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 37], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:08:16.286598"], ["updated_at", "2023-10-08 13:08:16.286598"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 37], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:08:16.288180"], ["updated_at", "2023-10-08 13:08:16.288180"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 37], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:08:16.289432"], ["updated_at", "2023-10-08 13:08:16.289432"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 37], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:08:16.290788"], ["updated_at", "2023-10-08 13:08:16.290788"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 37], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 37]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 115ms (ActiveRecord: 26.5ms | Allocations: 51103)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "housemate_services"
LINE 1: ...ses"."city" = $2 AND "users"."is_active" = $3 AND "housemate...
                                                             ^
):
  
app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:55:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:09:04 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:09:04.148911"], ["updated_at", "2023-10-08 13:09:04.148911"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:09:04.151597"], ["updated_at", "2023-10-08 13:09:04.151597"], ["profile_id", nil], ["booking_id", 38]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:09:04.188233"], ["updated_at", "2023-10-08 13:09:04.188233"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 38], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:09:04.190205"], ["updated_at", "2023-10-08 13:09:04.190205"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 38], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:09:04.191468"], ["updated_at", "2023-10-08 13:09:04.191468"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 38], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:09:04.192558"], ["updated_at", "2023-10-08 13:09:04.192558"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 38], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:09:04.193845"], ["updated_at", "2023-10-08 13:09:04.193845"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 38], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 38]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
Completed 200 OK in 100ms (Views: 0.7ms | ActiveRecord: 28.0ms | Allocations: 52548)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:09:10 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:09:10.096426"], ["updated_at", "2023-10-08 13:09:10.096426"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:09:10.100950"], ["updated_at", "2023-10-08 13:09:10.100950"], ["profile_id", nil], ["booking_id", 39]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:09:10.132029"], ["updated_at", "2023-10-08 13:09:10.132029"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 39], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:09:10.133841"], ["updated_at", "2023-10-08 13:09:10.133841"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 39], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:09:10.134832"], ["updated_at", "2023-10-08 13:09:10.134832"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 39], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:09:10.135705"], ["updated_at", "2023-10-08 13:09:10.135705"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 39], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:09:10.136647"], ["updated_at", "2023-10-08 13:09:10.136647"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 39], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 39]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", false], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
Completed 200 OK in 107ms (Views: 0.7ms | ActiveRecord: 28.2ms | Allocations: 55678)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:10:24 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:10:24.232019"], ["updated_at", "2023-10-08 13:10:24.232019"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:10:24.234075"], ["updated_at", "2023-10-08 13:10:24.234075"], ["profile_id", nil], ["booking_id", 40]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:10:24.261700"], ["updated_at", "2023-10-08 13:10:24.261700"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 40], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:10:24.264047"], ["updated_at", "2023-10-08 13:10:24.264047"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 40], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:10:24.265340"], ["updated_at", "2023-10-08 13:10:24.265340"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 40], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:10:24.266507"], ["updated_at", "2023-10-08 13:10:24.266507"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 40], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:10:24.267667"], ["updated_at", "2023-10-08 13:10:24.267667"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 40], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 40]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", false], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
Completed 200 OK in 97ms (Views: 0.9ms | ActiveRecord: 25.7ms | Allocations: 55711)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:17:38 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:17:38.098675"], ["updated_at", "2023-10-08 13:17:38.098675"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:17:38.101624"], ["updated_at", "2023-10-08 13:17:38.101624"], ["profile_id", nil], ["booking_id", 41]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.4ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:17:38.124852"], ["updated_at", "2023-10-08 13:17:38.124852"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 41], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:17:38.127173"], ["updated_at", "2023-10-08 13:17:38.127173"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 41], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:17:38.129411"], ["updated_at", "2023-10-08 13:17:38.129411"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 41], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:17:38.130899"], ["updated_at", "2023-10-08 13:17:38.130899"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 41], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:17:38.132193"], ["updated_at", "2023-10-08 13:17:38.132193"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 41], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 41]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", false], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
Completed 200 OK in 86ms (Views: 0.6ms | ActiveRecord: 18.3ms | Allocations: 55751)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:18:57 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:18:58.008547"], ["updated_at", "2023-10-08 13:18:58.008547"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:18:58.010798"], ["updated_at", "2023-10-08 13:18:58.010798"], ["profile_id", nil], ["booking_id", 42]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:18:58.040628"], ["updated_at", "2023-10-08 13:18:58.040628"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 42], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:18:58.042978"], ["updated_at", "2023-10-08 13:18:58.042978"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 42], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:18:58.044586"], ["updated_at", "2023-10-08 13:18:58.044586"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 42], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:18:58.046390"], ["updated_at", "2023-10-08 13:18:58.046390"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 42], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:18:58.047642"], ["updated_at", "2023-10-08 13:18:58.047642"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 42], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 42]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", false], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", false], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `find_housemate'
Completed 200 OK in 99ms (Views: 0.6ms | ActiveRecord: 28.4ms | Allocations: 56572)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:19:05 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:19:05.809905"], ["updated_at", "2023-10-08 13:19:05.809905"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:19:05.813044"], ["updated_at", "2023-10-08 13:19:05.813044"], ["profile_id", nil], ["booking_id", 43]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:19:05.843169"], ["updated_at", "2023-10-08 13:19:05.843169"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 43], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:19:05.845498"], ["updated_at", "2023-10-08 13:19:05.845498"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 43], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:19:05.846900"], ["updated_at", "2023-10-08 13:19:05.846900"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 43], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:19:05.848205"], ["updated_at", "2023-10-08 13:19:05.848205"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 43], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:19:05.849460"], ["updated_at", "2023-10-08 13:19:05.849460"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 43], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 43]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", false], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", false], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `find_housemate'
Completed 200 OK in 99ms (Views: 0.6ms | ActiveRecord: 27.7ms | Allocations: 56582)


Started PATCH "/api/v1/housemates/1" for ::1 at 2023-10-08 21:19:31 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_verified"=>true}, "id"=>"1"}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1932)


Started PATCH "/api/v1/housemates/1" for ::1 at 2023-10-08 21:19:41 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>true}, "id"=>"1"}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "is_active" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-08 13:19:41.664293"], ["is_active", true], ["id", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 3.9ms | Allocations: 2975)


Started PATCH "/api/v1/housemates/1" for ::1 at 2023-10-08 21:19:50 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>true}, "id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 8959)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:19:58 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:19:58.565447"], ["updated_at", "2023-10-08 13:19:58.565447"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:19:58.568211"], ["updated_at", "2023-10-08 13:19:58.568211"], ["profile_id", nil], ["booking_id", 44]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:19:58.597116"], ["updated_at", "2023-10-08 13:19:58.597116"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 44], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:19:58.599610"], ["updated_at", "2023-10-08 13:19:58.599610"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 44], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:19:58.600926"], ["updated_at", "2023-10-08 13:19:58.600926"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 44], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:19:58.602044"], ["updated_at", "2023-10-08 13:19:58.602044"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 44], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:19:58.603071"], ["updated_at", "2023-10-08 13:19:58.603071"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 44], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 44]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `find_housemate'
Completed 200 OK in 85ms (Views: 0.7ms | ActiveRecord: 23.6ms | Allocations: 48584)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:20:06 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:20:06.321095"], ["updated_at", "2023-10-08 13:20:06.321095"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:20:06.323649"], ["updated_at", "2023-10-08 13:20:06.323649"], ["profile_id", nil], ["booking_id", 45]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:20:06.354505"], ["updated_at", "2023-10-08 13:20:06.354505"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 45], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:20:06.356424"], ["updated_at", "2023-10-08 13:20:06.356424"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 45], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:20:06.357543"], ["updated_at", "2023-10-08 13:20:06.357543"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 45], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:20:06.358698"], ["updated_at", "2023-10-08 13:20:06.358698"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 45], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:20:06.359634"], ["updated_at", "2023-10-08 13:20:06.359634"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 45], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.6ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 45]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", false], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", false], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `find_housemate'
Completed 200 OK in 113ms (Views: 0.8ms | ActiveRecord: 29.3ms | Allocations: 53289)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:20:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:20:24.060657"], ["updated_at", "2023-10-08 13:20:24.060657"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:20:24.064189"], ["updated_at", "2023-10-08 13:20:24.064189"], ["profile_id", nil], ["booking_id", 46]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:20:24.099972"], ["updated_at", "2023-10-08 13:20:24.099972"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 46], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:20:24.101801"], ["updated_at", "2023-10-08 13:20:24.101801"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 46], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:20:24.102807"], ["updated_at", "2023-10-08 13:20:24.102807"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 46], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:20:24.103964"], ["updated_at", "2023-10-08 13:20:24.103964"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 46], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:20:24.104893"], ["updated_at", "2023-10-08 13:20:24.104893"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 46], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 46]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `find_housemate'
Completed 200 OK in 100ms (Views: 0.6ms | ActiveRecord: 25.2ms | Allocations: 56611)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:22:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:22:09.967701"], ["updated_at", "2023-10-08 13:22:09.967701"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:22:09.970437"], ["updated_at", "2023-10-08 13:22:09.970437"], ["profile_id", nil], ["booking_id", 47]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:22:10.005381"], ["updated_at", "2023-10-08 13:22:10.005381"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 47], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:22:10.007400"], ["updated_at", "2023-10-08 13:22:10.007400"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 47], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:22:10.008621"], ["updated_at", "2023-10-08 13:22:10.008621"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 47], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:22:10.010059"], ["updated_at", "2023-10-08 13:22:10.010059"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 47], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:22:10.011166"], ["updated_at", "2023-10-08 13:22:10.011166"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 47], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 47]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `block in find_housemate'
Completed 200 OK in 104ms (Views: 0.8ms | ActiveRecord: 26.8ms | Allocations: 57299)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:22:25 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:22:25.608725"], ["updated_at", "2023-10-08 13:22:25.608725"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:22:25.612114"], ["updated_at", "2023-10-08 13:22:25.612114"], ["profile_id", nil], ["booking_id", 48]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:22:25.644835"], ["updated_at", "2023-10-08 13:22:25.644835"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 48], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:22:25.647992"], ["updated_at", "2023-10-08 13:22:25.647992"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 48], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:22:25.649591"], ["updated_at", "2023-10-08 13:22:25.649591"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 48], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:22:25.650919"], ["updated_at", "2023-10-08 13:22:25.650919"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 48], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:22:25.652310"], ["updated_at", "2023-10-08 13:22:25.652310"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 48], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 48]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `block in find_housemate'
Completed 200 OK in 176ms (Views: 0.6ms | ActiveRecord: 28.4ms | Allocations: 57285)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:27:41 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:27:41.693852"], ["updated_at", "2023-10-08 13:27:41.693852"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:27:41.696584"], ["updated_at", "2023-10-08 13:27:41.696584"], ["profile_id", nil], ["booking_id", 49]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:27:41.731097"], ["updated_at", "2023-10-08 13:27:41.731097"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 49], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:27:41.733112"], ["updated_at", "2023-10-08 13:27:41.733112"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 49], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:27:41.734258"], ["updated_at", "2023-10-08 13:27:41.734258"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 49], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:27:41.735268"], ["updated_at", "2023-10-08 13:27:41.735268"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 49], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:27:41.736216"], ["updated_at", "2023-10-08 13:27:41.736216"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 49], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 49]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:94:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:97:in `block in find_housemate'
Completed 200 OK in 60117ms (Views: 1.1ms | ActiveRecord: 40.5ms | Allocations: 57470)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:31:19 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1130)


  
NoMethodError (undefined method `bookings' for Housemate:Class):
  
app/controllers/api/v1/bookings_controller.rb:64:in `show'
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:33:16 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 1161)


  
ActionController::ParameterMissing (param is missing or the value is empty: booking):
  
app/controllers/api/v1/bookings_controller.rb:111:in `booking_params'
app/controllers/api/v1/bookings_controller.rb:64:in `show'
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:33:35 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 1126)


  
ActionController::ParameterMissing (param is missing or the value is empty: booking):
  
app/controllers/api/v1/bookings_controller.rb:112:in `booking_params'
app/controllers/api/v1/bookings_controller.rb:64:in `show'
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:33:50 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
Completed 404 Not Found in 6ms (ActiveRecord: 2.5ms | Allocations: 2258)


  
ActiveRecord::RecordNotFound (Couldn't find Housemate without an ID):
  
app/controllers/api/v1/bookings_controller.rb:64:in `show'
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:34:00 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:67:in `show'
Completed 200 OK in 20ms (Views: 1.6ms | ActiveRecord: 3.6ms | Allocations: 12974)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:35:29 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:35:29.247224"], ["updated_at", "2023-10-08 13:35:29.247224"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:35:29.250185"], ["updated_at", "2023-10-08 13:35:29.250185"], ["profile_id", nil], ["booking_id", 50]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:35:29.280254"], ["updated_at", "2023-10-08 13:35:29.280254"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 50], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:35:29.282713"], ["updated_at", "2023-10-08 13:35:29.282713"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 50], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:35:29.284613"], ["updated_at", "2023-10-08 13:35:29.284613"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 50], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:35:29.286501"], ["updated_at", "2023-10-08 13:35:29.286501"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 50], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:35:29.287708"], ["updated_at", "2023-10-08 13:35:29.287708"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 50], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 50]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:95:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `block in find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `block in find_housemate'
Completed 200 OK in 108ms (Views: 0.7ms | ActiveRecord: 28.2ms | Allocations: 57955)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:37:54 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:37:54.429964"], ["updated_at", "2023-10-08 13:37:54.429964"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:37:54.432796"], ["updated_at", "2023-10-08 13:37:54.432796"], ["profile_id", nil], ["booking_id", 51]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:37:54.463853"], ["updated_at", "2023-10-08 13:37:54.463853"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 51], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:37:54.466042"], ["updated_at", "2023-10-08 13:37:54.466042"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 51], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:37:54.467449"], ["updated_at", "2023-10-08 13:37:54.467449"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 51], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:37:54.468531"], ["updated_at", "2023-10-08 13:37:54.468531"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 51], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:37:54.469535"], ["updated_at", "2023-10-08 13:37:54.469535"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 51], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 51]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:95:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `block in find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `block in find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mBooking Update (0.7ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-08 13:37:54.505766"], ["housemate_id", 1], ["id", 51]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
Completed 500 Internal Server Error in 109ms (ActiveRecord: 28.7ms | Allocations: 60979)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_e52cd24222"
DETAIL:  Key (housemate_id)=(1) is not present in table "housemates".
):
  
app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
app/controllers/api/v1/bookings_controller.rb:95:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:55:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:38:46 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:38:46.271040"], ["updated_at", "2023-10-08 13:38:46.271040"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:38:46.273593"], ["updated_at", "2023-10-08 13:38:46.273593"], ["profile_id", nil], ["booking_id", 52]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:38:46.302942"], ["updated_at", "2023-10-08 13:38:46.302942"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 52], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:38:46.305164"], ["updated_at", "2023-10-08 13:38:46.305164"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 52], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:38:46.306685"], ["updated_at", "2023-10-08 13:38:46.306685"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 52], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:38:46.308740"], ["updated_at", "2023-10-08 13:38:46.308740"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 52], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:38:46.316417"], ["updated_at", "2023-10-08 13:38:46.316417"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 52], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 52]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:95:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `block in find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `block in find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mBooking Update (0.8ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-08 13:38:46.355319"], ["housemate_id", 1], ["id", 52]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
Completed 500 Internal Server Error in 113ms (ActiveRecord: 29.1ms | Allocations: 60893)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_e52cd24222"
DETAIL:  Key (housemate_id)=(1) is not present in table "housemates".
):
  
app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
app/controllers/api/v1/bookings_controller.rb:95:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:55:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:39:16 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:39:16.448442"], ["updated_at", "2023-10-08 13:39:16.448442"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:39:16.451464"], ["updated_at", "2023-10-08 13:39:16.451464"], ["profile_id", nil], ["booking_id", 53]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:39:16.481457"], ["updated_at", "2023-10-08 13:39:16.481457"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 53], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:39:16.483559"], ["updated_at", "2023-10-08 13:39:16.483559"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 53], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:39:16.484988"], ["updated_at", "2023-10-08 13:39:16.484988"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 53], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:39:16.486222"], ["updated_at", "2023-10-08 13:39:16.486222"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 53], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:39:16.487435"], ["updated_at", "2023-10-08 13:39:16.487435"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 53], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 53]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `find_housemate'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:95:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `block in find_housemate'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `block in find_housemate'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mBooking Update (0.6ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-08 13:39:16.534693"], ["housemate_id", 1], ["id", 53]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
Completed 500 Internal Server Error in 115ms (ActiveRecord: 29.5ms | Allocations: 60925)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "bookings" violates foreign key constraint "fk_rails_e52cd24222"
DETAIL:  Key (housemate_id)=(1) is not present in table "housemates".
):
  
app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
app/controllers/api/v1/bookings_controller.rb:95:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:55:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:41:35 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:41:35.626649"], ["updated_at", "2023-10-08 13:41:35.626649"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:41:35.629080"], ["updated_at", "2023-10-08 13:41:35.629080"], ["profile_id", nil], ["booking_id", 54]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:41:35.657240"], ["updated_at", "2023-10-08 13:41:35.657240"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 54], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:41:35.659330"], ["updated_at", "2023-10-08 13:41:35.659330"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 54], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:41:35.660962"], ["updated_at", "2023-10-08 13:41:35.660962"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 54], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:41:35.662417"], ["updated_at", "2023-10-08 13:41:35.662417"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 54], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:41:35.663762"], ["updated_at", "2023-10-08 13:41:35.663762"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 54], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 54]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:95:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `block in find_housemate'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `block in find_housemate'
Completed 200 OK in 105ms (Views: 0.7ms | ActiveRecord: 27.2ms | Allocations: 58120)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveForeignKeyHousemadeIdFromBooking (20231008134241)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveForeignKeyHousemadeIdFromBooking (20231008134241)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "bookings" DROP CONSTRAINT "fk_rails_e52cd24222"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008134241"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:43:29 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:43:29.807298"], ["updated_at", "2023-10-08 13:43:29.807298"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:43:29.810009"], ["updated_at", "2023-10-08 13:43:29.810009"], ["profile_id", nil], ["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:23:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:25:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:30:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:43:29.844065"], ["updated_at", "2023-10-08 13:43:29.844065"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 55], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:43:29.846154"], ["updated_at", "2023-10-08 13:43:29.846154"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 55], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:43:29.847671"], ["updated_at", "2023-10-08 13:43:29.847671"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 55], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:43:29.849263"], ["updated_at", "2023-10-08 13:43:29.849263"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 55], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:43:29.850700"], ["updated_at", "2023-10-08 13:43:29.850700"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 55], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:43:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:46:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:95:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `block in find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `block in find_housemate'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-08 13:43:29.891229"], ["housemate_id", 1], ["id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `block in find_housemate'
Completed 200 OK in 137ms (Views: 0.9ms | ActiveRecord: 32.3ms | Allocations: 83434)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:43:50 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:66:in `show'
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 2003)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:45:43 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:66:in `map'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 4.3ms | Allocations: 15508)


  
NoMethodError (undefined method `booking_id' for #<Booking id: 55, scheduled_at: "2023-10-05 12:30:00.000000000 +0000", status: "PENDING", total_cost: 0.5e4, created_at: "2023-10-08 13:43:29.807298000 +0000", updated_at: "2023-10-08 13:43:29.891229000 +0000", housemate_id: 1, payment_method: "Credit Wallet", homeowner_id: 2, service_title: "Cleaning Services", service_id: 1>):
  
app/controllers/api/v1/bookings_controller.rb:67:in `block in show'
app/controllers/api/v1/bookings_controller.rb:66:in `map'
app/controllers/api/v1/bookings_controller.rb:66:in `show'
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:47:10 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:66:in `map'
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 5.0ms | Allocations: 15188)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:47:38 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:66:in `map'
Completed 200 OK in 27ms (Views: 0.3ms | ActiveRecord: 4.9ms | Allocations: 15214)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:50:22 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:62:in `map'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 6.8ms | Allocations: 20113)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:51:08 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:51:08.785013"], ["updated_at", "2023-10-08 13:51:08.785013"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:51:08.787450"], ["updated_at", "2023-10-08 13:51:08.787450"], ["profile_id", nil], ["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:51:08.815309"], ["updated_at", "2023-10-08 13:51:08.815309"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 56], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:51:08.818183"], ["updated_at", "2023-10-08 13:51:08.818183"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 56], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:51:08.819546"], ["updated_at", "2023-10-08 13:51:08.819546"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 56], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:51:08.820886"], ["updated_at", "2023-10-08 13:51:08.820886"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 56], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:51:08.821828"], ["updated_at", "2023-10-08 13:51:08.821828"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 56], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:99:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:104:in `block in find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:107:in `block in find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:109:in `block in find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:109:in `block in find_housemate'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-08 13:51:08.857251"], ["housemate_id", 1], ["id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:109:in `block in find_housemate'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:109:in `block in find_housemate'
Completed 200 OK in 107ms (Views: 0.5ms | ActiveRecord: 30.9ms | Allocations: 61120)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:51:19 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:62:in `map'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 7297)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:52:26 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:62:in `map'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:68:in `block in show'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 9.0ms | Allocations: 24904)


  
NameError (undefined local variable or method `address_data' for #<Api::V1::BookingsController:0x0000000003cc30>):
  
app/controllers/api/v1/bookings_controller.rb:70:in `block in show'
app/controllers/api/v1/bookings_controller.rb:62:in `map'
app/controllers/api/v1/bookings_controller.rb:62:in `show'
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:52:33 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:62:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:68:in `block in show'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:68:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 88ms (Views: 0.3ms | ActiveRecord: 11.9ms | Allocations: 38476)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:53:18 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:62:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:63:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:66:in `block in show'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 11.1ms | Allocations: 34851)


  
NameError (undefined local variable or method `address_data' for #<Api::V1::BookingsController:0x0000000004c8b0>):
  
app/controllers/api/v1/bookings_controller.rb:70:in `block in show'
app/controllers/api/v1/bookings_controller.rb:62:in `map'
app/controllers/api/v1/bookings_controller.rb:62:in `show'
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:53:29 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:62:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:63:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:66:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:63:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:66:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 62ms (Views: 1.6ms | ActiveRecord: 11.6ms | Allocations: 39387)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:58:51 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:144: syntax error, unexpected '\n', expecting =>
        )
         ^
):
  
app/controllers/api/v1/bookings_controller.rb:144: syntax error, unexpected '\n', expecting =>
app/controllers/api/v1/bookings_controller.rb:144: syntax error, unexpected '\n', expecting =>
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-08 21:59:02 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:62:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:63:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:66:in `block in show'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:63:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:66:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 59ms (Views: 1.0ms | ActiveRecord: 11.5ms | Allocations: 39393)


Started POST "/api/v1/bookings" for ::1 at 2023-10-08 21:59:10 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 13:59:10.326490"], ["updated_at", "2023-10-08 13:59:10.326490"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 13:59:10.329098"], ["updated_at", "2023-10-08 13:59:10.329098"], ["profile_id", nil], ["booking_id", 57]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:59:10.352464"], ["updated_at", "2023-10-08 13:59:10.352464"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 57], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 13:59:10.354381"], ["updated_at", "2023-10-08 13:59:10.354381"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 57], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:59:10.355448"], ["updated_at", "2023-10-08 13:59:10.355448"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 57], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 13:59:10.356388"], ["updated_at", "2023-10-08 13:59:10.356388"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 57], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 13:59:10.362225"], ["updated_at", "2023-10-08 13:59:10.362225"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 57], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 57]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:104:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:106:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:109:in `block in find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:112:in `block in find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:114:in `block in find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:114:in `block in find_housemate'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-08 13:59:10.387381"], ["housemate_id", 1], ["id", 57]]
  ↳ app/controllers/api/v1/bookings_controller.rb:114:in `block in find_housemate'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:114:in `block in find_housemate'
Completed 200 OK in 71ms (Views: 0.7ms | ActiveRecord: 21.0ms | Allocations: 34264)


Started PATCH "/api/v1/bookings/55" for ::1 at 2023-10-08 23:25:49 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1}, "id"=>"55"}
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:77:in `update'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:80:in `update'
Completed 204 No Content in 19ms (ActiveRecord: 4.2ms | Allocations: 14606)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddBalanceColumnToProfile (20231008154014)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD "balance" decimal(10,2)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231008154014"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:12:04 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:12:04.721449"], ["updated_at", "2023-10-08 16:12:04.721449"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:12:04.724475"], ["updated_at", "2023-10-08 16:12:04.724475"], ["profile_id", nil], ["booking_id", 58]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:12:04.758261"], ["updated_at", "2023-10-08 16:12:04.758261"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 58], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:12:04.760929"], ["updated_at", "2023-10-08 16:12:04.760929"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 58], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:12:04.762824"], ["updated_at", "2023-10-08 16:12:04.762824"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 58], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:12:04.765186"], ["updated_at", "2023-10-08 16:12:04.765186"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 58], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:12:04.766888"], ["updated_at", "2023-10-08 16:12:04.766888"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 58], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 58]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 115ms (ActiveRecord: 27.7ms | Allocations: 68919)


  
NameError (undefined local variable or method `address' for #<Api::V1::BookingsController:0x0000000000dae8>):
  
app/controllers/api/v1/bookings_controller.rb:114:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:12:38 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:12:38.493135"], ["updated_at", "2023-10-08 16:12:38.493135"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:12:38.495359"], ["updated_at", "2023-10-08 16:12:38.495359"], ["profile_id", nil], ["booking_id", 59]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:12:38.523520"], ["updated_at", "2023-10-08 16:12:38.523520"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 59], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:12:38.525397"], ["updated_at", "2023-10-08 16:12:38.525397"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 59], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:12:38.526432"], ["updated_at", "2023-10-08 16:12:38.526432"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 59], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:12:38.527448"], ["updated_at", "2023-10-08 16:12:38.527448"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 59], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:12:38.528424"], ["updated_at", "2023-10-08 16:12:38.528424"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 59], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 59]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 77ms (ActiveRecord: 24.2ms | Allocations: 48227)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:115:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:12:56 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:12:56.783181"], ["updated_at", "2023-10-08 16:12:56.783181"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:12:56.785606"], ["updated_at", "2023-10-08 16:12:56.785606"], ["profile_id", nil], ["booking_id", 60]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:12:56.812655"], ["updated_at", "2023-10-08 16:12:56.812655"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 60], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:12:56.815378"], ["updated_at", "2023-10-08 16:12:56.815378"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 60], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:12:56.817225"], ["updated_at", "2023-10-08 16:12:56.817225"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 60], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:12:56.818487"], ["updated_at", "2023-10-08 16:12:56.818487"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 60], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:12:56.823479"], ["updated_at", "2023-10-08 16:12:56.823479"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 60], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 60]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 86ms (ActiveRecord: 24.6ms | Allocations: 48648)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:116:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:13:11 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:13:11.400323"], ["updated_at", "2023-10-08 16:13:11.400323"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:13:11.402971"], ["updated_at", "2023-10-08 16:13:11.402971"], ["profile_id", nil], ["booking_id", 61]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:13:11.434517"], ["updated_at", "2023-10-08 16:13:11.434517"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 61], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:13:11.436640"], ["updated_at", "2023-10-08 16:13:11.436640"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 61], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:13:11.437881"], ["updated_at", "2023-10-08 16:13:11.437881"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 61], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:13:11.439017"], ["updated_at", "2023-10-08 16:13:11.439017"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 61], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:13:11.439959"], ["updated_at", "2023-10-08 16:13:11.439959"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 61], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.5ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 61]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 500 Internal Server Error in 105ms (ActiveRecord: 28.2ms | Allocations: 57683)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:128:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:14:50 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:14:50.457496"], ["updated_at", "2023-10-08 16:14:50.457496"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:14:50.460008"], ["updated_at", "2023-10-08 16:14:50.460008"], ["profile_id", nil], ["booking_id", 62]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:14:50.493545"], ["updated_at", "2023-10-08 16:14:50.493545"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 62], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:14:50.495634"], ["updated_at", "2023-10-08 16:14:50.495634"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 62], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:14:50.497239"], ["updated_at", "2023-10-08 16:14:50.497239"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 62], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:14:50.498599"], ["updated_at", "2023-10-08 16:14:50.498599"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 62], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:14:50.499856"], ["updated_at", "2023-10-08 16:14:50.499856"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 62], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 62]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 500 Internal Server Error in 98ms (ActiveRecord: 29.0ms | Allocations: 56655)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:128:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:16:36 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:16:37.019402"], ["updated_at", "2023-10-08 16:16:37.019402"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:16:37.021792"], ["updated_at", "2023-10-08 16:16:37.021792"], ["profile_id", nil], ["booking_id", 63]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:16:37.050156"], ["updated_at", "2023-10-08 16:16:37.050156"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 63], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:16:37.052063"], ["updated_at", "2023-10-08 16:16:37.052063"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 63], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:16:37.053170"], ["updated_at", "2023-10-08 16:16:37.053170"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 63], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:16:37.054375"], ["updated_at", "2023-10-08 16:16:37.054375"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 63], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:16:37.055832"], ["updated_at", "2023-10-08 16:16:37.055832"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 63], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 63]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 500 Internal Server Error in 102ms (ActiveRecord: 28.0ms | Allocations: 56649)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:128:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:17:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:17:09.632168"], ["updated_at", "2023-10-08 16:17:09.632168"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:17:09.634709"], ["updated_at", "2023-10-08 16:17:09.634709"], ["profile_id", nil], ["booking_id", 64]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:17:09.661219"], ["updated_at", "2023-10-08 16:17:09.661219"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 64], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:17:09.663911"], ["updated_at", "2023-10-08 16:17:09.663911"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 64], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:17:09.665317"], ["updated_at", "2023-10-08 16:17:09.665317"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 64], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:17:09.666516"], ["updated_at", "2023-10-08 16:17:09.666516"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 64], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:17:09.667724"], ["updated_at", "2023-10-08 16:17:09.667724"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 64], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 64]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 500 Internal Server Error in 92ms (ActiveRecord: 26.6ms | Allocations: 56612)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:128:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:20:00 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:20:00.170221"], ["updated_at", "2023-10-08 16:20:00.170221"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:20:00.172674"], ["updated_at", "2023-10-08 16:20:00.172674"], ["profile_id", nil], ["booking_id", 65]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:20:00.200833"], ["updated_at", "2023-10-08 16:20:00.200833"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 65], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:20:00.202983"], ["updated_at", "2023-10-08 16:20:00.202983"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 65], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:20:00.204272"], ["updated_at", "2023-10-08 16:20:00.204272"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 65], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:20:00.205424"], ["updated_at", "2023-10-08 16:20:00.205424"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 65], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:20:00.206329"], ["updated_at", "2023-10-08 16:20:00.206329"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 65], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 65]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 500 Internal Server Error in 91ms (ActiveRecord: 26.1ms | Allocations: 56610)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:20:01 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:20:01.381807"], ["updated_at", "2023-10-08 16:20:01.381807"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:20:01.384228"], ["updated_at", "2023-10-08 16:20:01.384228"], ["profile_id", nil], ["booking_id", 66]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:20:01.394551"], ["updated_at", "2023-10-08 16:20:01.394551"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 66], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:20:01.396564"], ["updated_at", "2023-10-08 16:20:01.396564"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 66], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:20:01.398143"], ["updated_at", "2023-10-08 16:20:01.398143"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 66], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:20:01.399359"], ["updated_at", "2023-10-08 16:20:01.399359"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 66], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:20:01.400452"], ["updated_at", "2023-10-08 16:20:01.400452"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 66], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 66]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 11.0ms | Allocations: 21634)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:20:20 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:20:20.660847"], ["updated_at", "2023-10-08 16:20:20.660847"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:20:20.663422"], ["updated_at", "2023-10-08 16:20:20.663422"], ["profile_id", nil], ["booking_id", 67]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:20:20.692039"], ["updated_at", "2023-10-08 16:20:20.692039"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 67], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:20:20.693735"], ["updated_at", "2023-10-08 16:20:20.693735"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 67], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:20:20.694608"], ["updated_at", "2023-10-08 16:20:20.694608"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 67], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:20:20.695565"], ["updated_at", "2023-10-08 16:20:20.695565"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 67], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:20:20.696892"], ["updated_at", "2023-10-08 16:20:20.696892"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 67], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 67]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 500 Internal Server Error in 101ms (Views: 0.3ms | ActiveRecord: 26.6ms | Allocations: 56857)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/bookings_controller.rb:53:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:55:02 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:55:02.832621"], ["updated_at", "2023-10-08 16:55:02.832621"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:55:02.835672"], ["updated_at", "2023-10-08 16:55:02.835672"], ["profile_id", nil], ["booking_id", 68]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:55:02.858058"], ["updated_at", "2023-10-08 16:55:02.858058"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 68], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:55:02.860243"], ["updated_at", "2023-10-08 16:55:02.860243"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 68], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:55:02.861591"], ["updated_at", "2023-10-08 16:55:02.861591"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 68], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:55:02.864323"], ["updated_at", "2023-10-08 16:55:02.864323"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 68], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:55:02.865937"], ["updated_at", "2023-10-08 16:55:02.865937"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 68], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 68]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 200 OK in 98ms (Views: 0.2ms | ActiveRecord: 18.0ms | Allocations: 56759)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:55:50 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:55:50.547616"], ["updated_at", "2023-10-08 16:55:50.547616"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:55:50.556254"], ["updated_at", "2023-10-08 16:55:50.556254"], ["profile_id", nil], ["booking_id", 69]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.4ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:55:50.586994"], ["updated_at", "2023-10-08 16:55:50.586994"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 69], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:55:50.588928"], ["updated_at", "2023-10-08 16:55:50.588928"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 69], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:55:50.589976"], ["updated_at", "2023-10-08 16:55:50.589976"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 69], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:55:50.591273"], ["updated_at", "2023-10-08 16:55:50.591273"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 69], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:55:50.592396"], ["updated_at", "2023-10-08 16:55:50.592396"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 69], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 69]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 200 OK in 101ms (Views: 0.2ms | ActiveRecord: 27.5ms | Allocations: 56636)


Started PATCH "/api/v1/housemates/1" for ::1 at 2023-10-09 00:56:13 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>true}, "id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1937)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:56:18 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:56:18.234093"], ["updated_at", "2023-10-08 16:56:18.234093"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:56:18.237149"], ["updated_at", "2023-10-08 16:56:18.237149"], ["profile_id", nil], ["booking_id", 70]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:56:18.249395"], ["updated_at", "2023-10-08 16:56:18.249395"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 70], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:56:18.251863"], ["updated_at", "2023-10-08 16:56:18.251863"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 70], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:56:18.253117"], ["updated_at", "2023-10-08 16:56:18.253117"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 70], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:56:18.254671"], ["updated_at", "2023-10-08 16:56:18.254671"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 70], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:56:18.256006"], ["updated_at", "2023-10-08 16:56:18.256006"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 70], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 70]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 12.5ms | Allocations: 21629)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:56:54 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:56:54.251947"], ["updated_at", "2023-10-08 16:56:54.251947"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:56:54.254561"], ["updated_at", "2023-10-08 16:56:54.254561"], ["profile_id", nil], ["booking_id", 71]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:56:54.282934"], ["updated_at", "2023-10-08 16:56:54.282934"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 71], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:56:54.286412"], ["updated_at", "2023-10-08 16:56:54.286412"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 71], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:56:54.288082"], ["updated_at", "2023-10-08 16:56:54.288082"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 71], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:56:54.289467"], ["updated_at", "2023-10-08 16:56:54.289467"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 71], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:56:54.290658"], ["updated_at", "2023-10-08 16:56:54.290658"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 71], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 71]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 200 OK in 98ms (Views: 0.2ms | ActiveRecord: 26.9ms | Allocations: 56252)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:57:39 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:57:39.322407"], ["updated_at", "2023-10-08 16:57:39.322407"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:57:39.324994"], ["updated_at", "2023-10-08 16:57:39.324994"], ["profile_id", nil], ["booking_id", 72]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:57:39.353164"], ["updated_at", "2023-10-08 16:57:39.353164"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 72], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:57:39.355218"], ["updated_at", "2023-10-08 16:57:39.355218"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 72], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:57:39.356469"], ["updated_at", "2023-10-08 16:57:39.356469"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 72], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:57:39.357865"], ["updated_at", "2023-10-08 16:57:39.357865"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 72], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:57:39.359067"], ["updated_at", "2023-10-08 16:57:39.359067"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 72], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 72]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 200 OK in 99ms (Views: 0.2ms | ActiveRecord: 25.9ms | Allocations: 56199)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:57:59 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:125: syntax error, unexpected '='
... |housemate| housemate[:id] !== housemate_id }
...                              ^
):
  
app/controllers/api/v1/bookings_controller.rb:125: syntax error, unexpected '='
app/controllers/api/v1/bookings_controller.rb:125: syntax error, unexpected '='
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 00:58:21 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 16:58:21.724441"], ["updated_at", "2023-10-08 16:58:21.724441"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 16:58:21.726837"], ["updated_at", "2023-10-08 16:58:21.726837"], ["profile_id", nil], ["booking_id", 73]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:58:21.754257"], ["updated_at", "2023-10-08 16:58:21.754257"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 73], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 16:58:21.756774"], ["updated_at", "2023-10-08 16:58:21.756774"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 73], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:58:21.758616"], ["updated_at", "2023-10-08 16:58:21.758616"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 73], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 16:58:21.759626"], ["updated_at", "2023-10-08 16:58:21.759626"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 73], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 16:58:21.760491"], ["updated_at", "2023-10-08 16:58:21.760491"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 73], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 73]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 200 OK in 92ms (Views: 0.2ms | ActiveRecord: 25.3ms | Allocations: 56262)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 06:18:32 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:125: syntax error, unexpected ':', expecting `end' or dummy end
...  index = housemate_id.nil? 0 : nearby_housemates.find_index...
...                              ^
):
  
app/controllers/api/v1/bookings_controller.rb:125: syntax error, unexpected ':', expecting `end' or dummy end
app/controllers/api/v1/bookings_controller.rb:125: syntax error, unexpected ':', expecting `end' or dummy end
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 06:18:41 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 22:18:41.461357"], ["updated_at", "2023-10-08 22:18:41.461357"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 22:18:41.463904"], ["updated_at", "2023-10-08 22:18:41.463904"], ["profile_id", nil], ["booking_id", 74]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.9ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:18:41.486137"], ["updated_at", "2023-10-08 22:18:41.486137"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 74], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 22:18:41.488939"], ["updated_at", "2023-10-08 22:18:41.488939"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 74], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.7ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:18:41.490522"], ["updated_at", "2023-10-08 22:18:41.490522"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 74], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:18:41.493118"], ["updated_at", "2023-10-08 22:18:41.493118"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 74], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:18:41.494977"], ["updated_at", "2023-10-08 22:18:41.494977"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 74], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 74]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
Completed 200 OK in 88ms (Views: 0.2ms | ActiveRecord: 18.2ms | Allocations: 56375)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 06:19:14 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 22:19:14.792563"], ["updated_at", "2023-10-08 22:19:14.792563"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 22:19:14.795481"], ["updated_at", "2023-10-08 22:19:14.795481"], ["profile_id", nil], ["booking_id", 75]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:19:14.823889"], ["updated_at", "2023-10-08 22:19:14.823889"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 75], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 22:19:14.826678"], ["updated_at", "2023-10-08 22:19:14.826678"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 75], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:19:14.827834"], ["updated_at", "2023-10-08 22:19:14.827834"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 75], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:19:14.828841"], ["updated_at", "2023-10-08 22:19:14.828841"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 75], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:19:14.829724"], ["updated_at", "2023-10-08 22:19:14.829724"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 75], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 75]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:132:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
Completed 200 OK in 102ms (Views: 1.1ms | ActiveRecord: 28.4ms | Allocations: 59693)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 06:20:33 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 22:20:33.869739"], ["updated_at", "2023-10-08 22:20:33.869739"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 22:20:33.873120"], ["updated_at", "2023-10-08 22:20:33.873120"], ["profile_id", nil], ["booking_id", 76]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:20:33.904268"], ["updated_at", "2023-10-08 22:20:33.904268"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 76], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 22:20:33.907443"], ["updated_at", "2023-10-08 22:20:33.907443"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 76], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:20:33.908731"], ["updated_at", "2023-10-08 22:20:33.908731"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 76], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:20:33.909730"], ["updated_at", "2023-10-08 22:20:33.909730"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 76], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:20:33.910685"], ["updated_at", "2023-10-08 22:20:33.910685"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 76], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 76]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 85ms (ActiveRecord: 25.6ms | Allocations: 48208)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/v1/bookings_controller.rb:113:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 06:20:38 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 22:20:38.447902"], ["updated_at", "2023-10-08 22:20:38.447902"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 22:20:38.450980"], ["updated_at", "2023-10-08 22:20:38.450980"], ["profile_id", nil], ["booking_id", 77]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:20:38.478777"], ["updated_at", "2023-10-08 22:20:38.478777"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 77], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 22:20:38.481087"], ["updated_at", "2023-10-08 22:20:38.481087"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 77], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:20:38.482291"], ["updated_at", "2023-10-08 22:20:38.482291"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 77], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:20:38.483362"], ["updated_at", "2023-10-08 22:20:38.483362"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 77], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:20:38.484379"], ["updated_at", "2023-10-08 22:20:38.484379"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 77], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 77]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:132:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
Completed 200 OK in 94ms (Views: 0.6ms | ActiveRecord: 25.7ms | Allocations: 59681)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 06:21:02 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 22:21:02.120169"], ["updated_at", "2023-10-08 22:21:02.120169"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 22:21:02.122751"], ["updated_at", "2023-10-08 22:21:02.122751"], ["profile_id", nil], ["booking_id", 78]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:21:02.149511"], ["updated_at", "2023-10-08 22:21:02.149511"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 78], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 22:21:02.151435"], ["updated_at", "2023-10-08 22:21:02.151435"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 78], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:21:02.152513"], ["updated_at", "2023-10-08 22:21:02.152513"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 78], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:21:02.154166"], ["updated_at", "2023-10-08 22:21:02.154166"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 78], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:21:02.155845"], ["updated_at", "2023-10-08 22:21:02.155845"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 78], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 78]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:132:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
Completed 200 OK in 92ms (Views: 0.7ms | ActiveRecord: 26.0ms | Allocations: 59677)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 06:23:41 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 22:23:41.184184"], ["updated_at", "2023-10-08 22:23:41.184184"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 22:23:41.186472"], ["updated_at", "2023-10-08 22:23:41.186472"], ["profile_id", nil], ["booking_id", 79]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:23:41.213750"], ["updated_at", "2023-10-08 22:23:41.213750"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 79], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 22:23:41.215656"], ["updated_at", "2023-10-08 22:23:41.215656"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 79], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:23:41.216726"], ["updated_at", "2023-10-08 22:23:41.216726"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 79], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:23:41.217982"], ["updated_at", "2023-10-08 22:23:41.217982"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 79], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:23:41.219043"], ["updated_at", "2023-10-08 22:23:41.219043"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 79], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 79]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:132:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:134:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `find_housemate'
Completed 200 OK in 93ms (Views: 1.2ms | ActiveRecord: 25.8ms | Allocations: 60494)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 06:24:16 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 22:24:16.137368"], ["updated_at", "2023-10-08 22:24:16.137368"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 22:24:16.140425"], ["updated_at", "2023-10-08 22:24:16.140425"], ["profile_id", nil], ["booking_id", 80]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:24:16.166465"], ["updated_at", "2023-10-08 22:24:16.166465"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 80], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 22:24:16.168340"], ["updated_at", "2023-10-08 22:24:16.168340"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 80], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:24:16.169490"], ["updated_at", "2023-10-08 22:24:16.169490"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 80], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.7ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:24:16.171143"], ["updated_at", "2023-10-08 22:24:16.171143"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 80], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:24:16.173582"], ["updated_at", "2023-10-08 22:24:16.173582"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 80], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 80]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
Completed 200 OK in 102ms (Views: 0.5ms | ActiveRecord: 26.6ms | Allocations: 60466)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 06:29:25 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 22:29:25.840092"], ["updated_at", "2023-10-08 22:29:25.840092"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 22:29:25.842636"], ["updated_at", "2023-10-08 22:29:25.842636"], ["profile_id", nil], ["booking_id", 81]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:29:25.876245"], ["updated_at", "2023-10-08 22:29:25.876245"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 81], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 22:29:25.878443"], ["updated_at", "2023-10-08 22:29:25.878443"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 81], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:29:25.879705"], ["updated_at", "2023-10-08 22:29:25.879705"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 81], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:29:25.881158"], ["updated_at", "2023-10-08 22:29:25.881158"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 81], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:29:25.882664"], ["updated_at", "2023-10-08 22:29:25.882664"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 81], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 81]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
Completed 200 OK in 121ms (Views: 2.2ms | ActiveRecord: 30.4ms | Allocations: 60502)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 06:29:47 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 22:29:47.321551"], ["updated_at", "2023-10-08 22:29:47.321551"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 22:29:47.324491"], ["updated_at", "2023-10-08 22:29:47.324491"], ["profile_id", nil], ["booking_id", 82]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:29:47.357881"], ["updated_at", "2023-10-08 22:29:47.357881"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 82], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 22:29:47.360988"], ["updated_at", "2023-10-08 22:29:47.360988"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 82], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:29:47.362590"], ["updated_at", "2023-10-08 22:29:47.362590"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 82], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:29:47.363885"], ["updated_at", "2023-10-08 22:29:47.363885"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 82], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:29:47.365021"], ["updated_at", "2023-10-08 22:29:47.365021"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 82], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 82]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
Completed 200 OK in 114ms (Views: 0.6ms | ActiveRecord: 31.1ms | Allocations: 60511)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 06:30:49 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-08 22:30:49.122971"], ["updated_at", "2023-10-08 22:30:49.122971"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-08 22:30:49.131889"], ["updated_at", "2023-10-08 22:30:49.131889"], ["profile_id", nil], ["booking_id", 83]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:30:49.163814"], ["updated_at", "2023-10-08 22:30:49.163814"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 83], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-08 22:30:49.165589"], ["updated_at", "2023-10-08 22:30:49.165589"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 83], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:30:49.166578"], ["updated_at", "2023-10-08 22:30:49.166578"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 83], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-08 22:30:49.167690"], ["updated_at", "2023-10-08 22:30:49.167690"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 83], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-08 22:30:49.168944"], ["updated_at", "2023-10-08 22:30:49.168944"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 83], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 83]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mBooking Update (0.4ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-08 22:30:49.204343"], ["housemate_id", 1], ["id", 83]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
Completed 200 OK in 114ms (Views: 1.0ms | ActiveRecord: 31.2ms | Allocations: 61309)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 15:38:36 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (1.9ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 07:38:36.899086"], ["updated_at", "2023-10-09 07:38:36.899086"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (2.6ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 07:38:36.903398"], ["updated_at", "2023-10-09 07:38:36.903398"], ["profile_id", nil], ["booking_id", 116]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.5ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.9ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (2.0ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:38:36.940529"], ["updated_at", "2023-10-09 07:38:36.940529"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 116], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 07:38:36.944576"], ["updated_at", "2023-10-09 07:38:36.944576"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 116], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:38:36.946268"], ["updated_at", "2023-10-09 07:38:36.946268"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 116], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:38:36.947942"], ["updated_at", "2023-10-09 07:38:36.947942"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 116], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:38:36.949088"], ["updated_at", "2023-10-09 07:38:36.949088"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 116], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 116]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mBooking Update (1.0ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 07:38:36.992412"], ["housemate_id", 1], ["id", 116]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
Completed 200 OK in 153ms (Views: 0.7ms | ActiveRecord: 42.6ms | Allocations: 83413)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 15:39:38 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 07:39:39.067686"], ["updated_at", "2023-10-09 07:39:39.067686"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 07:39:39.069890"], ["updated_at", "2023-10-09 07:39:39.069890"], ["profile_id", nil], ["booking_id", 117]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:39:39.095711"], ["updated_at", "2023-10-09 07:39:39.095711"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 117], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 07:39:39.097621"], ["updated_at", "2023-10-09 07:39:39.097621"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 117], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:39:39.098646"], ["updated_at", "2023-10-09 07:39:39.098646"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 117], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:39:39.099867"], ["updated_at", "2023-10-09 07:39:39.099867"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 117], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:39:39.100955"], ["updated_at", "2023-10-09 07:39:39.100955"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 117], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 117]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 07:39:39.133798"], ["housemate_id", 1], ["id", 117]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
Completed 200 OK in 95ms (Views: 0.6ms | ActiveRecord: 24.3ms | Allocations: 61260)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 15:39:45 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 07:39:45.997959"], ["updated_at", "2023-10-09 07:39:45.997959"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 07:39:46.000082"], ["updated_at", "2023-10-09 07:39:46.000082"], ["profile_id", nil], ["booking_id", 118]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:39:46.024437"], ["updated_at", "2023-10-09 07:39:46.024437"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 118], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 07:39:46.026928"], ["updated_at", "2023-10-09 07:39:46.026928"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 118], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:39:46.028957"], ["updated_at", "2023-10-09 07:39:46.028957"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 118], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:39:46.030568"], ["updated_at", "2023-10-09 07:39:46.030568"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 118], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:39:46.031616"], ["updated_at", "2023-10-09 07:39:46.031616"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 118], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 118]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 07:39:46.068275"], ["housemate_id", 1], ["id", 118]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
Completed 200 OK in 99ms (Views: 0.5ms | ActiveRecord: 24.9ms | Allocations: 61376)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 15:40:01 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 07:40:01.677583"], ["updated_at", "2023-10-09 07:40:01.677583"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 07:40:01.679886"], ["updated_at", "2023-10-09 07:40:01.679886"], ["profile_id", nil], ["booking_id", 119]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:40:01.709983"], ["updated_at", "2023-10-09 07:40:01.709983"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 119], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 07:40:01.712784"], ["updated_at", "2023-10-09 07:40:01.712784"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 119], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:40:01.714143"], ["updated_at", "2023-10-09 07:40:01.714143"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 119], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:40:01.715369"], ["updated_at", "2023-10-09 07:40:01.715369"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 119], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:40:01.716305"], ["updated_at", "2023-10-09 07:40:01.716305"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 119], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 119]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 07:40:01.747810"], ["housemate_id", 1], ["id", 119]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
Completed 200 OK in 98ms (Views: 0.5ms | ActiveRecord: 24.9ms | Allocations: 61254)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 15:40:47 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 07:40:47.922851"], ["updated_at", "2023-10-09 07:40:47.922851"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 07:40:47.925641"], ["updated_at", "2023-10-09 07:40:47.925641"], ["profile_id", nil], ["booking_id", 120]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:40:47.950633"], ["updated_at", "2023-10-09 07:40:47.950633"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 120], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 07:40:47.952649"], ["updated_at", "2023-10-09 07:40:47.952649"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 120], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:40:47.953677"], ["updated_at", "2023-10-09 07:40:47.953677"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 120], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:40:47.954804"], ["updated_at", "2023-10-09 07:40:47.954804"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 120], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:40:47.955828"], ["updated_at", "2023-10-09 07:40:47.955828"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 120], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 120]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 07:40:47.987461"], ["housemate_id", 1], ["id", 120]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
Completed 200 OK in 92ms (Views: 0.3ms | ActiveRecord: 24.1ms | Allocations: 60631)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 15:42:59 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 07:42:59.551492"], ["updated_at", "2023-10-09 07:42:59.551492"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 07:42:59.553322"], ["updated_at", "2023-10-09 07:42:59.553322"], ["profile_id", nil], ["booking_id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:42:59.576919"], ["updated_at", "2023-10-09 07:42:59.576919"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 121], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 07:42:59.579072"], ["updated_at", "2023-10-09 07:42:59.579072"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 121], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:42:59.580351"], ["updated_at", "2023-10-09 07:42:59.580351"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 121], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:42:59.581447"], ["updated_at", "2023-10-09 07:42:59.581447"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 121], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:42:59.582462"], ["updated_at", "2023-10-09 07:42:59.582462"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 121], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:121:in `find_housemate'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 07:42:59.617167"], ["housemate_id", 1], ["id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:141:in `find_housemate'
Completed 500 Internal Server Error in 96ms (ActiveRecord: 24.4ms | Allocations: 61693)


  
NoMethodError (undefined method `adress' for #<Booking id: 121, scheduled_at: "2023-10-05 12:30:00.000000000 +0000", status: "PENDING", total_cost: 0.5e4, created_at: "2023-10-09 07:42:59.551492000 +0000", updated_at: "2023-10-09 07:42:59.617167000 +0000", housemate_id: 1, payment_method: "Credit Wallet", homeowner_id: 2, service_title: "Cleaning Services", service_id: 1>):
  
app/controllers/api/v1/bookings_controller.rb:144:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 15:43:09 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 07:43:09.780669"], ["updated_at", "2023-10-09 07:43:09.780669"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 07:43:09.782713"], ["updated_at", "2023-10-09 07:43:09.782713"], ["profile_id", nil], ["booking_id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.5ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:43:09.809191"], ["updated_at", "2023-10-09 07:43:09.809191"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 122], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 07:43:09.811425"], ["updated_at", "2023-10-09 07:43:09.811425"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 122], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:43:09.812939"], ["updated_at", "2023-10-09 07:43:09.812939"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 122], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:43:09.814077"], ["updated_at", "2023-10-09 07:43:09.814077"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 122], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:43:09.815012"], ["updated_at", "2023-10-09 07:43:09.815012"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 122], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:121:in `find_housemate'
  [1m[36mHousemate Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 07:43:09.847948"], ["housemate_id", 1], ["id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:141:in `find_housemate'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 122], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `find_housemate'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 103ms (Views: 0.6ms | ActiveRecord: 26.0ms | Allocations: 65652)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 15:44:29 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 57]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 83]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 83], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 116]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 116], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 117]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 117], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 118]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 118], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 119]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 119], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 120]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 120], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 121], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 122], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 59ms (Views: 4.6ms | ActiveRecord: 5.4ms | Allocations: 44027)


Started PATCH "/api/v1/housemates/1" for ::1 at 2023-10-09 15:44:52 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>false}, "id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "is_active" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-09 07:44:52.410406"], ["is_active", false], ["id", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 2.0ms | Allocations: 3632)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 15:44:57 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 07:44:57.240862"], ["updated_at", "2023-10-09 07:44:57.240862"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 07:44:57.243734"], ["updated_at", "2023-10-09 07:44:57.243734"], ["profile_id", nil], ["booking_id", 123]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:44:57.254337"], ["updated_at", "2023-10-09 07:44:57.254337"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 123], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 07:44:57.256268"], ["updated_at", "2023-10-09 07:44:57.256268"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 123], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:44:57.257639"], ["updated_at", "2023-10-09 07:44:57.257639"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 123], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:44:57.259251"], ["updated_at", "2023-10-09 07:44:57.259251"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 123], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:44:57.260340"], ["updated_at", "2023-10-09 07:44:57.260340"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 123], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 123]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:121:in `find_housemate'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_housemate'
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 7.5ms | Allocations: 20555)


Started PATCH "/api/v1/housemates/1" for ::1 at 2023-10-09 15:45:30 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>true}, "id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "is_active" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-09 07:45:30.024476"], ["is_active", true], ["id", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 2864)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 15:45:33 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 07:45:33.998862"], ["updated_at", "2023-10-09 07:45:33.998862"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 07:45:34.001118"], ["updated_at", "2023-10-09 07:45:34.001118"], ["profile_id", nil], ["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:45:34.012741"], ["updated_at", "2023-10-09 07:45:34.012741"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 124], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 07:45:34.014905"], ["updated_at", "2023-10-09 07:45:34.014905"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 124], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:45:34.016227"], ["updated_at", "2023-10-09 07:45:34.016227"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 124], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:45:34.017233"], ["updated_at", "2023-10-09 07:45:34.017233"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 124], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:45:34.018196"], ["updated_at", "2023-10-09 07:45:34.018196"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 124], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:121:in `find_housemate'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_housemate'
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:133:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 07:45:34.033299"], ["housemate_id", 1], ["id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:141:in `find_housemate'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 49ms (Views: 0.6ms | ActiveRecord: 11.2ms | Allocations: 29643)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:46:35 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 1], ["updated_at", "2023-10-09 07:46:35.267795"], ["id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 4634)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 15:46:48 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 57]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 83]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 83], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 116]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 116], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 117]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 117], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 118]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 118], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 119]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 119], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 120]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 120], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 121], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 122], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 58ms (Views: 4.2ms | ActiveRecord: 5.1ms | Allocations: 47531)


Started GET "/api/v1/bookings/124" for ::1 at 2023-10-09 15:47:07 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"124"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 652)


  
ActiveRecord::RecordNotFound (Couldn't find Housemate with 'id'=124):
  
app/controllers/api/v1/bookings_controller.rb:58:in `show'
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 15:48:47 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 57]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 83]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 83], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 116]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 116], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 117]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 117], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 118]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 118], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 119]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 119], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 120]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 120], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 121], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 122], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 59ms (Views: 4.5ms | ActiveRecord: 5.0ms | Allocations: 47527)


Started POST "/api/v1/bookings/1" for ::1 at 2023-10-09 15:49:32 +0800
  
ActionController::RoutingError (No route matches [POST] "/api/v1/bookings/1"):
  
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 15:49:39 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 57]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 83]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 83], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 116]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 116], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 117]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 117], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 118]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 118], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 119]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 119], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 120]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 120], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 121], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 122], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 111ms (Views: 4.4ms | ActiveRecord: 5.7ms | Allocations: 47526)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:49:43 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 3931)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:49:44 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 3931)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:49:45 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 3932)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:49:46 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 3931)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 15:49:51 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 57]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 83]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 83], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 116]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 116], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 117]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 117], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 118]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 118], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 119]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 119], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 120]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 120], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 121], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 122], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 67ms (Views: 4.2ms | ActiveRecord: 6.1ms | Allocations: 47529)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 15:50:02 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 57]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 83]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 83], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 116]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 116], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 117]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 117], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 118]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 118], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 119]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 119], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 120]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 120], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 121], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 122], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 55ms (Views: 5.1ms | ActiveRecord: 4.8ms | Allocations: 47526)


  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:51:15 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 8.6ms | Allocations: 32352)


  
NameError (undefined local variable or method `booking_data' for #<Api::V1::BookingsController:0x0000000000d840>):
  
app/controllers/api/v1/bookings_controller.rb:91:in `update'
Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:51:57 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 6.2ms | Allocations: 17807)


  
NoMethodError (undefined method `merge' for #<Booking id: 124, scheduled_at: "2023-10-05 12:30:00.000000000 +0000", status: "ACCEPTED", total_cost: 0.5e4, created_at: "2023-10-09 07:45:33.998862000 +0000", updated_at: "2023-10-09 07:46:35.267795000 +0000", housemate_id: 1, payment_method: "Credit Wallet", homeowner_id: 2, service_title: "Cleaning Services", service_id: 1>):
  
app/controllers/api/v1/bookings_controller.rb:91:in `update'
Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:53:27 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 6.7ms | Allocations: 17781)


  
NameError (undefined local variable or method `housemate_booking' for #<Api::V1::BookingsController:0x0000000001d1f0>):
  
app/controllers/api/v1/bookings_controller.rb:91:in `update'
Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:54:21 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 8.8ms | Allocations: 25126)


  
NameError (undefined local variable or method `housemate_booking' for #<Api::V1::BookingsController:0x00000000024f18>):
  
app/controllers/api/v1/bookings_controller.rb:94:in `update'
Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:54:22 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.8ms | Allocations: 3101)


  
NameError (undefined local variable or method `housemate_booking' for #<Api::V1::BookingsController:0x00000000024fb8>):
  
app/controllers/api/v1/bookings_controller.rb:94:in `update'
Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:54:23 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.8ms | Allocations: 3101)


  
NameError (undefined local variable or method `housemate_booking' for #<Api::V1::BookingsController:0x00000000025058>):
  
app/controllers/api/v1/bookings_controller.rb:94:in `update'
Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:55:30 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 10.4ms | Allocations: 35605)


  
NameError (undefined local variable or method `address_data' for #<Api::V1::BookingsController:0x0000000002ce70>):
  
app/controllers/api/v1/bookings_controller.rb:95:in `update'
Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:55:38 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
Completed 500 Internal Server Error in 58ms (ActiveRecord: 12.5ms | Allocations: 38943)


  
NoMethodError (undefined method `empty?' for 1:Integer):
  
app/controllers/api/v1/bookings_controller.rb:134:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:96:in `update'
Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:56:23 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
Completed 500 Internal Server Error in 62ms (ActiveRecord: 13.4ms | Allocations: 37832)


  
NoMethodError (undefined method `empty?' for 1:Integer):
  
app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:96:in `update'
Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:56:42 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:150:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 69ms (Views: 0.7ms | ActiveRecord: 14.5ms | Allocations: 44981)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:56:59 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:150:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 20ms (Views: 0.7ms | ActiveRecord: 2.6ms | Allocations: 14413)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:57:17 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:151:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 68ms (Views: 1.0ms | ActiveRecord: 13.6ms | Allocations: 44615)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:57:41 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
Completed 500 Internal Server Error in 107ms (ActiveRecord: 13.2ms | Allocations: 37849)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/api/v1/bookings_controller.rb:136:in `nil?'
app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:96:in `update'
Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:57:52 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
  [1m[36mHousemate Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:151:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 65ms (Views: 0.6ms | ActiveRecord: 13.1ms | Allocations: 44618)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:58:24 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:151:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 72ms (Views: 0.6ms | ActiveRecord: 13.2ms | Allocations: 44542)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:58:36 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:151:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 64ms (Views: 0.8ms | ActiveRecord: 14.1ms | Allocations: 44547)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 15:59:02 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_index'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:151:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 64ms (Views: 0.7ms | ActiveRecord: 12.9ms | Allocations: 44602)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 15:59:18 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 07:59:18.357636"], ["updated_at", "2023-10-09 07:59:18.357636"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 07:59:18.360407"], ["updated_at", "2023-10-09 07:59:18.360407"], ["profile_id", nil], ["booking_id", 125]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:59:18.383672"], ["updated_at", "2023-10-09 07:59:18.383672"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 125], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 07:59:18.391269"], ["updated_at", "2023-10-09 07:59:18.391269"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 125], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:59:18.392994"], ["updated_at", "2023-10-09 07:59:18.392994"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 125], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 07:59:18.394382"], ["updated_at", "2023-10-09 07:59:18.394382"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 125], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 07:59:18.396454"], ["updated_at", "2023-10-09 07:59:18.396454"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 125], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 125]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 /* loading for inspect */ LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:140:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 07:59:18.409789"], ["housemate_id", 1], ["id", 125]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 125]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `find_housemate'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 125], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:151:in `find_housemate'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 66ms (Views: 0.6ms | ActiveRecord: 15.0ms | Allocations: 37138)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 16:02:16 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 57]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 83]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 83], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 116]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 116], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 117]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 117], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 118]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 118], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 119]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 119], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 120]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 120], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 121], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 122], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 125]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 125], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 108ms (Views: 4.7ms | ActiveRecord: 14.3ms | Allocations: 81357)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 16:02:26 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 57]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 57], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 83]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 83], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 116]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 116], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 117]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 117], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 118]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 118], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 119]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 119], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 120]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 120], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 121]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 121], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 122]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 122], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 125]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 125], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 66ms (Views: 6.9ms | ActiveRecord: 5.5ms | Allocations: 51303)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 16:04:35 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 08:04:35.467569"], ["updated_at", "2023-10-09 08:04:35.467569"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 08:04:35.470500"], ["updated_at", "2023-10-09 08:04:35.470500"], ["profile_id", nil], ["booking_id", 126]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:04:35.502345"], ["updated_at", "2023-10-09 08:04:35.502345"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 126], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 08:04:35.504340"], ["updated_at", "2023-10-09 08:04:35.504340"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 126], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:04:35.505318"], ["updated_at", "2023-10-09 08:04:35.505318"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 126], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:04:35.506266"], ["updated_at", "2023-10-09 08:04:35.506266"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 126], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:04:35.507366"], ["updated_at", "2023-10-09 08:04:35.507366"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 126], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 126]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:132:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mBooking Update (0.4ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 08:04:35.541811"], ["housemate_id", 1], ["id", 126]]
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 126]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:141:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 133ms (Views: 0.8ms | ActiveRecord: 28.6ms | Allocations: 86766)


Started PATCH "/api/v1/bookings/124" for ::1 at 2023-10-09 16:04:47 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"124"}
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_index'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:141:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 28ms (Views: 1.0ms | ActiveRecord: 2.7ms | Allocations: 13594)


Started PATCH "/api/v1/bookings/126" for ::1 at 2023-10-09 16:04:57 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"126"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 126]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:92:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:137:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 126]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:141:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 24ms (Views: 1.1ms | ActiveRecord: 3.0ms | Allocations: 13414)


Started PATCH "/api/v1/bookings/126" for ::1 at 2023-10-09 16:05:57 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"126"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mBooking Update (0.4ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 2], ["updated_at", "2023-10-09 08:05:57.511443"], ["id", 126]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 126]]
  ↳ app/controllers/api/v1/bookings_controller.rb:90:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `update'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_index'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 126]]
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 74ms (Views: 0.6ms | ActiveRecord: 15.4ms | Allocations: 47537)


Started PATCH "/api/v1/bookings/126" for ::1 at 2023-10-09 16:08:06 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"126"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 126]]
  ↳ app/controllers/api/v1/bookings_controller.rb:90:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `update'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 126]]
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 66ms (Views: 0.6ms | ActiveRecord: 13.1ms | Allocations: 45444)


  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 1], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 3]]
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 1]]
  [1m[36mBooking Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 2], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 4]]
  [1m[36mBookingService Load (0.6ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 2]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 1]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 2]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 3]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 4]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 5]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 3], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 5]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 3]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 6]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 7]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 8]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 9]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 10]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 6], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 6]]
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 6]]
  [1m[36mBookingService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 11]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 12]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 13]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 14]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 15]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 6]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 7], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 7]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 7]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 7]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 8], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 8]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 8]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 8]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 9], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 9]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 9]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 16]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 17]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 18]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 19]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 20]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 9]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 10], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 10]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 10]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 21]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 22]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 23]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 24]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 25]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 10]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 11], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 11]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 11]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 26]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 27]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 28]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 29]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 30]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 11]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 12], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 12]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 12]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 31]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 32]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 33]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 34]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 35]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 12]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 13], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 13]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 13]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 36]]
  [1m[36mBookingService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 37]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 38]]
  [1m[36mBookingService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 39]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 40]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 13]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 14], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 14]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 14]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 41]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 42]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 43]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 44]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 45]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 14]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 15], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 15]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 15]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 46]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 47]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 48]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 49]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 50]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 15]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 16], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 16]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 16]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 51]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 52]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 53]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 54]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 55]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 16]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 17], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 17]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 17]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 56]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 57]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 58]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 59]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 60]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 17]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 18], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 18]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 18]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 61]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 62]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 63]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 64]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 65]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 18]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 19], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 19]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 19]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 66]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 67]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 68]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 69]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 70]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 19]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 20], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 20]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 20]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 71]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 72]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 73]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 74]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 75]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 20]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 21], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 21]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 21]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 76]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 77]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 78]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 79]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 80]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 21]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 22], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 22]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 22]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 81]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 82]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 83]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 84]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 85]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 22]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 23], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 23]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 23]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 86]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 87]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 88]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 89]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 90]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 23]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 24], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 24]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 24]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 91]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 92]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 93]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 94]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 95]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 24]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 25], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 25]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 25]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 96]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 97]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 98]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 99]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 100]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 25]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 26], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 26]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 26]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 101]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 102]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 103]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 104]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 105]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 26]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 27], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 27]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 27]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 106]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 107]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 108]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 109]]
  [1m[36mBookingService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 110]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 27]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 28], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 28]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 28]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 111]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 112]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 113]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 114]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 115]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 28]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 29], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 29]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 29]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 116]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 117]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 118]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 119]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 120]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 29]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 30], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 30]]
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 30]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 121]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 122]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 123]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 124]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 125]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 30]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 31], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 31]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 31]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 126]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 127]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 128]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 129]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 130]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 31]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 32], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 32]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 32]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 131]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 132]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 133]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 134]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 135]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 32]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 33], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 33]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 33]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 136]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 137]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 138]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 139]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 140]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 33]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 34], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 34]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 34]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 141]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 142]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 143]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 144]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 145]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 34]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 35], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 35]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 35]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 146]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 147]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 148]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 149]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 150]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 35]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 36], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 36]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 36]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 151]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 152]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 153]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 154]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 155]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 36]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 37], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 37]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 37]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 156]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 157]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 158]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 159]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 160]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 37]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 38], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 38]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 38]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 161]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 162]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 163]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 164]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 165]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 38]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 39], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 39]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 39]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 166]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 167]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 168]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 169]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 170]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 39]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 40], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 40]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 40]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 171]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 172]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 173]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 174]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 175]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 40]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 41], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 41]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 41]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 176]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 177]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 178]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 179]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 180]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 41]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 42], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 42]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 42]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 181]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 182]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 183]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 184]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 185]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 42]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 43], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 43]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 43]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 186]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 187]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 188]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 189]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 190]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 43]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 44], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 44]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 44]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 191]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 192]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 193]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 194]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 195]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 44]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 45], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 45]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 45]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 196]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 197]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 198]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 199]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 200]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 45]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 46], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 46]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 46]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 201]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 202]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 203]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 204]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 205]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 46]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 47], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 47]]
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 47]]
  [1m[36mBookingService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 206]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 207]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 208]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 209]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 210]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 47]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 48], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 48]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 48]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 211]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 212]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 213]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 214]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 215]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 48]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 49], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 49]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 49]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 216]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 217]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 218]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 219]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 220]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 49]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 50], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 50]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 50]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 221]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 222]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 223]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 224]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 225]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 50]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 51], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 51]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 51]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 226]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 227]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 228]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 229]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 230]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 51]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 52], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 52]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 52]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 231]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 232]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 233]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 234]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 235]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 52]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 53], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 53]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 53]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 236]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 237]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 238]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 239]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 240]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 53]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 54], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 54]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 54]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 241]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 242]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 243]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 244]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 245]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 54]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 55], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 55]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 55]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 246]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 247]]
  [1m[36mBookingService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 248]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 249]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 250]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 55]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 56], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 56]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 56]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 251]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 252]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 253]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 254]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 255]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 56]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 57], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 57]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 57]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 256]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 257]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 258]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 259]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 260]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 57]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 58], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 58]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 58]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 261]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 262]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 263]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 264]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 265]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 58]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 59], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 59]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 59]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 266]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 267]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 268]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 269]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 270]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 59]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 60], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 60]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 60]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 271]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 272]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 273]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 274]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 275]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 60]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 61], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 61]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 61]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 276]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 277]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 278]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 279]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 280]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 61]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 62], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 62]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 62]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 281]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 282]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 283]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 284]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 285]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 62]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 63], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 63]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 63]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 286]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 287]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 288]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 289]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 290]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 63]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 64], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 64]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 64]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 291]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 292]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 293]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 294]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 295]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 64]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 65], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 65]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 65]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 296]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 297]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 298]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 299]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 300]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 65]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 66], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 66]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 66]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 301]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 302]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 303]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 304]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 305]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 66]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 67], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 67]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 67]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 306]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 307]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 308]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 309]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 310]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 67]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 68], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 68]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 68]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 311]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 312]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 313]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 314]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 315]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 68]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 69], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 69]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 69]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 316]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 317]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 318]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 319]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 320]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 69]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 70], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 70]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 70]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 321]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 322]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 323]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 324]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 325]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 70]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 71], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.1ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 71]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 71]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 326]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 327]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 328]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 329]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 330]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 71]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 72], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 72]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 72]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 331]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 332]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 333]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 334]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 335]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 72]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 73], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 73]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 73]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 336]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 337]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 338]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 339]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 340]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 73]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 74], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.1ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 74]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 74]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 341]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 342]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 343]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 344]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 345]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 74]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 75], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 75]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 75]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 346]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 347]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 348]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 349]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 350]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 75]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 76], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 76]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 76]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 351]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 352]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 353]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 354]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 355]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 76]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 77], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 77]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 77]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 356]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 357]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 358]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 359]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 360]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 77]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 78], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 78]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 78]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 361]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 362]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 363]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 364]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 365]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 78]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 79], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 79]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 79]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 366]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 367]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 368]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 369]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 370]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 79]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 80], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 80]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 80]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 371]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 372]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 373]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 374]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 375]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 80]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 81], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 81]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 81]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 376]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 377]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 378]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 379]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 380]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 81]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 82], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 82]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 82]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 381]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 382]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 383]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 384]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 385]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 82]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 83], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 83]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 83]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 386]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 387]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 388]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 389]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 390]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 83]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 116], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 116]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 116]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 419]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 420]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 421]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 422]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 423]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 116]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 117], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 117]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 117]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 424]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 425]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 426]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 427]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 428]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 117]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 118], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 118]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 118]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 429]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 430]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 431]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 432]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 433]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 118]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 119], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 119]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 119]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 434]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 435]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 436]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 437]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 438]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 119]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 120], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 120]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 120]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 439]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 440]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 441]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 442]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 443]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 120]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 121], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 121]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 121]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 444]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 445]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 446]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 447]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 448]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 121]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 122], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.1ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 122]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 122]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 449]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 450]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 451]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 452]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 453]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 122]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 123], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 123]]
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 123]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 454]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 455]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 456]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 457]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 458]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 123]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 124], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 124]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 124]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 459]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 460]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 461]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 462]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 463]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 124]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 125], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 125]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 125]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 464]]
  [1m[36mBookingService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 465]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 466]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 467]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 468]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 125]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 126], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 126]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 126]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 469]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 470]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 471]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 472]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 473]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 126]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 16:14:41 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 08:14:41.264885"], ["updated_at", "2023-10-09 08:14:41.264885"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 08:14:41.267494"], ["updated_at", "2023-10-09 08:14:41.267494"], ["profile_id", nil], ["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:14:41.297910"], ["updated_at", "2023-10-09 08:14:41.297910"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 127], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 08:14:41.299933"], ["updated_at", "2023-10-09 08:14:41.299933"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 127], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:14:41.300943"], ["updated_at", "2023-10-09 08:14:41.300943"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 127], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:14:41.302002"], ["updated_at", "2023-10-09 08:14:41.302002"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 127], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:14:41.303044"], ["updated_at", "2023-10-09 08:14:41.303044"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 127], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 08:14:41.337006"], ["housemate_id", 1], ["id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `find_housemate'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `find_housemate'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:145:in `find_housemate'
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `find_housemate'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 129ms (Views: 0.7ms | ActiveRecord: 26.7ms | Allocations: 86815)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 16:14:45 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.3ms | Allocations: 6334)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRejectedBookings (20231009082319)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "rejected_bookings" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231009082319"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddHousemateAndBookingReferenceToRejectedBooking (20231009082658)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "rejected_bookings" ADD "housemate_id" bigint NOT NULL[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE INDEX "index_rejected_bookings_on_housemate_id" ON "rejected_bookings" ("housemate_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "rejected_bookings" ADD CONSTRAINT "fk_rails_bc221f74b6"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "rejected_bookings" ADD "housemate_id" bigint NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddHousemateAndBookingReferenceToRejectedBooking (20231009082658)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "rejected_bookings" ADD "housemate_id" bigint NOT NULL[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE INDEX "index_rejected_bookings_on_housemate_id" ON "rejected_bookings" ("housemate_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "rejected_bookings" ADD CONSTRAINT "fk_rails_bc221f74b6"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "rejected_bookings" ADD "booking_id" bigint NOT NULL[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_rejected_bookings_on_booking_id" ON "rejected_bookings" ("booking_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "rejected_bookings" ADD CONSTRAINT "fk_rails_e5a8c77fcc"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231009082658"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddHousemateAndBookingReferenceToRejectedBooking (20231009082658)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "rejected_bookings" DROP CONSTRAINT "fk_rails_e5a8c77fcc"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "rejected_bookings" DROP COLUMN "booking_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "rejected_bookings" DROP CONSTRAINT "fk_rails_bc221f74b6"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "rejected_bookings" DROP COLUMN "housemate_id"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231009082658"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRejectedBookings (20231009082319)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "rejected_bookings"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231009082319"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 16:41:38 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 2 pending migrations:

20231009082319_create_rejected_bookings.rb
20231009082658_add_housemate_and_booking_reference_to_rejected_booking.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRejectedBookings (20231009082319)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "rejected_bookings" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231009082319"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHousemateAndBookingReferenceToRejectedBooking (20231009082658)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "rejected_bookings" ADD "housemate_id" bigint NOT NULL[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE INDEX "index_rejected_bookings_on_housemate_id" ON "rejected_bookings" ("housemate_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "rejected_bookings" ADD CONSTRAINT "fk_rails_bc221f74b6"
FOREIGN KEY ("housemate_id")
  REFERENCES "housemates" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "rejected_bookings" ADD "booking_id" bigint NOT NULL[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_rejected_bookings_on_booking_id" ON "rejected_bookings" ("booking_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "rejected_bookings" ADD CONSTRAINT "fk_rails_e5a8c77fcc"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20231009082658"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddHousemateAndBookingReferenceToRejectedBooking (20231009082658)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "rejected_bookings" DROP CONSTRAINT "fk_rails_e5a8c77fcc"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "rejected_bookings" DROP COLUMN "booking_id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "rejected_bookings" DROP CONSTRAINT "fk_rails_bc221f74b6"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "rejected_bookings" DROP COLUMN "housemate_id"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231009082658"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRejectedBookings (20231009082319)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "rejected_bookings"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20231009082319"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 16:42:16 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 92ms (Views: 0.8ms | ActiveRecord: 12.1ms | Allocations: 55332)


Started PATCH "/api/v1/bookings/126" for ::1 at 2023-10-09 16:42:30 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"126"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 813)


  
ActiveRecord::RecordNotFound (Couldn't find Booking with 'id'=126):
  
app/controllers/api/v1/bookings_controller.rb:75:in `update'
Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:42:40 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 2], ["updated_at", "2023-10-09 08:42:40.551969"], ["id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:90:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `update'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 33ms (Views: 0.6ms | ActiveRecord: 6.3ms | Allocations: 21785)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:45:20 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:90:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `update'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 08:45:20.169655"], ["housemate_id", nil], ["id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `find_housemate'
  [1m[36mBookingService Load (4.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `find_housemate'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `find_housemate'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 73ms (Views: 1.0ms | ActiveRecord: 19.0ms | Allocations: 46232)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:46:29 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:90:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `update'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mCACHE BookingService Load (0.0ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:141:in `find_housemate'
  [1m[36mCACHE Address Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `find_housemate'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 63ms (Views: 0.1ms | ActiveRecord: 12.8ms | Allocations: 42011)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/bookings_controller.rb:147:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:97:in `update'
Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:47:12 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:90:in `update'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `update'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_index'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
Completed 200 OK in 62ms (Views: 0.1ms | ActiveRecord: 12.4ms | Allocations: 39616)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:47:19 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 1], ["updated_at", "2023-10-09 08:47:19.057344"], ["id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 2.2ms | Allocations: 4662)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:48:54 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 4.4ms | Allocations: 19807)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:49:07 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 23ms (Views: 0.3ms | ActiveRecord: 4.2ms | Allocations: 19849)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:49:12 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 2], ["updated_at", "2023-10-09 08:49:12.442742"], ["id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:89:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:90:in `update'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `update'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_index'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
Completed 200 OK in 41ms (Views: 0.1ms | ActiveRecord: 10.2ms | Allocations: 25759)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:49:16 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 1], ["updated_at", "2023-10-09 08:49:16.076639"], ["id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 2.3ms | Allocations: 4617)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:49:49 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 23ms (Views: 0.3ms | ActiveRecord: 4.3ms | Allocations: 19813)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:51:06 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 4.3ms | Allocations: 19781)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:51:08 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 3935)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:51:20 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:145:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `serialize_data'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 47ms (Views: 0.6ms | ActiveRecord: 10.2ms | Allocations: 34787)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:52:24 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:145:in `serialize_data'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `serialize_data'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 1.0ms | Allocations: 6983)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:52:29 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:145:in `serialize_data'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `serialize_data'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.0ms | Allocations: 6968)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:54:17 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:77:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:81:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:81:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:81:in `update'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `serialize_data'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:141:in `serialize_data'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 45ms (Views: 0.6ms | ActiveRecord: 9.9ms | Allocations: 34785)


  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 16:55:48 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 08:55:48.858570"], ["updated_at", "2023-10-09 08:55:48.858570"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 08:55:48.861036"], ["updated_at", "2023-10-09 08:55:48.861036"], ["profile_id", nil], ["booking_id", 128]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:55:48.889912"], ["updated_at", "2023-10-09 08:55:48.889912"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 128], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 08:55:48.892129"], ["updated_at", "2023-10-09 08:55:48.892129"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 128], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:55:48.893179"], ["updated_at", "2023-10-09 08:55:48.893179"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 128], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:55:48.894224"], ["updated_at", "2023-10-09 08:55:48.894224"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 128], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:55:48.895387"], ["updated_at", "2023-10-09 08:55:48.895387"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 128], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 128]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:121:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:121:in `find_housemate'
Completed 500 Internal Server Error in 110ms (ActiveRecord: 22.2ms | Allocations: 77246)


  
NameError (undefined local variable or method `booking' for #<Api::V1::BookingsController:0x0000000000dbb0>):
  
app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 16:56:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 08:56:23.829155"], ["updated_at", "2023-10-09 08:56:23.829155"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 08:56:23.831850"], ["updated_at", "2023-10-09 08:56:23.831850"], ["profile_id", nil], ["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:56:23.864147"], ["updated_at", "2023-10-09 08:56:23.864147"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 129], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 08:56:23.866458"], ["updated_at", "2023-10-09 08:56:23.866458"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 129], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.7ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:56:23.869036"], ["updated_at", "2023-10-09 08:56:23.869036"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 129], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:56:23.872038"], ["updated_at", "2023-10-09 08:56:23.872038"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 129], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:56:23.873672"], ["updated_at", "2023-10-09 08:56:23.873672"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 129], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:121:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:121:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_housemate'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:128:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:128:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 08:56:23.909811"], ["housemate_id", 1], ["id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:128:in `find_housemate'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:128:in `find_housemate'
  [1m[36mBookingService Load (0.6ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:141:in `serialize_data'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 115ms (Views: 0.7ms | ActiveRecord: 28.9ms | Allocations: 64943)


Started PATCH "/api/v1/bookings/127" for ::1 at 2023-10-09 16:56:32 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"127"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:77:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:81:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:81:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:81:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  ↳ app/controllers/api/v1/bookings_controller.rb:138:in `serialize_data'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:141:in `serialize_data'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 1.2ms | Allocations: 7127)


Started PATCH "/api/v1/housemates/1" for ::1 at 2023-10-09 16:56:48 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>false}, "id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "is_active" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-09 08:56:48.625698"], ["is_active", false], ["id", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 2.2ms | Allocations: 3658)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 16:56:52 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 08:56:52.754753"], ["updated_at", "2023-10-09 08:56:52.754753"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 08:56:52.757133"], ["updated_at", "2023-10-09 08:56:52.757133"], ["profile_id", nil], ["booking_id", 130]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.5ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:56:52.768958"], ["updated_at", "2023-10-09 08:56:52.768958"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 130], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 08:56:52.771397"], ["updated_at", "2023-10-09 08:56:52.771397"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 130], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:56:52.772668"], ["updated_at", "2023-10-09 08:56:52.772668"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 130], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:56:52.773667"], ["updated_at", "2023-10-09 08:56:52.773667"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 130], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:56:52.774567"], ["updated_at", "2023-10-09 08:56:52.774567"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 130], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 130]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:121:in `find_housemate'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 7.5ms | Allocations: 19678)


  
NameError (undefined local variable or method `booking' for #<Api::V1::BookingsController:0x00000000015e00>):
  
app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:51:in `create'
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 16:57:23 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 08:57:23.547608"], ["updated_at", "2023-10-09 08:57:23.547608"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 08:57:23.549940"], ["updated_at", "2023-10-09 08:57:23.549940"], ["profile_id", nil], ["booking_id", 131]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:57:23.573737"], ["updated_at", "2023-10-09 08:57:23.573737"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 131], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 08:57:23.575467"], ["updated_at", "2023-10-09 08:57:23.575467"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 131], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:57:23.576396"], ["updated_at", "2023-10-09 08:57:23.576396"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 131], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:57:23.577268"], ["updated_at", "2023-10-09 08:57:23.577268"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 131], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:57:23.578414"], ["updated_at", "2023-10-09 08:57:23.578414"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 131], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 131]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:120:in `find_housemate'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_housemate'
Completed 200 OK in 86ms (Views: 0.1ms | ActiveRecord: 21.2ms | Allocations: 55007)


Started PATCH "/api/v1/housemates/1" for ::1 at 2023-10-09 16:57:29 +0800
Processing by Api::V1::HousematesController#update as */*
  Parameters: {"housemate"=>{"is_active"=>true}, "id"=>"1"}
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:14:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mHousemate Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "is_active" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-09 08:57:29.903996"], ["is_active", true], ["id", 1]]
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/housemates_controller.rb:16:in `update'
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 2.0ms | Allocations: 6778)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 16:57:31 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 08:57:31.754014"], ["updated_at", "2023-10-09 08:57:31.754014"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 08:57:31.755954"], ["updated_at", "2023-10-09 08:57:31.755954"], ["profile_id", nil], ["booking_id", 132]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.4ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:57:31.765272"], ["updated_at", "2023-10-09 08:57:31.765272"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 132], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 08:57:31.767745"], ["updated_at", "2023-10-09 08:57:31.767745"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 132], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:57:31.768899"], ["updated_at", "2023-10-09 08:57:31.768899"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 132], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 08:57:31.770120"], ["updated_at", "2023-10-09 08:57:31.770120"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 132], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 08:57:31.771245"], ["updated_at", "2023-10-09 08:57:31.771245"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 132], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 132]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:120:in `find_housemate'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 08:57:31.783447"], ["housemate_id", 1], ["id", 132]]
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 132]]
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `serialize_data'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 43ms (Views: 0.8ms | ActiveRecord: 10.0ms | Allocations: 29281)


Started PATCH "/api/v1/bookings/132" for ::1 at 2023-10-09 16:57:43 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"132"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:77:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:81:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:81:in `update'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 1], ["updated_at", "2023-10-09 08:57:43.982663"], ["id", 132]]
  ↳ app/controllers/api/v1/bookings_controller.rb:81:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:81:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 132]]
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `serialize_data'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `serialize_data'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 18ms (Views: 0.9ms | ActiveRecord: 3.6ms | Allocations: 9080)


Started PATCH "/api/v1/bookings/132" for ::1 at 2023-10-09 16:57:51 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"132"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:77:in `update'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 132]]
  ↳ app/controllers/api/v1/bookings_controller.rb:139:in `serialize_data'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:142:in `serialize_data'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:119:in `find_index'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:120:in `find_housemate'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.3ms | Allocations: 7527)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
app/controllers/api/v1/bookings_controller.rb:89:in `update'
Started PATCH "/api/v1/bookings/132" for ::1 at 2023-10-09 17:00:55 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"132"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 132]]
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `serialize_data'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:120:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_index'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:124:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 09:00:55.822554"], ["housemate_id", nil], ["id", 132]]
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
Completed 200 OK in 67ms (Views: 0.2ms | ActiveRecord: 14.8ms | Allocations: 41420)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:01:11 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 1.4ms | Allocations: 6370)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:01:22 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 5980)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:01:23 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.3ms | Allocations: 5976)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:01:24 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 5976)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:01:24 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 14ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 5977)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:01:25 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 11ms (Views: 1.0ms | ActiveRecord: 1.4ms | Allocations: 5976)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:01:28 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 5976)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:01:28 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 5976)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:01:29 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 1.2ms | Allocations: 5977)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:01:30 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 1.0ms | Allocations: 5976)


  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 128], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 128]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 128]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 479]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 480]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 481]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 482]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 483]]
  [1m[36mBooking Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 128]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 129], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 129]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 129]]
  [1m[36mBookingService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 484]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 485]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 486]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 487]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 488]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 129]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 130], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 130]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 130]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 489]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 490]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 491]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 492]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 493]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 130]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 131], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 131]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 131]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 494]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 495]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 496]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 497]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 498]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 131]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 132], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 132]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 132]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 499]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 500]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 501]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 502]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 503]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 132]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 127], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 127]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 127]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 474]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 475]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 476]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 477]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 478]]
  [1m[36mBooking Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 127]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 17:02:02 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 09:02:02.883627"], ["updated_at", "2023-10-09 09:02:02.883627"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 09:02:02.886334"], ["updated_at", "2023-10-09 09:02:02.886334"], ["profile_id", nil], ["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.6ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 09:02:02.918816"], ["updated_at", "2023-10-09 09:02:02.918816"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 133], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 09:02:02.921121"], ["updated_at", "2023-10-09 09:02:02.921121"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 133], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 09:02:02.922327"], ["updated_at", "2023-10-09 09:02:02.922327"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 133], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 09:02:02.923488"], ["updated_at", "2023-10-09 09:02:02.923488"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 133], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 09:02:02.924571"], ["updated_at", "2023-10-09 09:02:02.924571"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 133], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:120:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:124:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:134:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:134:in `find_housemate'
  [1m[36mBooking Update (0.4ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 09:02:02.960978"], ["housemate_id", 1], ["id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:134:in `find_housemate'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:134:in `find_housemate'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `serialize_data'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 138ms (Views: 0.7ms | ActiveRecord: 28.3ms | Allocations: 86725)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:02:09 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 11ms (Views: 0.6ms | ActiveRecord: 1.5ms | Allocations: 6334)


Started PATCH "/api/v1/bookings/133" for ::1 at 2023-10-09 17:02:23 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPT"}, "id"=>"133"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `serialize_data'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:120:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:124:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 09:02:23.245146"], ["housemate_id", nil], ["id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 11382)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:02:30 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1367)


Started PATCH "/api/v1/bookings/133" for ::1 at 2023-10-09 17:03:11 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"133"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mBooking Update (0.4ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 1], ["updated_at", "2023-10-09 09:03:11.029159"], ["id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `serialize_data'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 14ms (Views: 0.7ms | ActiveRecord: 3.4ms | Allocations: 7657)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:03:16 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1350)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:03:17 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1350)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:03:17 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1353)


Started PATCH "/api/v1/bookings/133" for ::1 at 2023-10-09 17:03:40 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"133"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 3.9ms | Allocations: 12755)


  
NoMethodError (undefined method `status' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:79:in `update'
Started PATCH "/api/v1/bookings/133" for ::1 at 2023-10-09 17:04:20 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"133"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:144:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:147:in `serialize_data'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:120:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:123:in `find_index'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:124:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:129:in `find_housemate'
Completed 200 OK in 60ms (Views: 0.1ms | ActiveRecord: 13.3ms | Allocations: 37833)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:04:31 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1782)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:05:53 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 19ms (Views: 0.1ms | ActiveRecord: 3.6ms | Allocations: 12890)


Started PATCH "/api/v1/bookings/133" for ::1 at 2023-10-09 17:05:57 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"133"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:145:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `serialize_data'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:121:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:124:in `find_index'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:130:in `find_housemate'
Completed 200 OK in 50ms (Views: 0.1ms | ActiveRecord: 9.5ms | Allocations: 29098)


Started PATCH "/api/v1/bookings/133" for ::1 at 2023-10-09 17:06:06 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"133"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `serialize_data'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
Completed 200 OK in 60ms (Views: 0.1ms | ActiveRecord: 13.1ms | Allocations: 37833)


Started PATCH "/api/v1/bookings/133" for ::1 at 2023-10-09 17:07:32 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"a"}, "id"=>"133"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `serialize_data'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
Completed 200 OK in 80ms (Views: 0.1ms | ActiveRecord: 15.3ms | Allocations: 37832)


Started PATCH "/api/v1/bookings/133" for ::1 at 2023-10-09 17:07:44 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"a"}, "id"=>"133"}
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `serialize_data'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
Completed 200 OK in 86ms (Views: 0.2ms | ActiveRecord: 14.1ms | Allocations: 58416)


Started PATCH "/api/v1/bookings/133" for ::1 at 2023-10-09 17:10:16 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"a"}, "id"=>"133"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 12730)


Started PATCH "/api/v1/bookings/133" for ::1 at 2023-10-09 17:10:30 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"133"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 49ms (Views: 0.6ms | ActiveRecord: 10.8ms | Allocations: 34870)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 17:10:44 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 09:10:44.170779"], ["updated_at", "2023-10-09 09:10:44.170779"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 09:10:44.174573"], ["updated_at", "2023-10-09 09:10:44.174573"], ["profile_id", nil], ["booking_id", 134]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 09:10:44.200569"], ["updated_at", "2023-10-09 09:10:44.200569"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 134], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 09:10:44.202718"], ["updated_at", "2023-10-09 09:10:44.202718"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 134], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 09:10:44.203830"], ["updated_at", "2023-10-09 09:10:44.203830"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 134], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 09:10:44.204869"], ["updated_at", "2023-10-09 09:10:44.204869"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 134], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 09:10:44.205843"], ["updated_at", "2023-10-09 09:10:44.205843"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 134], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 134]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:128:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 09:10:44.224607"], ["housemate_id", 1], ["id", 134]]
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 134]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `serialize_data'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 134], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 79ms (Views: 0.9ms | ActiveRecord: 22.8ms | Allocations: 38487)


Started PATCH "/api/v1/bookings/134" for ::1 at 2023-10-09 17:10:49 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"134"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 1], ["updated_at", "2023-10-09 09:10:49.771198"], ["id", 134]]
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 134]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `serialize_data'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 134], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 17ms (Views: 0.5ms | ActiveRecord: 5.2ms | Allocations: 9079)


Started PATCH "/api/v1/bookings/134" for ::1 at 2023-10-09 17:10:55 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"134"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 134]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 134], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
  [1m[36mHousemate Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 09:10:55.595849"], ["housemate_id", nil], ["id", 134]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 7.0ms | Allocations: 11307)


Started PATCH "/api/v1/bookings/134" for ::1 at 2023-10-09 17:10:59 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED1"}, "id"=>"134"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1459)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:11:45 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 3.2ms | Allocations: 13020)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:11:46 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1353)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:11:59 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1347)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:12:05 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 3.4ms | Allocations: 12956)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:12:07 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1353)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:12:07 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1346)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:12:09 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1346)


Started GET "/api/v1/bookings/2" for ::1 at 2023-10-09 17:12:16 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."homeowner_id" = $1[0m  [["homeowner_id", 2]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 134]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 134], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
Completed 200 OK in 44ms (Views: 1.0ms | ActiveRecord: 7.8ms | Allocations: 26259)


  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 134], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 134]]
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 134]]
  [1m[36mBookingService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 509]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 510]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 511]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 512]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 513]]
  [1m[36mBooking Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 134]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 133], ["LIMIT", 1]]
  [1m[36mAddress Destroy (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 133]]
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 133]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 504]]
  [1m[36mBookingService Destroy (0.2ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 505]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 506]]
  [1m[36mBookingService Destroy (0.3ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 507]]
  [1m[36mBookingService Destroy (0.1ms)[0m  [1m[31mDELETE FROM "booking_services" WHERE "booking_services"."id" = $1[0m  [["id", 508]]
  [1m[36mBooking Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bookings" WHERE "bookings"."id" = $1[0m  [["id", 133]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/bookings" for ::1 at 2023-10-09 17:12:58 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 09:12:58.809875"], ["updated_at", "2023-10-09 09:12:58.809875"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 09:12:58.812415"], ["updated_at", "2023-10-09 09:12:58.812415"], ["profile_id", nil], ["booking_id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 09:12:58.844710"], ["updated_at", "2023-10-09 09:12:58.844710"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 135], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 09:12:58.847170"], ["updated_at", "2023-10-09 09:12:58.847170"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 135], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.4ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 09:12:58.848797"], ["updated_at", "2023-10-09 09:12:58.848797"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 135], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 09:12:58.850393"], ["updated_at", "2023-10-09 09:12:58.850393"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 135], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 09:12:58.851682"], ["updated_at", "2023-10-09 09:12:58.851682"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 135], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:128:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 09:12:58.889408"], ["housemate_id", 1], ["id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `serialize_data'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 142ms (Views: 0.8ms | ActiveRecord: 33.8ms | Allocations: 86751)


Started GET "/api/v1/bookings/2" for ::1 at 2023-10-09 17:13:03 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."homeowner_id" = $1[0m  [["homeowner_id", 2]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.2ms | Allocations: 6332)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:13:07 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 17ms (Views: 0.6ms | ActiveRecord: 1.4ms | Allocations: 6002)


Started PATCH "/api/v1/bookings/135" for ::1 at 2023-10-09 17:13:22 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"135"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 1], ["updated_at", "2023-10-09 09:13:22.342500"], ["id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `serialize_data'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 20ms (Views: 0.7ms | ActiveRecord: 5.9ms | Allocations: 9231)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:13:25 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 1.2ms | Allocations: 5989)


Started PATCH "/api/v1/bookings/135" for ::1 at 2023-10-09 17:13:32 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"REJECTED"}, "id"=>"135"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `serialize_data'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
  [1m[36mHousemate Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_index'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mBooking Update (0.3ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 09:13:32.106052"], ["housemate_id", nil], ["id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:131:in `find_housemate'
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 7.2ms | Allocations: 11305)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 17:13:36 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1350)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 17:14:00 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 09:14:00.684137"], ["updated_at", "2023-10-09 09:14:00.684137"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 09:14:00.686266"], ["updated_at", "2023-10-09 09:14:00.686266"], ["profile_id", nil], ["booking_id", 136]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.5ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 09:14:00.697523"], ["updated_at", "2023-10-09 09:14:00.697523"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 136], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 09:14:00.699881"], ["updated_at", "2023-10-09 09:14:00.699881"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 136], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 09:14:00.701202"], ["updated_at", "2023-10-09 09:14:00.701202"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 136], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 09:14:00.702334"], ["updated_at", "2023-10-09 09:14:00.702334"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 136], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 09:14:00.703448"], ["updated_at", "2023-10-09 09:14:00.703448"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 136], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 136]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:122:in `find_housemate'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:126:in `find_housemate'
  [1m[36mHousemate Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:128:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 09:14:00.719971"], ["housemate_id", 1], ["id", 136]]
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:136:in `find_housemate'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 136]]
  ↳ app/controllers/api/v1/bookings_controller.rb:146:in `serialize_data'
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 136], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 51ms (Views: 0.7ms | ActiveRecord: 15.8ms | Allocations: 28649)


Started GET "/api/v1/bookings/2" for ::1 at 2023-10-09 18:19:42 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."homeowner_id" = $1[0m  [["homeowner_id", 2]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 136]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 136], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 22ms (Views: 1.0ms | ActiveRecord: 5.4ms | Allocations: 11464)


Started PATCH "/api/v1/bookings/135" for ::1 at 2023-10-09 18:22:00 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "status"=>"COMPLETEDa"}, "id"=>"135"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 3.0ms | Allocations: 4201)


Started PATCH "/api/v1/bookings/135" for ::1 at 2023-10-09 18:22:03 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "status"=>"COMPLETED"}, "id"=>"135"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `update'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:96:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:96:in `update'
  [1m[36mBooking Update (0.4ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 4], ["updated_at", "2023-10-09 10:22:03.916858"], ["id", 135]]
  ↳ app/controllers/api/v1/bookings_controller.rb:96:in `update'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:96:in `update'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 6.2ms | Allocations: 13694)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:97:in `update'
Started PATCH "/api/v1/bookings/136" for ::1 at 2023-10-09 18:22:10 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "status"=>"COMPLETED"}, "id"=>"136"}
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:93:in `update'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:96:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:96:in `update'
  [1m[36mBooking Update (0.4ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 4], ["updated_at", "2023-10-09 10:22:10.574563"], ["id", 136]]
  ↳ app/controllers/api/v1/bookings_controller.rb:96:in `update'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:96:in `update'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 4.7ms | Allocations: 4309)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:97:in `update'
Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 18:47:13 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 136]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 136], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 47ms (Views: 0.6ms | ActiveRecord: 11.4ms | Allocations: 25785)


Started POST "/api/v1/bookings" for ::1 at 2023-10-09 18:47:30 +0800
Processing by Api::V1::BookingsController#create as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "address_attributes"=>{"address_line_1"=>"123 Street", "barangay"=>"Barangay", "city"=>"Bacoor", "province"=>"Cavite", "zip_code"=>"4102"}, "service"=>{"id"=>1, "title"=>"Cleaning Services"}, "service_details"=>[{"id"=>10, "title"=>"Condo (20 - 60 sqm)"}, {"id"=>5, "title"=>"1 Bedroom"}, {"id"=>7, "title"=>"1 Bathroom"}, {"id"=>12, "title"=>"Disinfectant Spraying", "quantity"=>2}, {"id"=>13, "title"=>"Dishwashing", "quantity"=>1}], "scheduled_at"=>"12:30 PM October 5, 2023 Thursday", "payment_method"=>"Credit Wallet", "total_cost"=>5000.0, "status"=>"PENDING"}}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("scheduled_at", "status", "total_cost", "created_at", "updated_at", "housemate_id", "payment_method", "homeowner_id", "service_title", "service_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["scheduled_at", "2023-10-05 12:30:00"], ["status", 0], ["total_cost", "5000.0"], ["created_at", "2023-10-09 10:47:30.146979"], ["updated_at", "2023-10-09 10:47:30.146979"], ["housemate_id", nil], ["payment_method", "Credit Wallet"], ["homeowner_id", 2], ["service_title", "Cleaning Services"], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("address_line_1", "barangay", "city", "province", "zip_code", "created_at", "updated_at", "profile_id", "booking_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["address_line_1", "123 Street"], ["barangay", "Barangay"], ["city", "Bacoor"], ["province", "Cavite"], ["zip_code", "4102"], ["created_at", "2023-10-09 10:47:30.149269"], ["updated_at", "2023-10-09 10:47:30.149269"], ["profile_id", nil], ["booking_id", 137]]
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:21:in `create'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:22:in `create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:26:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.7ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "150.0"], ["total", "150.0"], ["created_at", "2023-10-09 10:47:30.171743"], ["updated_at", "2023-10-09 10:47:30.171743"], ["service_id", 1], ["subservice_id", 10], ["booking_id", 137], ["title", "Condo (20 - 60 sqm)"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "200.0"], ["total", "200.0"], ["created_at", "2023-10-09 10:47:30.175458"], ["updated_at", "2023-10-09 10:47:30.175458"], ["service_id", 1], ["subservice_id", 5], ["booking_id", 137], ["title", "1 Bedroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.2ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 10:47:30.176838"], ["updated_at", "2023-10-09 10:47:30.176838"], ["service_id", 1], ["subservice_id", 7], ["booking_id", 137], ["title", "1 Bathroom"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 2], ["price_per_quantity", "75.0"], ["total", "150.0"], ["created_at", "2023-10-09 10:47:30.177955"], ["updated_at", "2023-10-09 10:47:30.177955"], ["service_id", 1], ["subservice_id", 12], ["booking_id", 137], ["title", "Disinfectant Spraying"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mBookingService Create (0.3ms)[0m  [1m[32mINSERT INTO "booking_services" ("quantity", "price_per_quantity", "total", "created_at", "updated_at", "service_id", "subservice_id", "booking_id", "title") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["quantity", 1], ["price_per_quantity", "50.0"], ["total", "50.0"], ["created_at", "2023-10-09 10:47:30.179114"], ["updated_at", "2023-10-09 10:47:30.179114"], ["service_id", 1], ["subservice_id", 13], ["booking_id", 137], ["title", "Dishwashing"]]
  ↳ app/controllers/api/v1/bookings_controller.rb:39:in `each'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:38:in `create'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 137]]
  ↳ app/controllers/api/v1/bookings_controller.rb:42:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4 LIMIT $5[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:121:in `find_housemate'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:125:in `find_housemate'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "profiles" ON "profiles"."email" = "users"."email" INNER JOIN "addresses" ON "addresses"."profile_id" = "profiles"."id" INNER JOIN "housemate_services" ON "housemate_services"."housemate_id" = "users"."id" WHERE "users"."type" = $1 AND "addresses"."city" = $2 AND "users"."is_active" = $3 AND "housemate_services"."service_id" = $4[0m  [["type", "Housemate"], ["city", "Bacoor"], ["is_active", true], ["service_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:127:in `find_housemate'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "updated_at" = $1, "housemate_id" = $2 WHERE "bookings"."id" = $3[0m  [["updated_at", "2023-10-09 10:47:30.198458"], ["housemate_id", 1], ["id", 137]]
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:135:in `find_housemate'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 137]]
  ↳ app/controllers/api/v1/bookings_controller.rb:145:in `serialize_data'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `serialize_data'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 69ms (Views: 0.5ms | ActiveRecord: 23.0ms | Allocations: 36824)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 18:47:37 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.1ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 137]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 136]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 136], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 18ms (Views: 0.9ms | ActiveRecord: 1.8ms | Allocations: 9754)


Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 18:48:05 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"137"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:75:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:78:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mBooking Update (0.2ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 1], ["updated_at", "2023-10-09 10:48:05.132128"], ["id", 137]]
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:82:in `update'
  [1m[36mBookingService Load (0.4ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 137]]
  ↳ app/controllers/api/v1/bookings_controller.rb:145:in `serialize_data'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:148:in `serialize_data'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mHousemate Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 500 Internal Server Error in 18ms (Views: 0.5ms | ActiveRecord: 5.3ms | Allocations: 9318)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/bookings_controller.rb:106:in `update'
Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:03:19 +0800
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/bookings_controller.rb:176: syntax error, unexpected end-of-input):
  
app/controllers/api/v1/bookings_controller.rb:176: syntax error, unexpected end-of-input
app/controllers/api/v1/bookings_controller.rb:176: syntax error, unexpected end-of-input
Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:03:46 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"137"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 164)


  
NoMethodError (undefined method `status' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:75:in `update'
Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:04:23 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"137"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 160)


  
NoMethodError (undefined method `status' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:75:in `update'
Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:04:41 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"137"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 160)


  
NoMethodError (undefined method `status' for Booking:Class):
  
app/controllers/api/v1/bookings_controller.rb:75:in `update'
Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:05:47 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"housemate_id"=>1, "status"=>"ACCEPTED"}, "id"=>"137"}
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:80:in `update'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:83:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:87:in `update'
  [1m[36mBookingService Load (0.3ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 137]]
  ↳ app/controllers/api/v1/bookings_controller.rb:149:in `serialize_data'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:152:in `serialize_data'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Housemate Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:14:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
Completed 200 OK in 51ms (Views: 0.6ms | ActiveRecord: 5.3ms | Allocations: 37504)


Started GET "/api/v1/bookings/1" for ::1 at 2023-10-09 19:05:59 +0800
Processing by Api::V1::BookingsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:58:in `show'
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."housemate_id" = $1[0m  [["housemate_id", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:60:in `map'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 137]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "housemate@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:15:in `block in <class:BookingSerializer>'
  [1m[36mBookingService Load (0.2ms)[0m  [1m[34mSELECT "booking_services".* FROM "booking_services" WHERE "booking_services"."booking_id" = $1[0m  [["booking_id", 136]]
  ↳ app/controllers/api/v1/bookings_controller.rb:61:in `block in show'
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."booking_id" = $1 LIMIT $2[0m  [["booking_id", 136], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:64:in `block in show'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:7:in `block in <class:BookingSerializer>'
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/serializers/booking_serializer.rb:8:in `block in <class:BookingSerializer>'
Completed 200 OK in 13ms (Views: 0.9ms | ActiveRecord: 2.0ms | Allocations: 10128)


Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:06:15 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "status"=>"COMPLETE"}, "id"=>"137"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 189)


Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:06:20 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"homeowner_id"=>1, "status"=>"COMPLETED"}, "id"=>"137"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:80:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `update'
Completed 404 Not Found in 3ms (ActiveRecord: 0.4ms | Allocations: 1555)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner with 'id'=1):
  
app/controllers/api/v1/bookings_controller.rb:98:in `update'
Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:06:27 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "status"=>"COMPLETED"}, "id"=>"137"}
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:80:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `update'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `update'
  [1m[36mBooking Update (0.4ms)[0m  [1m[33mUPDATE "bookings" SET "status" = $1, "updated_at" = $2 WHERE "bookings"."id" = $3[0m  [["status", 4], ["updated_at", "2023-10-09 11:06:27.299730"], ["id", 137]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `update'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `update'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 4.8ms | Allocations: 4332)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:102:in `update'
Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:06:59 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "status"=>"COMPLETED"}, "id"=>"137"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:80:in `update'
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `update'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:102:in `update'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `update'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 7.4ms | Allocations: 23362)


  
NoMethodError (undefined method `-' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:103:in `update'
Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:07:21 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "status"=>"COMPLETED"}, "id"=>"137"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:80:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `update'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:102:in `update'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `update'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 6.4ms | Allocations: 23333)


  
NoMethodError (undefined method `-' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:103:in `update'
Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:07:37 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "status"=>"COMPLETED"}, "id"=>"137"}
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:80:in `update'
  [1m[36mHomeowner Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `update'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `update'
  [1m[36mHousemate Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:102:in `update'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `update'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 6.3ms | Allocations: 23359)


  
NoMethodError (undefined method `-' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:103:in `update'
Started PATCH "/api/v1/bookings/137" for ::1 at 2023-10-09 19:08:37 +0800
Processing by Api::V1::BookingsController#update as */*
  Parameters: {"booking"=>{"homeowner_id"=>2, "status"=>"COMPLETED"}, "id"=>"137"}
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:80:in `update'
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:98:in `update'
  [1m[36mCACHE Homeowner Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:101:in `update'
  [1m[36mHousemate Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Housemate"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:102:in `update'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "homeowner@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/bookings_controller.rb:103:in `update'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 6.6ms | Allocations: 23342)


  
NoMethodError (undefined method `-' for nil:NilClass):
  
app/controllers/api/v1/bookings_controller.rb:105:in `update'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
Started PATCH "/api/v1/homeowners/27" for ::1 at 2023-10-10 05:34:19 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HomeownersController#update as */*
  Parameters: {"homeowner"=>{"is_verified"=>true}, "id"=>"27"}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:14:in `update'
Completed 404 Not Found in 22ms (ActiveRecord: 4.0ms | Allocations: 9563)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner with 'id'=27):
  
app/controllers/api/v1/homeowners_controller.rb:14:in `update'
Started PATCH "/api/v1/homeowners/1" for ::1 at 2023-10-10 05:34:34 +0800
Processing by Api::V1::HomeownersController#update as */*
  Parameters: {"homeowner"=>{"is_verified"=>true}, "id"=>"1"}
  [1m[36mHomeowner Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:14:in `update'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 540)


  
ActiveRecord::RecordNotFound (Couldn't find Homeowner with 'id'=1):
  
app/controllers/api/v1/homeowners_controller.rb:14:in `update'
Started PATCH "/api/v1/homeowners/2" for ::1 at 2023-10-10 05:34:37 +0800
Processing by Api::V1::HomeownersController#update as */*
  Parameters: {"homeowner"=>{"is_verified"=>true}, "id"=>"2"}
  [1m[36mHomeowner Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:14:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:16:in `update'
  [1m[36mHomeowner Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "is_verified" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2023-10-09 21:34:37.701153"], ["is_verified", true], ["id", 2]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:16:in `update'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/homeowners_controller.rb:16:in `update'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 7.4ms | Allocations: 27114)


  
NoMethodError (undefined method `isVerified' for #<Homeowner is_verified: true, email: "homeowner@test.com", id: 2, created_at: "2023-10-08 11:46:50.840223000 +0000", updated_at: "2023-10-09 21:34:37.701153000 +0000", jti: "518a49c4-45a8-4cb3-a255-cf76912e8f91", is_active: false>):
  
app/controllers/api/v1/homeowners_controller.rb:17:in `update'
Started PATCH "/api/v1/homeowners/2" for ::1 at 2023-10-10 05:35:20 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::HomeownersController#update as */*
  Parameters: {"homeowner"=>{"is_verified"=>true}, "id"=>"2"}
  [1m[36mHomeowner Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:14:in `update'
Completed 500 Internal Server Error in 68ms (ActiveRecord: 4.0ms | Allocations: 30592)


  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/serializers/homeowner_serializer.rb:3: syntax error, unexpected local variable or method, expecting `end' or dummy end
...utes :id, :email, :is_v erified, :created_at, :updated_at
...                        ^~~~~~~
):
  
app/serializers/homeowner_serializer.rb:3: syntax error, unexpected local variable or method, expecting `end' or dummy end
app/controllers/api/v1/homeowners_controller.rb:17:in `update'
Started PATCH "/api/v1/homeowners/2" for ::1 at 2023-10-10 05:35:26 +0800
Processing by Api::V1::HomeownersController#update as */*
  Parameters: {"homeowner"=>{"is_verified"=>true}, "id"=>"2"}
  [1m[36mHomeowner Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."type" = $1 AND "users"."id" = $2 LIMIT $3[0m  [["type", "Homeowner"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/homeowners_controller.rb:14:in `update'
Completed 200 OK in 13ms (Views: 0.5ms | ActiveRecord: 2.3ms | Allocations: 12658)


DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
Started GET "/api/v1/services" for ::1 at 2023-10-10 09:51:42 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ServicesController#index as */*
  [1m[36mService Load (0.4ms)[0m  [1m[34mSELECT "services".* FROM "services"[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `map'
Completed 204 No Content in 29ms (ActiveRecord: 3.0ms | Allocations: 14150)


DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
Started GET "/api/v1/services" for ::1 at 2023-10-10 09:56:42 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ServicesController#index as */*
  [1m[36mService Load (0.6ms)[0m  [1m[34mSELECT "services".* FROM "services"[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `map'
Completed 200 OK in 31ms (Views: 0.6ms | ActiveRecord: 3.7ms | Allocations: 14374)


Started PUT "/api/v1/services/2" for ::1 at 2023-10-10 10:02:00 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ServicesController#update as */*
  Parameters: {"service"=>{"title"=>"wow", "price"=>200}, "id"=>"2"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:31:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/services_controller.rb:32:in `update'
  [1m[36mService Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "services" WHERE "services"."title" = $1 AND "services"."id" != $2 LIMIT $3[0m  [["title", "wow"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:32:in `update'
  [1m[36mService Update (0.3ms)[0m  [1m[33mUPDATE "services" SET "title" = $1, "updated_at" = $2, "price" = $3 WHERE "services"."id" = $4[0m  [["title", "wow"], ["updated_at", "2023-10-10 02:02:00.496925"], ["price", "200.0"], ["id", 2]]
  ↳ app/controllers/api/v1/services_controller.rb:32:in `update'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/services_controller.rb:32:in `update'
Completed 200 OK in 38ms (Views: 0.3ms | ActiveRecord: 8.8ms | Allocations: 17533)


Started GET "/api/v1/services" for ::1 at 2023-10-10 10:02:15 +0800
Processing by Api::V1::ServicesController#index as */*
  [1m[36mService Load (0.4ms)[0m  [1m[34mSELECT "services".* FROM "services"[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `map'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 712)


Started GET "/api/v1/services" for ::1 at 2023-10-10 10:03:48 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ServicesController#index as */*
  [1m[36mService Load (0.4ms)[0m  [1m[34mSELECT "services".* FROM "services" ORDER BY "services"."id" ASC[0m
  ↳ app/controllers/api/v1/services_controller.rb:8:in `map'
Completed 200 OK in 38ms (Views: 0.8ms | ActiveRecord: 4.2ms | Allocations: 14502)


Started GET "/api/v1/services/1" for ::1 at 2023-10-10 10:06:41 +0800
Processing by Api::V1::ServicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:42:in `get_specific_service'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.9ms | Allocations: 4821)


  
NameError (undefined local variable or method `service' for #<Api::V1::ServicesController:0x00000000015658>):
  
app/controllers/api/v1/services_controller.rb:26:in `show'
Started GET "/api/v1/services/1" for ::1 at 2023-10-10 10:07:02 +0800
Processing by Api::V1::ServicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/services_controller.rb:42:in `get_specific_service'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 7565)


Started GET "/api/v1/services" for ::1 at 2023-10-10 10:13:07 +0800
Processing by Api::V1::ServicesController#index as */*
  [1m[36mService Load (0.4ms)[0m  [1m[34mSELECT "services".* FROM "services" ORDER BY "services"."id" ASC[0m
  ↳ app/controllers/api/v1/services_controller.rb:41:in `serialize_data'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 7104)


Started GET "/api/v1/subservices/1" for ::1 at 2023-10-10 10:19:45 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"service_title"=>"1"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 957)


  
ActionController::ParameterMissing (param is missing or the value is empty: subservice):
  
app/controllers/api/v1/subservices_controller.rb:29:in `subservice_params'
app/controllers/api/v1/subservices_controller.rb:17:in `show'
Started GET "/api/v1/subservices/1" for ::1 at 2023-10-10 10:20:15 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"service_title"=>"1"}
Completed 404 Not Found in 17ms (ActiveRecord: 2.5ms | Allocations: 5280)


  
ActiveRecord::RecordNotFound (Couldn't find Service without an ID):
  
app/controllers/api/v1/subservices_controller.rb:17:in `show'
Started GET "/api/v1/subservices/1" for ::1 at 2023-10-10 10:20:54 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_id" = $1[0m  [["service_id", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:19:in `show'
Completed 200 OK in 35ms (Views: 8.7ms | ActiveRecord: 6.5ms | Allocations: 20316)


Started GET "/api/v1/subservices/1" for ::1 at 2023-10-10 10:24:35 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 5.5ms | Allocations: 10066)


  
NameError (undefined local variable or method `subservice' for #<Api::V1::SubservicesController:0x00000000024a18>):
  
app/controllers/api/v1/subservices_controller.rb:19:in `show'
Started GET "/api/v1/subservices/1" for ::1 at 2023-10-10 10:25:02 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 4.0ms | Allocations: 5735)


  
NameError (undefined local variable or method `subservice' for #<Api::V1::SubservicesController:0x00000000024d38>):
  
app/controllers/api/v1/subservices_controller.rb:19:in `show'
Started GET "/api/v1/subservices/1" for ::1 at 2023-10-10 10:25:43 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_id" = $1[0m  [["service_id", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:25:in `serialize_subservices'
Completed 200 OK in 28ms (Views: 0.3ms | ActiveRecord: 5.9ms | Allocations: 16257)


DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddCategoryColumnInSubservice (20231010215748)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "subservices" ADD "category" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231010215748') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
Started GET "/api/v1/subservices/1" for ::1 at 2023-10-11 05:59:19 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.9ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
  [1m[36mSubservice Load (1.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_id" = $1[0m  [["service_id", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:34:in `serialize_subservices'
Completed 200 OK in 84ms (Views: 0.9ms | ActiveRecord: 7.4ms | Allocations: 33285)


Started PATCH "/api/v1/subservices/3" for ::1 at 2023-10-11 06:00:16 +0800
Processing by Api::V1::SubservicesController#update as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"Laundry", "category"=>"Home Type", "price"=>18}, "id"=>"3"}
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:23:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 AND "subservices"."id" != $2 LIMIT $3[0m  [["title", "Laundry"], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mSubservice Update (1.5ms)[0m  [1m[33mUPDATE "subservices" SET "title" = $1, "price" = $2, "updated_at" = $3, "category" = $4 WHERE "subservices"."id" = $5[0m  [["title", "Laundry"], ["price", "18.0"], ["updated_at", "2023-10-10 22:00:16.095527"], ["category", "Home Type"], ["id", 3]]
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 5.8ms | Allocations: 5387)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/api/v1/subservices_controller.rb:34:in `block in serialize_subservices'
app/controllers/api/v1/subservices_controller.rb:34:in `each'
app/controllers/api/v1/subservices_controller.rb:34:in `map'
app/controllers/api/v1/subservices_controller.rb:34:in `serialize_subservices'
app/controllers/api/v1/subservices_controller.rb:38:in `render_subservice_json'
app/controllers/api/v1/subservices_controller.rb:25:in `update'
Started PATCH "/api/v1/subservices/3" for ::1 at 2023-10-11 06:01:02 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#update as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"Laundry", "category"=>"Home Type", "price"=>18}, "id"=>"3"}
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:23:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mSubservice Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 AND "subservices"."id" != $2 LIMIT $3[0m  [["title", "Laundry"], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
Completed 500 Internal Server Error in 58ms (ActiveRecord: 9.4ms | Allocations: 26156)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/api/v1/subservices_controller.rb:34:in `block in serialize_subservices'
app/controllers/api/v1/subservices_controller.rb:34:in `each'
app/controllers/api/v1/subservices_controller.rb:34:in `map'
app/controllers/api/v1/subservices_controller.rb:34:in `serialize_subservices'
app/controllers/api/v1/subservices_controller.rb:38:in `render_subservice_json'
app/controllers/api/v1/subservices_controller.rb:25:in `update'
Started PUT "/api/v1/subservices/3" for ::1 at 2023-10-11 06:01:26 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#update as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"Laundry", "category"=>"Home Type", "price"=>18}, "id"=>"3"}
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:23:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 AND "subservices"."id" != $2 LIMIT $3[0m  [["title", "Laundry"], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
Completed 500 Internal Server Error in 57ms (ActiveRecord: 8.9ms | Allocations: 26156)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/api/v1/subservices_controller.rb:34:in `block in serialize_subservices'
app/controllers/api/v1/subservices_controller.rb:34:in `each'
app/controllers/api/v1/subservices_controller.rb:34:in `map'
app/controllers/api/v1/subservices_controller.rb:34:in `serialize_subservices'
app/controllers/api/v1/subservices_controller.rb:38:in `render_subservice_json'
app/controllers/api/v1/subservices_controller.rb:25:in `update'
Started GET "/api/v1/subservices/3" for ::1 at 2023-10-11 06:02:58 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"3"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_id" = $1[0m  [["service_id", 3]]
  ↳ app/controllers/api/v1/subservices_controller.rb:34:in `serialize_subservices'
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 4.0ms | Allocations: 6544)


Started GET "/api/v1/subservices/1" for ::1 at 2023-10-11 06:03:02 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:17:in `show'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_id" = $1[0m  [["service_id", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:34:in `serialize_subservices'
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 4736)


Started PATCH "/api/v1/subservices/3" for ::1 at 2023-10-11 06:03:35 +0800
Processing by Api::V1::SubservicesController#update as */*
  Parameters: {"subservice"=>{"service_id"=>1, "service_title"=>"Cleaning Services", "title"=>"Laundry", "category"=>"Home Type", "price"=>18}, "id"=>"3"}
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:23:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mSubservice Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "subservices" WHERE "subservices"."title" = $1 AND "subservices"."id" != $2 LIMIT $3[0m  [["title", "Laundry"], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:24:in `update'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.8ms | Allocations: 3280)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/api/v1/subservices_controller.rb:34:in `block in serialize_subservices'
app/controllers/api/v1/subservices_controller.rb:34:in `each'
app/controllers/api/v1/subservices_controller.rb:34:in `map'
app/controllers/api/v1/subservices_controller.rb:34:in `serialize_subservices'
app/controllers/api/v1/subservices_controller.rb:38:in `render_subservice_json'
app/controllers/api/v1/subservices_controller.rb:25:in `update'
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to UpdateExistingDataWithCategoryColumn (20231010220715)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSubservice Update All (0.3ms)[0m  [1m[33mUPDATE "subservices" SET "category" = $1 WHERE "subservices"."category" IS NULL[0m  [["category", "Home Type"]]
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231010220715') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7370495045852506365)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
  [1m[36mSubservice Load (0.4ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
Started POST "/api/v1/subservices/update_all" for ::1 at 2023-10-11 06:11:40 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/subservices_controller.rb:8: syntax error, unexpected label, expecting `end' or dummy end
...           render json: status: :ok
...                        ^~~~~~~
):
  
app/controllers/api/v1/subservices_controller.rb:8: syntax error, unexpected label, expecting `end' or dummy end
Started POST "/api/v1/subservices/update_all" for ::1 at 2023-10-11 06:11:48 +0800
Processing by Api::V1::SubservicesController#update_all as */*
  [1m[36mSubservice Update All (0.3ms)[0m  [1m[33mUPDATE "subservices" SET "category" = $1 WHERE "subservices"."category" IS NULL[0m  [["category", "Category Name"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `update_all'
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 6763)


Started GET "/api/v1/subservices/1" for ::1 at 2023-10-11 06:11:56 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:22:in `show'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_id" = $1[0m  [["service_id", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:39:in `serialize_subservices'
Completed 200 OK in 34ms (Views: 0.4ms | ActiveRecord: 2.1ms | Allocations: 19282)


Started POST "/api/v1/subservices/update_all" for ::1 at 2023-10-11 06:12:38 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/jsucaldito84/Avion/Rails/HouseMates App/Server/app/controllers/api/v1/subservices_controller.rb:8: syntax error, unexpected ',', expecting =>
...json: { data = Subservice.all , status: :ok }
...                              ^
):
  
app/controllers/api/v1/subservices_controller.rb:8: syntax error, unexpected ',', expecting =>
Started POST "/api/v1/subservices/update_all" for ::1 at 2023-10-11 06:12:46 +0800
Processing by Api::V1::SubservicesController#update_all as */*
  [1m[36mSubservice Update All (0.3ms)[0m  [1m[33mUPDATE "subservices" SET "category" = $1 WHERE "subservices"."category" IS NULL[0m  [["category", "Category Name"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `update_all'
  [1m[36mSubservice Load (0.1ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices"[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:8:in `update_all'
Completed 200 OK in 38ms (Views: 21.1ms | ActiveRecord: 3.7ms | Allocations: 19305)


Started GET "/api/v1/subservices/1" for ::1 at 2023-10-11 06:13:11 +0800
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:22:in `show'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_id" = $1[0m  [["service_id", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:39:in `serialize_subservices'
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 4.3ms | Allocations: 10116)


Started GET "/api/v1/subservices/1" for ::1 at 2023-10-11 06:13:45 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:22:in `show'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_id" = $1[0m  [["service_id", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:39:in `serialize_subservices'
Completed 200 OK in 48ms (Views: 0.6ms | ActiveRecord: 5.4ms | Allocations: 25541)


DEPRECATION WARNING: `Rails.application.secrets` is deprecated in favor of `Rails.application.credentials` and will be removed in Rails 7.2. (called from <main> at /home/jsucaldito84/Avion/Rails/HouseMates App/Server/config/environment.rb:8)
Started GET "/api/v1/subservices/1" for ::1 at 2023-10-11 06:14:09 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::SubservicesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:22:in `show'
  [1m[36mSubservice Load (0.3ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices" WHERE "subservices"."service_id" = $1[0m  [["service_id", 1]]
  ↳ app/controllers/api/v1/subservices_controller.rb:39:in `serialize_subservices'
Completed 200 OK in 49ms (Views: 0.6ms | ActiveRecord: 5.3ms | Allocations: 25471)


Started POST "/api/v1/subservices/update_all" for ::1 at 2023-10-11 06:15:02 +0800
Processing by Api::V1::SubservicesController#update_all as */*
  [1m[36mSubservice Update All (0.3ms)[0m  [1m[33mUPDATE "subservices" SET "category" = $1 WHERE "subservices"."category" IS NULL[0m  [["category", "Category Name"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `update_all'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices"[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:39:in `serialize_subservices'
Completed 200 OK in 24ms (Views: 0.4ms | ActiveRecord: 2.7ms | Allocations: 6318)


Started POST "/api/v1/subservices/update_all" for ::1 at 2023-10-11 06:15:15 +0800
Processing by Api::V1::SubservicesController#update_all as */*
  [1m[36mSubservice Update All (0.2ms)[0m  [1m[33mUPDATE "subservices" SET "category" = $1 WHERE "subservices"."category" IS NULL[0m  [["category", "Category Name"]]
  ↳ app/controllers/api/v1/subservices_controller.rb:7:in `update_all'
  [1m[36mSubservice Load (0.2ms)[0m  [1m[34mSELECT "subservices".* FROM "subservices"[0m
  ↳ app/controllers/api/v1/subservices_controller.rb:39:in `serialize_subservices'
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 2.6ms | Allocations: 6303)


